{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap","webpack:///./src/services/manager/screen.ts","webpack:///./src/services/env.ts","webpack:///./src/services/manager/uimgr.ts","webpack:///./src/services/navigator/stack.ts","webpack:///./src/services/display/component.ts","webpack:///./src/services/hook.ts","webpack:///./src/services/manager/bg.ts","webpack:///./src/services/navigator/loader.ts","webpack:///./src/services/navigator/init.ts","webpack:///./src/utils/json.ts","webpack:///./src/utils/looper.ts","webpack:///./src/utils/any.ts","webpack:///./src/services/display/popupmanager.ts","webpack:///./src/services/display/toastmanager.ts","webpack:///./src/services/display/baseview.ts","webpack:///./src/index.ts","webpack:///./src/adapter/index.ts","webpack:///./src/adapter/_transsion.ts","webpack:///./src/polyfill.ts","webpack:///./src/services/manager/eft.ts","webpack:///./src/services/speak/index.ts","webpack:///./src/services/speak/_chancel.ts","webpack:///./src/services/speak/_peaks.ts","webpack:///./src/services/speak/_loadres.ts","webpack:///./src/services/audio.ts","webpack:///./src/services/js.ts","webpack:///./src/utils/onload.ts","webpack:///./src/services/event.ts","webpack:///./src/services/runtime.ts","webpack:///./src/services/message.ts","webpack:///./src/services/utils.ts","webpack:///./src/services/display/activity.ts","webpack:///./src/services/display/popupview.ts","webpack:///./src/services/pipeline.ts","webpack:///./src/services/display/toastview.ts","webpack:///./src/utils/query.ts","webpack:///./src/services/init.ts"],"names":["root","factory","exports","module","define","amd","a","i","this","installedModules","__webpack_require__","moduleId","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","bg_1","uimgr_1","_padding_left","_padding_right","_padding_top","_padding_bottom","_design_width","_design_height","_deviation","_autoAdaption","_autoDirection","size","paddingWidth","paddingHeight","clientWidth","window","innerWidth","laya","utils","Browser","clientHeight","innerHeight","initWidth","initHeight","screenRatio","initRatio","Math","abs","getWidth","Laya","stage","width","getHeight","height","getContentWidth","getContentHeight","getDesignWidth","getDesignHeight","getScale","designWidth","designHeight","min","initScreen","is3D","options","_i","arguments","length","_a","Laya3D","init","apply","concat","scaleMode","Stage","SCALE_EXACTFIT","screenMode","SCREEN_HORIZONTAL","SCREEN_VERTICAL","alignH","ALIGN_CENTER","alignV","ALIGN_MIDDLE","initBg","initUI","default","getOffestX","scale","getOffestY","setDeviation","deviation","setPaddingLeft","padding","getPaddingLeft","setPaddingRight","getPaddingRight","setPaddingTop","getPaddingTop","setPaddingBottom","getPaddingBottom","setAutoDirection","auto","setAutoAdaption","adaption","_app_version","_debugOn","isDebug","indexOf","_env","classNameMap","getClassName","obj","str","toString","arr","charAt","match","name_1","e","isLayaApp","isConchApp","getVersion","setAppVersion","version","getAppVersion","setDebug","debug","printError","message","console","error","printDebug","log","getEnv","setEnv","env","_uiManager","_mainUILayer","_topUILayer","stack_1","loader_1","screen_1","_inited","_checkInit","Sprite","mouseThrough","addChild","on","Event","RESIZE","_resizeUI","x","y","scaleX","scaleY","checkFocus","numChildren","getChildAt","setFocus","moveTopToMainLayer","view","parent","removeChild","addViewToMainLayer","addViewTopLayer","_loaders","_all","_length","_getStack","index","len","_showStack","anim","callback","stack","show","_refreshStack","hide","_popStack","count","splice","forEach","exit","focus","navigate","page","params","action","single","open","onShow","onLoaded","loader","push","onLoadProgress","progress","nextProgress","stacks","filter","pop","number","popToTop","finish","instance","_finishStack","extendStatics","__extends","setPrototypeOf","__proto__","Array","b","__","constructor","Component","_super","handleOnTouchOutside","_this","_bgSprite","_bgAlpha","_bgColor","_isTranslucent","_isShow","_handleOnTouchOutside","_canceledOnTouchOutside","_mask","_onEvent","isShow","canceledOnTouchOutside","stopPropagation","configurable","set","bgAlpha","refreshBg","bgColor","isTranslucent","refreshCanceledOnTouchOutside","nonPenetrating","resizeBg","alpha","graphics","clear","drawRect","offAll","ui","CLICK","addChildAt","setTimeout","_inits","callHookInit","onInit","_bgImage","_bgSkin","_bgSizeGrid","_drawSkin","skin","sizeGrid","_resizeBg","Image","setBgSkin","url","setBgColor","color","setBgTexture","load","Handler","texture","fillTexture","getBgSprite","env_1","init_1","json_1","_indexID","default_1","unpackFile","res","_options","_activity","_isFocus","_pageName","visible","_getPageName","loadJson","catch","then","data","map","item","tyep","Loader","IMAGE","Promise","resolve","_newActivity","_onLoaded","_onLoadProgress","onNavigatorReady","onCreate","onNextProgress","activity","easeIn","Ease","linearIn","duration","fromProps","toProps","assign","onResume","Tween","to","easeOut","exitProps","onPause","onDestroy","destroy","onFocus","_isReady","_readyResolve","_readyPromise","_beginLoadStaticRes","commonRes","_onStaticResLoaded","mainPage","initNavigator","fileVersion","ResourceVersion","type","FILENAME_VERSION","enable","setNavigatorReady","_temp","_reject","_listener","force","ERROR","_initListener","reject","JSON","val","getRes","Looper","_tasks","_hasLoop","_checkLoop","timer","frameLoop","task","caller","clearAll","loop","array","where","removeIndexArray_1","reverse","removeItemForWhere","toAny","def","parse","ex","parseFloat","isNaN","_inferType","_toNumber_","_toBoolean_","_toObject_","stringify","_toString_","_popups","_fromProps","_toProps","_exitProps","_hidePopup","result","popupView","cb","uiDuration","uiToProps","uiExitProps","uiEaseOut","linearOut","max","_hidePopupAnim","_onHide","popup","onHide","removeSelf","_showPopup","uiFromProps","uiEaseIn","from","_showPopupAnim","showPopup","alias","mapKey","views","topLevel","hidePopup","v","close","_toasts","_popToast","toast","showToast","_on_hide","displayDuration","_pushToast","hideToast","BaseView","getChildByName","removeChildByName","eft_1","speak_1","audio_1","js_1","event_1","runtime_1","message_1","utils_1","popupmanager_1","toastmanager_1","activity_1","popupview_1","toastview_1","baseview_1","query_1","OHOGame","init3D","start","getQueryString","js","bg","eft","screen","speak","audio","event","runtime","navigator","Activity","PopupView","ToastView","hook_1","HttpRequest","cache","group","ignoreCache","_url","_type","getTypeFromUrl","URL","formatURL","_cache","_data","loadedMap","setGroup","parserMap","_customParse","runWith","_loadImage","_loadSound","_loadTTF","loadRuntime","startsWith","that","response","substr","rt","getFileSystemManager","readFileSync","contentType","preLoadedMap","_http","onProgress","onError","send","info","rw","rh","target","varArgs","TypeError","nextSource","nextKey","writable","_dic","Dictionary","_mcpool","_inst","onLoadComplet","path","mc","play","loadComplet","thisRef","split","stop","off","LOADED","shift","MovieClip","remove","pivotX","pivotY","looper_1","_chancel_1","vowelsByFormantJP","vowelFormantFloorJP","vowelsByFormantCN","vowelFormantFloorCN","SpeakerController","_onPlay","_onStop","_onError","_onProgress","_onComplete","_playTime","_auidoUrl","_position","_duration","_formant","_speaking","_language","_chancel","_update","formant","position","Date","now","onPlay","onStop","onComplete","getFormant","getVowel","formantValue","language","currentVowels","currentVowelFormantCeilValues","getVowelByFormant","isSpeaking","invoke","fixWechatAudioPlay","playSpeak","_peaks_1","_loadres_1","FixAudioContext","AudioContext","webkitAudioContext","mozAudioContext","msAudioContext","_CHANCELS","SpeakerChancel","_audioUrl","_onErrorCallback","amplitudeThreshold","audioCtx","sampleRate","sourceNode","createBufferSource","analyserNode","createAnalyser","fftSize","windowSize","frequencyBinCount","gaussianFilters","generateGaussianFilter","disconnect","connect","currentTime","buffer","currentAudioData","Uint8Array","getByteFrequencyData","currentAudioSpectrum","discreteCosineTransform","amplitudeSum","k","formantArray","smoothedAudioSpectrum","convoluteDataAndFilter","findLocalLargestPeaks","peakValues","peakPositions","frequencyUnit","formantAverage_1","formantVal","loadRes","audioData","decodeAudioData","destination","errorMsg","cancel","getValueFromArray","paddleType","actualIndex","deviationSquare","sum","mu","param","exp","j","sumCos","_","d2","cos","PI","output","filterMiddlePoint","floor","peakNum","lastPeak","lastPeakPositions","isIncreasing","isPeakIncreasing","failure","request","XMLHttpRequest","responseType","onload","onreadystatechange","readyState","status","AudioController","isMusic","_playing","_onPause","_paused","_music","_soundList","stopAll","isPaused","isPlaying","loops","playUrl","targetUrl","replaceExt","ext","Utils","getFileExtension","searchExt","SoundManager","playMusic","playSound","pause","resume","stopMusic","stopSound","removeChannel","_musicAudio","stopAllSound","setMusicVolume","volume","setSoundVolume","onload_1","loadJs","jspath","undefined","jsList","nodeList","_protocol","location","protocol","_script","document","createElement","keys","setAttribute","src","body","appendChild","onerror","err","_loadJS","node","_ready","reslove","_timer","_pollingDocument","clearTimeout","registeredEvent","fun","sort","removeEvent","sendEvent","args","EventDispatcher","pivotCenter","pivot","setViewProps","props","bindClick","onClick","onDown","onUp","onOut","sound","clickSound","MOUSE_DOWN","clickDownProps","clickAnimDuration","MOUSE_UP","clickNormalProps","MOUSE_OUT","btn","Button","btn_img","btn_label","Label","btn_sprite","btn_box","Box","page_list","_isDown","_onLoadMoreHandler","_loading","_preCount","onMouseUp","onMouseOut","onMouseDown","renderHandler","renderItem","refresh","_updatePage","loading","handler","maxHeight","_array","_cellSize","currentPos","_cellOffset","scrollBar","lastCount","preCount","List","page_view","_currentPage","_onPageChange","tweenTo","stopScroll","total","totalPage","changeSize","sss","any_1","_listeners","addEventListener","msg","postMessage","conchMarket","sendMessageToPlatform","resp","onMessage","randomArrayItem","source","random","randomUUID","_s4","substring","randomInteger","minNum","maxNum","randomNumber","randomArray","randomLength","copy","randomObj","back","opts","NewAct","redirectTo","pipeline_1","signleShow","pipeShow","put","next","_pipeline_map","_check","pipe","funcs","func","parseQueryParams","queryString","indexE","indexW","indexQ","decodeURIComponent","stringifyQuery","query","encodeURIComponent","join","decodeQuery","reduce","appendQueryParams","search","reg","RegExp","unescape","_adapterInfo","handleAdapter","setAdapterInfo","adapterInfo","newOptions"],"mappings":"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","file":"index.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(this, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 15);\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar bg_1 = require(\"./bg\");\r\nvar uimgr_1 = require(\"./uimgr\");\r\nvar _padding_left = 0;\r\nvar _padding_right = 0;\r\nvar _padding_top = 0;\r\nvar _padding_bottom = 0;\r\nvar _design_width = 0;\r\nvar _design_height = 0;\r\nvar _deviation = 0;\r\nvar _autoAdaption = true;\r\nvar _autoDirection = false;\r\nfunction size() {\r\n    var paddingWidth = _padding_left + _padding_right;\r\n    var paddingHeight = _padding_top + _padding_bottom;\r\n    var clientWidth = window.innerWidth || laya.utils.Browser.clientWidth;\r\n    var clientHeight = window.innerHeight || laya.utils.Browser.clientHeight;\r\n    var initWidth = _design_width;\r\n    var initHeight = _design_height;\r\n    var screenRatio = 1;\r\n    var initRatio = 1;\r\n    if (!_autoDirection) {\r\n        screenRatio = clientHeight / clientWidth;\r\n        initRatio = initHeight / initWidth;\r\n        if (Math.abs(screenRatio / initRatio - 1) > _deviation) {\r\n            if (screenRatio > initRatio) {\r\n                initHeight = initWidth * screenRatio;\r\n            }\r\n            else if (screenRatio < initRatio) {\r\n                initWidth = initHeight / screenRatio;\r\n            }\r\n        }\r\n    }\r\n    else if (initWidth < initHeight && clientWidth < clientHeight) { // 页面和游戏都是竖屏\r\n        screenRatio = clientHeight / clientWidth;\r\n        initRatio = initHeight / initWidth;\r\n        if (Math.abs(screenRatio / initRatio - 1) > _deviation) {\r\n            if (screenRatio > initRatio) {\r\n                initHeight = initWidth * screenRatio;\r\n            }\r\n            else if (screenRatio < initRatio) {\r\n                initWidth = initHeight / screenRatio;\r\n            }\r\n        }\r\n    }\r\n    else if (initWidth < initHeight && clientWidth >= clientHeight) { // 页面横屏，游戏竖屏\r\n        screenRatio = clientHeight / clientWidth;\r\n        initRatio = initWidth / initHeight;\r\n        if (Math.abs(screenRatio / initRatio - 1) > _deviation) {\r\n            if (screenRatio > initRatio) {\r\n                initWidth = initHeight * screenRatio;\r\n            }\r\n            else if (screenRatio < initRatio) {\r\n                initHeight = initWidth / screenRatio;\r\n            }\r\n        }\r\n    }\r\n    else if (initWidth >= initHeight && clientWidth >= clientHeight) { // 页面和游戏都是横屏\r\n        screenRatio = clientHeight / clientWidth;\r\n        initRatio = initHeight / initWidth;\r\n        if (Math.abs(screenRatio / initRatio - 1) > _deviation) {\r\n            if (screenRatio > initRatio) {\r\n                initHeight = initWidth * screenRatio;\r\n            }\r\n            else if (screenRatio < initRatio) {\r\n                initWidth = initHeight / screenRatio;\r\n            }\r\n        }\r\n    }\r\n    else if (initWidth >= initHeight && clientWidth < clientHeight) { // 页面竖屏，游戏横屏\r\n        screenRatio = clientHeight / clientWidth;\r\n        initRatio = initWidth / initHeight;\r\n        if (Math.abs(screenRatio / initRatio - 1) > _deviation) {\r\n            if (screenRatio > initRatio) {\r\n                initWidth = initHeight * screenRatio;\r\n            }\r\n            else if (screenRatio < initRatio) {\r\n                initHeight = initWidth / screenRatio;\r\n            }\r\n        }\r\n    }\r\n    return {\r\n        initHeight: initHeight + paddingWidth,\r\n        initWidth: initWidth + paddingHeight\r\n    };\r\n}\r\nfunction initScreen(is3D, width, height) {\r\n    var options = [];\r\n    for (var _i = 3; _i < arguments.length; _i++) {\r\n        options[_i - 3] = arguments[_i];\r\n    }\r\n    _design_width = width;\r\n    _design_height = height;\r\n    if (_autoAdaption) {\r\n        var _a = size(), initHeight = _a.initHeight, initWidth = _a.initWidth;\r\n        if (is3D) {\r\n            Laya3D.init.apply(this, [initWidth, initHeight].concat(options));\r\n        }\r\n        else {\r\n            Laya.init.apply(this, [initWidth, initHeight].concat(options));\r\n        }\r\n        Laya.stage.scaleMode = Laya.Stage.SCALE_EXACTFIT;\r\n        if (_autoDirection) {\r\n            if (initWidth > initHeight) {\r\n                Laya.stage.screenMode = Laya.Stage.SCREEN_HORIZONTAL;\r\n            }\r\n            else {\r\n                Laya.stage.screenMode = Laya.Stage.SCREEN_VERTICAL;\r\n            }\r\n        }\r\n        Laya.stage.alignH = Laya.Stage.ALIGN_CENTER;\r\n        Laya.stage.alignV = Laya.Stage.ALIGN_MIDDLE;\r\n    }\r\n    else {\r\n        if (is3D) {\r\n            Laya3D.init.apply(this, [width, height].concat(options));\r\n        }\r\n        else {\r\n            Laya.init.apply(this, [width, height].concat(options));\r\n        }\r\n    }\r\n    bg_1.initBg();\r\n    uimgr_1.initUI();\r\n}\r\nexports.initScreen = initScreen;\r\nfunction getWidth() {\r\n    return Laya.stage.width;\r\n}\r\nfunction getHeight() {\r\n    return Laya.stage.height;\r\n}\r\nfunction getContentWidth() {\r\n    return getWidth() - _padding_left - _padding_right;\r\n}\r\nfunction getContentHeight() {\r\n    return getHeight() - _padding_top - _padding_bottom;\r\n}\r\nfunction setPaddingLeft(padding) {\r\n    _padding_left = padding;\r\n}\r\nfunction getPaddingLeft() {\r\n    return _padding_left;\r\n}\r\nfunction setPaddingRight(padding) {\r\n    _padding_right = padding;\r\n}\r\nfunction getPaddingRight() {\r\n    return _padding_right;\r\n}\r\nfunction setPaddingTop(padding) {\r\n    _padding_top = padding;\r\n}\r\nfunction getPaddingTop() {\r\n    return _padding_top;\r\n}\r\nfunction setPaddingBottom(padding) {\r\n    _padding_bottom = padding;\r\n}\r\nfunction getPaddingBottom() {\r\n    return _padding_bottom;\r\n}\r\nfunction getDesignWidth() {\r\n    return _design_width;\r\n}\r\nfunction getDesignHeight() {\r\n    return _design_height;\r\n}\r\nfunction getScale() {\r\n    var width = getContentWidth();\r\n    var height = getContentHeight();\r\n    var designWidth = getDesignWidth();\r\n    var designHeight = getDesignHeight();\r\n    return Math.min(width / designWidth, height / designHeight);\r\n}\r\nfunction getOffestX() {\r\n    if (!_autoAdaption) {\r\n        return _padding_left;\r\n    }\r\n    var scale = getScale();\r\n    var width = getContentWidth();\r\n    return (width - _design_width * scale) / 2 + _padding_left;\r\n}\r\nfunction getOffestY() {\r\n    if (!_autoAdaption) {\r\n        return _padding_top;\r\n    }\r\n    var scale = getScale();\r\n    var height = getContentHeight();\r\n    return (height - _design_height * scale) / 2 + _padding_top;\r\n}\r\nfunction setDeviation(deviation) {\r\n    _deviation = deviation;\r\n}\r\nfunction setAutoDirection(auto) {\r\n    _autoDirection = auto;\r\n}\r\nfunction setAutoAdaption(adaption) {\r\n    _autoAdaption = adaption;\r\n}\r\nexports.default = {\r\n    getWidth: getWidth,\r\n    getHeight: getHeight,\r\n    getScale: getScale,\r\n    getOffestX: getOffestX,\r\n    getOffestY: getOffestY,\r\n    getContentWidth: getContentWidth,\r\n    getContentHeight: getContentHeight,\r\n    getDesignWidth: getDesignWidth,\r\n    getDesignHeight: getDesignHeight,\r\n    setDeviation: setDeviation,\r\n    setPaddingLeft: setPaddingLeft,\r\n    getPaddingLeft: getPaddingLeft,\r\n    setPaddingRight: setPaddingRight,\r\n    getPaddingRight: getPaddingRight,\r\n    setPaddingTop: setPaddingTop,\r\n    getPaddingTop: getPaddingTop,\r\n    setPaddingBottom: setPaddingBottom,\r\n    getPaddingBottom: getPaddingBottom,\r\n    setAutoDirection: setAutoDirection,\r\n    setAutoAdaption: setAutoAdaption,\r\n};\r\n","\"use strict\";\r\n//////////////////////////\r\n/////  Env\r\n//////////////////////////\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar isLayaApp = function () {\r\n    if (typeof window !== \"undefined\") {\r\n        return window.hasOwnProperty(\"Laya\");\r\n    }\r\n    return false;\r\n};\r\nvar isConchApp = function () {\r\n    if (typeof window !== \"undefined\") {\r\n        return window.hasOwnProperty(\"conch\");\r\n    }\r\n    return false;\r\n};\r\n//////////////////////////\r\n/////  Version\r\n//////////////////////////\r\nvar _app_version = \"${app_version}\";\r\nfunction getAppVersion() {\r\n    if (typeof _app_version === \"string\" && _app_version.indexOf('${') === 0) {\r\n        return;\r\n    }\r\n    return _app_version;\r\n}\r\nfunction setAppVersion(version) {\r\n    _app_version = version;\r\n}\r\n//////////////////////////\r\n/////  Version\r\n//////////////////////////\r\nvar _lib_version = \"1.1.0.1111.1605\";\r\nfunction getVersion() {\r\n    if (typeof _lib_version === \"string\" && _lib_version.indexOf('${') === 0) {\r\n        return '1.0.0';\r\n    }\r\n    return _lib_version;\r\n}\r\n//////////////////////////\r\n/////  Debug\r\n//////////////////////////\r\nvar _debugOn = '${debug}';\r\nfunction isDebug() {\r\n    if (typeof _debugOn === \"string\" && _debugOn.indexOf('${') === 0) {\r\n        return false;\r\n    }\r\n    if (_debugOn == \"false\" || _debugOn == \"0\") {\r\n        return false;\r\n    }\r\n    return !!_debugOn;\r\n}\r\nfunction setDebug(debug) {\r\n    _debugOn = debug;\r\n}\r\nfunction printDebug(message) {\r\n    var options = [];\r\n    for (var _i = 1; _i < arguments.length; _i++) {\r\n        options[_i - 1] = arguments[_i];\r\n    }\r\n    if (isDebug()) {\r\n        console.log.apply(console, [\"[ohosdk]\", \"[OHOGame]\", message].concat(options));\r\n    }\r\n}\r\nfunction printError(message) {\r\n    var options = [];\r\n    for (var _i = 1; _i < arguments.length; _i++) {\r\n        options[_i - 1] = arguments[_i];\r\n    }\r\n    if (isDebug()) {\r\n        console.error.apply(console, [\"[ohosdk]\", \"[OHOGame]\", message].concat(options));\r\n    }\r\n}\r\n//////////////////////////\r\n/////  Env\r\n//////////////////////////\r\nvar _env = '${env}';\r\nfunction setEnv(env) {\r\n    _env = env;\r\n}\r\nfunction getEnv() {\r\n    if (typeof _env === \"string\" && _env.indexOf('${') === 0) {\r\n        return;\r\n    }\r\n    return _env;\r\n}\r\n//////////////////////////\r\n/////  getClassName\r\n//////////////////////////\r\nvar classNameMap = {};\r\nfunction getClassName(obj) {\r\n    try {\r\n        if (obj) {\r\n            if (obj.name) {\r\n                return obj.name;\r\n            }\r\n            if (classNameMap[obj]) {\r\n                return classNameMap[obj];\r\n            }\r\n            var str = obj.toString();\r\n            var arr = void 0;\r\n            if (str.charAt(0) == '[') {\r\n                arr = str.match(/\\w+\\s∗(\\w+)\\w+\\s∗(\\w+)/);\r\n            }\r\n            else {\r\n                arr = str.match(/function\\s*(\\w+)/);\r\n            }\r\n            var name_1 = \"\";\r\n            if (arr && arr.length == 2) {\r\n                name_1 = arr[1];\r\n            }\r\n            classNameMap[obj] = name_1;\r\n            return name_1;\r\n        }\r\n    }\r\n    catch (e) {\r\n    }\r\n    return undefined;\r\n}\r\nexports.getClassName = getClassName;\r\nexports.default = {\r\n    isLayaApp: isLayaApp,\r\n    isConchApp: isConchApp,\r\n    getVersion: getVersion,\r\n    setAppVersion: setAppVersion,\r\n    getAppVersion: getAppVersion,\r\n    isDebug: isDebug,\r\n    setDebug: setDebug,\r\n    printError: printError,\r\n    printDebug: printDebug,\r\n    getEnv: getEnv,\r\n    setEnv: setEnv\r\n};\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar stack_1 = require(\"../navigator/stack\");\r\nvar loader_1 = require(\"../navigator/loader\");\r\nvar screen_1 = require(\"./screen\");\r\nvar _inited = false;\r\nvar _uiManager;\r\nvar _mainUILayer;\r\nvar _topUILayer;\r\nfunction _checkInit() {\r\n    if (!_inited) {\r\n        _inited = true;\r\n        _uiManager = new Laya.Sprite();\r\n        _uiManager.mouseThrough = true;\r\n        _uiManager.name = '_tape_stage';\r\n        _mainUILayer = new Laya.Sprite();\r\n        _mainUILayer.name = '_tape_main_layer';\r\n        _mainUILayer.mouseThrough = true;\r\n        _topUILayer = new Laya.Sprite();\r\n        _topUILayer.name = '_tape_top_layer';\r\n        _topUILayer.mouseThrough = true;\r\n        _uiManager.addChild(_mainUILayer);\r\n        _uiManager.addChild(_topUILayer);\r\n        Laya.stage.addChild(_uiManager);\r\n        Laya.stage.on(Laya.Event.RESIZE, null, function () {\r\n            _resizeUI();\r\n        });\r\n    }\r\n    _resizeUI();\r\n}\r\nfunction _resizeUI() {\r\n    if (_mainUILayer) {\r\n        _mainUILayer.width = screen_1.default.getDesignWidth();\r\n        _mainUILayer.height = screen_1.default.getDesignHeight();\r\n        _mainUILayer.x = screen_1.default.getOffestX();\r\n        _mainUILayer.y = screen_1.default.getOffestY();\r\n    }\r\n    if (_topUILayer) {\r\n        _topUILayer.width = screen_1.default.getDesignWidth();\r\n        _topUILayer.height = screen_1.default.getDesignHeight();\r\n        _topUILayer.x = screen_1.default.getOffestX();\r\n        _topUILayer.y = screen_1.default.getOffestY();\r\n    }\r\n    _uiManager.scaleX = screen_1.default.getScale();\r\n    _uiManager.scaleY = screen_1.default.getScale();\r\n}\r\nfunction initUI() {\r\n    _checkInit();\r\n}\r\nexports.initUI = initUI;\r\nfunction checkFocus() {\r\n    if (_mainUILayer.numChildren > 0) {\r\n        var last = _mainUILayer.getChildAt(_mainUILayer.numChildren - 1);\r\n        if (last instanceof loader_1.default) {\r\n            stack_1.setFocus(true);\r\n            return;\r\n        }\r\n    }\r\n    stack_1.setFocus(false);\r\n}\r\nfunction moveTopToMainLayer(view) {\r\n    _checkInit();\r\n    if (view && view.parent == _mainUILayer) {\r\n        _mainUILayer.removeChild(view);\r\n        _mainUILayer.addChild(view);\r\n    }\r\n    checkFocus();\r\n}\r\nfunction addViewToMainLayer(view) {\r\n    _checkInit();\r\n    view && _mainUILayer.addChild(view);\r\n    checkFocus();\r\n}\r\nfunction addViewTopLayer(view) {\r\n    _checkInit();\r\n    view && _topUILayer.addChild(view);\r\n    checkFocus();\r\n}\r\nexports.default = {\r\n    checkFocus: checkFocus,\r\n    moveTopToMainLayer: moveTopToMainLayer,\r\n    addViewToMainLayer: addViewToMainLayer,\r\n    addViewTopLayer: addViewTopLayer,\r\n};\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar loader_1 = require(\"./loader\");\r\nvar uimgr_1 = require(\"../manager/uimgr\");\r\nvar _loaders = [];\r\nfunction _all() {\r\n    return _loaders;\r\n}\r\nfunction _length() {\r\n    return _loaders.length;\r\n}\r\nfunction _getStack(index) {\r\n    if (index === void 0) { index = 0; }\r\n    var len = _length();\r\n    return len > index ? _loaders[len - 1 - index] : null;\r\n}\r\nfunction _showStack(index, anim, callback) {\r\n    if (index === void 0) { index = 0; }\r\n    if (anim === void 0) { anim = false; }\r\n    if (callback === void 0) { callback = null; }\r\n    var stack = _getStack(index);\r\n    if (!stack) {\r\n        return;\r\n    }\r\n    stack.show(anim && _length() > 1, callback);\r\n}\r\nfunction _pushStack(stack) {\r\n    _loaders.push(stack);\r\n}\r\nfunction _topStack(stack) {\r\n    var index = _loaders.indexOf(stack);\r\n    if (index >= 0) {\r\n        _loaders.splice(index, 1);\r\n        _loaders.push(stack);\r\n        _refreshStack(null);\r\n        uimgr_1.default.moveTopToMainLayer(stack);\r\n    }\r\n}\r\nfunction _refreshStack(callback) {\r\n    _showStack(0, true, function () {\r\n        var stack = _getStack(1);\r\n        if (!stack) {\r\n            return;\r\n        }\r\n        stack.hide();\r\n        callback && callback();\r\n    });\r\n}\r\nfunction _finishStack(stacks) {\r\n    if (!stacks || stacks.length <= 0) {\r\n        return;\r\n    }\r\n    for (var i = 0; _length() > 1 && i < stacks.length; i++) {\r\n        var stack = stacks[i];\r\n        _loaders.splice(_loaders.indexOf(stack), 1);\r\n        stack.hide(true, function () {\r\n            stack.exit();\r\n        });\r\n    }\r\n    _showStack(0);\r\n}\r\nfunction _popStack(count) {\r\n    if (count >= _length()) {\r\n        count = _length() - 1;\r\n    }\r\n    if (count <= 0) {\r\n        return;\r\n    }\r\n    var pops = _loaders.splice(_length() - count, count);\r\n    pops.forEach(function (stack) {\r\n        stack.hide(true, function () {\r\n            stack.exit();\r\n        });\r\n    });\r\n    _showStack(0);\r\n}\r\nfunction setFocus(focus) {\r\n    var stack = _getStack();\r\n    if (stack) {\r\n        stack.focus(focus);\r\n    }\r\n}\r\nexports.setFocus = setFocus;\r\nfunction navigate(page, params, action, single) {\r\n    if (params === void 0) { params = null; }\r\n    if (action === void 0) { action = null; }\r\n    if (single === void 0) { single = false; }\r\n    if (!params) {\r\n        params = {};\r\n    }\r\n    var open = function () {\r\n        new loader_1.default({\r\n            page: page,\r\n            params: params,\r\n            onShow: function () {\r\n                _refreshStack(function () {\r\n                    action && action(true);\r\n                });\r\n            },\r\n            onLoaded: function (loader) {\r\n                uimgr_1.default.addViewToMainLayer(loader);\r\n                _pushStack(loader);\r\n            },\r\n            onLoadProgress: function (loader, progress) {\r\n                var stack = _getStack();\r\n                stack && stack.nextProgress(progress);\r\n            }\r\n        });\r\n    };\r\n    if (single || page.single) {\r\n        var stacks = [];\r\n        _all().forEach(function (stack) {\r\n            if (stack.filter(page)) {\r\n                stacks.push(stack);\r\n            }\r\n        });\r\n        stacks.length > 0 ? _topStack(stacks.pop()) : open();\r\n    }\r\n    else {\r\n        open();\r\n    }\r\n}\r\nfunction popToTop() {\r\n    _popStack(_length());\r\n}\r\nfunction pop(number) {\r\n    if (number === void 0) { number = 1; }\r\n    _popStack(number);\r\n}\r\nfunction finish(page, instance) {\r\n    if (instance === void 0) { instance = null; }\r\n    var stacks = [];\r\n    _all().forEach(function (stack) {\r\n        if (stack.filter(page, instance)) {\r\n            stacks.push(stack);\r\n        }\r\n    });\r\n    _finishStack(stacks);\r\n}\r\nexports.default = {\r\n    navigate: navigate,\r\n    pop: pop,\r\n    popToTop: popToTop,\r\n    finish: finish,\r\n};\r\n","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar screen_1 = require(\"../manager/screen\");\r\nvar baseview_1 = require(\"./baseview\");\r\nvar Component = /** @class */ (function (_super) {\r\n    __extends(Component, _super);\r\n    function Component(handleOnTouchOutside) {\r\n        if (handleOnTouchOutside === void 0) { handleOnTouchOutside = null; }\r\n        var _this = _super.call(this) || this;\r\n        _this._bgSprite = null;\r\n        _this._bgAlpha = 0.5;\r\n        _this._bgColor = '#000000';\r\n        _this._isTranslucent = true;\r\n        _this._isShow = false;\r\n        _this._handleOnTouchOutside = null;\r\n        _this._canceledOnTouchOutside = false;\r\n        _this._mask = false;\r\n        _this._onEvent = null;\r\n        _this._handleOnTouchOutside = handleOnTouchOutside;\r\n        _this._onEvent = function (e) {\r\n            if (_this.isShow && _this.canceledOnTouchOutside) {\r\n                _this._handleOnTouchOutside && _this._handleOnTouchOutside();\r\n            }\r\n            e.stopPropagation();\r\n        };\r\n        _this.initBg();\r\n        return _this;\r\n    }\r\n    Object.defineProperty(Component.prototype, \"bg\", {\r\n        get: function () {\r\n            return this._bgSprite;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Component.prototype, \"isShow\", {\r\n        get: function () {\r\n            return this._isShow;\r\n        },\r\n        set: function (isShow) {\r\n            this._isShow = isShow;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Component.prototype, \"bgAlpha\", {\r\n        get: function () {\r\n            return this._bgAlpha;\r\n        },\r\n        set: function (bgAlpha) {\r\n            this._bgAlpha = bgAlpha;\r\n            this.refreshBg();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Component.prototype, \"bgColor\", {\r\n        get: function () {\r\n            return this._bgColor;\r\n        },\r\n        set: function (bgColor) {\r\n            this._bgColor = bgColor;\r\n            this.refreshBg();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Component.prototype, \"isTranslucent\", {\r\n        get: function () {\r\n            return this._isTranslucent;\r\n        },\r\n        set: function (isTranslucent) {\r\n            this._isTranslucent = isTranslucent;\r\n            this.refreshBg();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Component.prototype, \"canceledOnTouchOutside\", {\r\n        get: function () {\r\n            return this._canceledOnTouchOutside;\r\n        },\r\n        set: function (canceledOnTouchOutside) {\r\n            this._canceledOnTouchOutside = canceledOnTouchOutside;\r\n            this.refreshCanceledOnTouchOutside();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Component.prototype, \"nonPenetrating\", {\r\n        get: function () {\r\n            return this._mask;\r\n        },\r\n        set: function (nonPenetrating) {\r\n            this._mask = nonPenetrating;\r\n            this.refreshCanceledOnTouchOutside();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Component.prototype.refreshBg = function () {\r\n        if (!this._bgSprite) {\r\n            return;\r\n        }\r\n        this.resizeBg();\r\n        this.refreshCanceledOnTouchOutside();\r\n        this._bgSprite.alpha = this.bgAlpha;\r\n        this._bgSprite.graphics.clear();\r\n        if (!this.isTranslucent) {\r\n            this._bgSprite.graphics.drawRect(0, 0, this._bgSprite.width, this._bgSprite.height, this.bgColor);\r\n        }\r\n    };\r\n    Component.prototype.refreshCanceledOnTouchOutside = function () {\r\n        this._bgSprite && this._bgSprite.offAll();\r\n        if ((this.canceledOnTouchOutside || this.nonPenetrating) && this.ui) {\r\n            this.ui.mouseThrough = true;\r\n            this._bgSprite && this._bgSprite.on(Laya.Event.CLICK, this, this._onEvent);\r\n        }\r\n    };\r\n    Component.prototype.initBg = function () {\r\n        var _this = this;\r\n        if (this._bgSprite) {\r\n            return;\r\n        }\r\n        this._bgSprite = new Laya.Sprite();\r\n        this.addChildAt(this._bgSprite, 0);\r\n        setTimeout(function () { _this.refreshBg(); }, 0);\r\n    };\r\n    Component.prototype.resizeBg = function () {\r\n        if (!this._bgSprite) {\r\n            return;\r\n        }\r\n        this._bgSprite.x = -screen_1.default.getOffestX();\r\n        this._bgSprite.y = -screen_1.default.getOffestY();\r\n        this._bgSprite.width = screen_1.default.getWidth();\r\n        this._bgSprite.height = screen_1.default.getHeight();\r\n    };\r\n    return Component;\r\n}(baseview_1.default));\r\nexports.default = Component;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar _inits = [];\r\nfunction callHookInit(width, height) {\r\n    var options = [];\r\n    for (var _i = 2; _i < arguments.length; _i++) {\r\n        options[_i - 2] = arguments[_i];\r\n    }\r\n    _inits.forEach(function (callback) { return callback.apply(void 0, [width, height].concat(options)); });\r\n}\r\nexports.callHookInit = callHookInit;\r\nfunction onInit(callback) {\r\n    if (callback && typeof callback == \"function\" && _inits.indexOf(callback) < 0) {\r\n        _inits.push(callback);\r\n    }\r\n}\r\nexports.default = {\r\n    onInit: onInit\r\n};\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar screen_1 = require(\"./screen\");\r\nvar _bgSprite = null;\r\nvar _bgImage = null;\r\nvar _bgSkin = null;\r\nvar _bgSizeGrid = null;\r\nvar _inited = false;\r\nfunction _checkInit() {\r\n    if (!_inited) {\r\n        _inited = true;\r\n        _bgSprite = new Laya.Sprite;\r\n        _bgSprite.name = '_tape_bg_layer';\r\n        _bgImage = new Laya.Image;\r\n        _bgImage.name = '_bg_image';\r\n        Laya.stage.addChild(_bgSprite);\r\n        Laya.stage.addChild(_bgImage);\r\n        Laya.stage.on(Laya.Event.RESIZE, null, function () {\r\n            _resizeBg();\r\n        });\r\n    }\r\n    _resizeBg();\r\n}\r\nfunction _drawSkin() {\r\n    if (_bgImage) {\r\n        if (_bgSkin) {\r\n            _bgImage.skin = _bgSkin;\r\n        }\r\n        if (_bgSizeGrid) {\r\n            _bgImage.sizeGrid = _bgSizeGrid;\r\n        }\r\n        else {\r\n            _bgImage.sizeGrid = '';\r\n        }\r\n    }\r\n}\r\nfunction _resizeBg() {\r\n    if (_bgSprite) {\r\n        _bgSprite.width = screen_1.default.getWidth();\r\n        _bgSprite.height = screen_1.default.getHeight();\r\n    }\r\n    if (_bgImage) {\r\n        _bgImage.width = screen_1.default.getWidth();\r\n        _bgImage.height = screen_1.default.getHeight();\r\n    }\r\n}\r\nfunction initBg() {\r\n    _checkInit();\r\n    _drawSkin();\r\n}\r\nexports.initBg = initBg;\r\nfunction setBgColor(color) {\r\n    if (!_bgSprite) {\r\n        return;\r\n    }\r\n    _bgSprite.graphics.clear();\r\n    _bgSprite.graphics.drawRect(0, 0, _bgSprite.width, _bgSprite.height, color);\r\n}\r\nfunction setBgSkin(url, sizeGrid) {\r\n    if (sizeGrid === void 0) { sizeGrid = null; }\r\n    _bgSkin = url;\r\n    _bgSizeGrid = sizeGrid;\r\n    _drawSkin();\r\n}\r\nfunction setBgTexture(url) {\r\n    if (!_bgSprite) {\r\n        return;\r\n    }\r\n    _bgSprite.graphics.clear();\r\n    Laya.loader.load(url, Laya.Handler.create(this, function (texture) {\r\n        try {\r\n            _bgSprite.graphics.fillTexture(texture, 0, 0, _bgSprite.width, _bgSprite.height, 'repeat');\r\n        }\r\n        catch (error) {\r\n        }\r\n    }));\r\n}\r\nfunction getBgSprite() {\r\n    return _bgSprite;\r\n}\r\nexports.default = {\r\n    setBgSkin: setBgSkin,\r\n    setBgColor: setBgColor,\r\n    setBgTexture: setBgTexture,\r\n    getBgSprite: getBgSprite,\r\n};\r\n","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar uimgr_1 = require(\"../manager/uimgr\");\r\nvar env_1 = require(\"../env\");\r\nvar init_1 = require(\"./init\");\r\nvar json_1 = require(\"../../utils/json\");\r\nvar _indexID = 1;\r\nfunction genID(obj) {\r\n    var name = env_1.getClassName(obj) || \"Activity\";\r\n    return name + \"$\" + _indexID++;\r\n}\r\nfunction getRes(unpackFile, res) {\r\n    if (unpackFile) {\r\n        return json_1.loadJson(unpackFile, true).catch(function () {\r\n            return [];\r\n        }).then(function (data) {\r\n            return res.concat(data.map(function (item) {\r\n                return {\r\n                    url: item,\r\n                    tyep: Laya.Loader.IMAGE\r\n                };\r\n            }));\r\n        });\r\n    }\r\n    return Promise.resolve(res);\r\n}\r\nvar default_1 = /** @class */ (function (_super) {\r\n    __extends(default_1, _super);\r\n    function default_1(options) {\r\n        var _this = _super.call(this) || this;\r\n        _this._options = null;\r\n        _this._activity = null;\r\n        _this._isShow = false;\r\n        _this._isFocus = false;\r\n        _this._pageName = \"\";\r\n        _this.visible = false;\r\n        _this._options = options;\r\n        _this._pageName = genID(_this._options.page);\r\n        env_1.default.printDebug(\"init\", _this._getPageName());\r\n        getRes(_this._options.page.unpackFile, _this._options.page.res || []).catch(function () {\r\n            return [];\r\n        }).then(function (res) {\r\n            if (res && res.length > 0) {\r\n                Laya.loader.load(res, Laya.Handler.create(_this, function () {\r\n                    _this._newActivity();\r\n                    setTimeout(function () { _this._onLoaded(); }, 100);\r\n                    env_1.default.printDebug(\"onLoaded\", _this._getPageName());\r\n                }), Laya.Handler.create(_this, function (progress) {\r\n                    env_1.default.printDebug(\"onLoadProgress\", _this._getPageName(), progress);\r\n                    _this._onLoadProgress(progress);\r\n                }, null, false));\r\n            }\r\n            else {\r\n                _this._newActivity();\r\n                _this._onLoaded();\r\n                env_1.default.printDebug(\"onLoaded\", _this._getPageName());\r\n                env_1.default.printDebug(\"onLoadProgress\", _this._getPageName(), 1);\r\n            }\r\n        });\r\n        return _this;\r\n    }\r\n    default_1.prototype._getPageName = function () {\r\n        return this._pageName;\r\n    };\r\n    default_1.prototype._newActivity = function () {\r\n        if (this._activity) {\r\n            return;\r\n        }\r\n        this._activity = new this._options.page({\r\n            page: this._options.page,\r\n            params: this._options.params\r\n        });\r\n        this._activity[\"_ID\"] = this._pageName;\r\n        env_1.default.printDebug(\"newActivity\", this._getPageName());\r\n    };\r\n    default_1.prototype._onLoaded = function () {\r\n        var _this = this;\r\n        init_1.onNavigatorReady().then(function () {\r\n            _this._options.onLoaded && _this._options.onLoaded(_this);\r\n            _this.addChild(_this._activity);\r\n            env_1.default.printDebug(\"onCreate\", _this._getPageName());\r\n            _this._activity.onCreate && _this._activity.onCreate();\r\n            _this._options.onShow && _this._options.onShow();\r\n        });\r\n    };\r\n    default_1.prototype._onLoadProgress = function (progress) {\r\n        this._options.onLoadProgress && this._options.onLoadProgress(this, progress);\r\n    };\r\n    default_1.prototype.nextProgress = function (progress) {\r\n        this._activity.onNextProgress && this._activity.onNextProgress(progress);\r\n    };\r\n    default_1.prototype.filter = function (page, activity) {\r\n        if (page === this._options.page) {\r\n            return !activity || activity === this._activity;\r\n        }\r\n        return false;\r\n    };\r\n    default_1.prototype.show = function (anim, callback) {\r\n        if (this.visible) {\r\n            return;\r\n        }\r\n        if (this._isShow) {\r\n            return;\r\n        }\r\n        this._isShow = true;\r\n        var easeIn = this._activity.easeIn || Laya.Ease.linearIn;\r\n        var duration = this._activity.duration || 0;\r\n        var fromProps = this._activity.fromProps || {};\r\n        var toProps = this._activity.toProps || {};\r\n        if (anim && duration > 0) {\r\n            Object.assign(this, fromProps);\r\n            env_1.default.printDebug(\"onResume\", this._getPageName());\r\n            this._activity.onResume && this._activity.onResume();\r\n            this.visible = true;\r\n            Laya.Tween.to(this, toProps, duration, easeIn, Laya.Handler.create(this, function () {\r\n                callback && callback();\r\n            }));\r\n        }\r\n        else {\r\n            env_1.default.printDebug(\"onResume\", this._getPageName());\r\n            this._activity.onResume && this._activity.onResume();\r\n            this.visible = true;\r\n            callback && callback();\r\n        }\r\n        uimgr_1.default.checkFocus();\r\n    };\r\n    default_1.prototype.hide = function (anim, callback) {\r\n        var _this = this;\r\n        if (!this.visible) {\r\n            return;\r\n        }\r\n        if (!this._isShow) {\r\n            return;\r\n        }\r\n        this._isShow = false;\r\n        var easeOut = this._activity.easeOut || Laya.Ease.linearIn;\r\n        var duration = this._activity.duration || 0;\r\n        var fromProps = this._activity.toProps || {};\r\n        var toProps = this._activity.exitProps || {};\r\n        if (anim && duration > 0) {\r\n            Object.assign(this, fromProps);\r\n            env_1.default.printDebug(\"onPause\", this._getPageName());\r\n            this._activity.onPause && this._activity.onPause();\r\n            Laya.Tween.to(this, toProps, duration, easeOut, Laya.Handler.create(this, function () {\r\n                _this.visible = true;\r\n                callback && callback();\r\n            }));\r\n        }\r\n        else {\r\n            env_1.default.printDebug(\"onPause\", this._getPageName());\r\n            this._activity.onPause && this._activity.onPause();\r\n            this.visible = false;\r\n            callback && callback();\r\n        }\r\n        this.focus(false);\r\n    };\r\n    default_1.prototype.exit = function () {\r\n        env_1.default.printDebug(\"onDestroy\", this._getPageName());\r\n        this._activity.onDestroy && this._activity.onDestroy();\r\n        this.destroy();\r\n    };\r\n    default_1.prototype.focus = function (focus) {\r\n        if (this._isFocus === focus) {\r\n            return;\r\n        }\r\n        this._isFocus = focus;\r\n        env_1.default.printDebug(\"onFocus\", this._getPageName(), focus);\r\n        this._activity.onFocus && this._activity.onFocus(focus);\r\n    };\r\n    return default_1;\r\n}(Laya.Component));\r\nexports.default = default_1;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar stack_1 = require(\"./stack\");\r\nvar _options = null;\r\nvar _inited = false;\r\nvar _isReady = false;\r\nvar _readyResolve = null;\r\nvar _readyPromise = new Promise(function (resolve) {\r\n    _readyResolve = resolve;\r\n});\r\nfunction _enableResourceVersion() {\r\n    if (_options && _options.fileVersion) {\r\n        Laya.ResourceVersion.type = Laya.ResourceVersion.FILENAME_VERSION;\r\n        Laya.ResourceVersion.enable(_options.fileVersion, Laya.Handler.create(null, function () {\r\n            _beginLoadStaticRes();\r\n        }));\r\n    }\r\n    else {\r\n        _beginLoadStaticRes();\r\n    }\r\n}\r\nfunction _beginLoadStaticRes() {\r\n    var res = _options.commonRes || [];\r\n    if (res.length > 0) {\r\n        Laya.loader.load(res, Laya.Handler.create(null, function () {\r\n            _onStaticResLoaded();\r\n            _options.onLoaded && _options.onLoaded();\r\n        }), Laya.Handler.create(this, function (progress) {\r\n            _options.onLoadProgress && _options.onLoadProgress(progress);\r\n        }, null, false));\r\n    }\r\n    else {\r\n        _options.onLoadProgress && _options.onLoadProgress(100);\r\n        _options.onLoaded && _options.onLoaded();\r\n        _onStaticResLoaded();\r\n    }\r\n}\r\nfunction _onStaticResLoaded() {\r\n    _options.mainPage && stack_1.default.navigate(_options.mainPage);\r\n}\r\nfunction initNavigator(options) {\r\n    if (!options || _inited) {\r\n        return;\r\n    }\r\n    _options = options;\r\n    _enableResourceVersion();\r\n    _inited = true;\r\n}\r\nexports.initNavigator = initNavigator;\r\nfunction onNavigatorReady() {\r\n    if (_isReady) {\r\n        return Promise.resolve();\r\n    }\r\n    return _readyPromise;\r\n}\r\nexports.onNavigatorReady = onNavigatorReady;\r\nfunction setNavigatorReady() {\r\n    if (_isReady) {\r\n        return;\r\n    }\r\n    _isReady = true;\r\n    _readyResolve();\r\n    _readyResolve = null;\r\n    _readyPromise = null;\r\n}\r\nexports.setNavigatorReady = setNavigatorReady;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar _temp = {};\r\nvar _reject = {};\r\nvar _listener = false;\r\nfunction _initListener() {\r\n    if (_listener) {\r\n        return;\r\n    }\r\n    _listener = true;\r\n    Laya.loader.on(Laya.Event.ERROR, this, function (url) {\r\n        if (_reject[url]) {\r\n            _reject[url](\"load res error: \" + url);\r\n        }\r\n    });\r\n}\r\nfunction loadJson(url, force) {\r\n    var _this = this;\r\n    if (force === void 0) { force = false; }\r\n    if (!force && _temp[url]) {\r\n        return Promise.resolve(_temp[url]);\r\n    }\r\n    _initListener();\r\n    return new Promise(function (resolve, reject) {\r\n        _reject[url] = reject;\r\n        Laya.loader.load([{ url: url, type: Laya.Loader.JSON }], Laya.Handler.create(_this, function () {\r\n            var val = Laya.loader.getRes(url);\r\n            if (val) {\r\n                _temp[url] = val;\r\n                resolve(val);\r\n            }\r\n            else {\r\n                reject();\r\n            }\r\n            delete _reject[url];\r\n        }));\r\n    });\r\n}\r\nexports.loadJson = loadJson;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nfunction removeItemForWhere(array, where) {\r\n    if (typeof where === 'function') {\r\n        var removeIndexArray_1 = [];\r\n        array.forEach(function (value, index) {\r\n            if (where(value)) {\r\n                removeIndexArray_1.push(index);\r\n            }\r\n        });\r\n        removeIndexArray_1.reverse();\r\n        removeIndexArray_1.forEach(function (index) {\r\n            array.splice(index, 1);\r\n        });\r\n    }\r\n}\r\nvar Looper = /** @class */ (function () {\r\n    function Looper() {\r\n        this._tasks = [];\r\n        this._hasLoop = false;\r\n    }\r\n    Looper.prototype._checkLoop = function () {\r\n        var _this = this;\r\n        if (this._tasks.length > 0) {\r\n            if (!this._hasLoop) {\r\n                Laya.timer.frameLoop(1, this, function () {\r\n                    _this._tasks.forEach(function (task) {\r\n                        var caller = task.caller, callback = task.callback;\r\n                        callback.apply(caller);\r\n                    });\r\n                });\r\n                this._hasLoop = true;\r\n            }\r\n        }\r\n        else {\r\n            if (this._hasLoop) {\r\n                Laya.timer.clearAll(this);\r\n                this._hasLoop = false;\r\n            }\r\n        }\r\n    };\r\n    Looper.prototype.loop = function (caller, callback) {\r\n        var filterTasks = this._tasks.filter(function (task) {\r\n            return task.caller == caller && task.callback == callback;\r\n        });\r\n        if (filterTasks.length == 0) {\r\n            this._tasks.push({\r\n                caller: caller,\r\n                callback: callback,\r\n            });\r\n            this._checkLoop();\r\n        }\r\n    };\r\n    Looper.prototype.clear = function (caller, callback) {\r\n        removeItemForWhere(this._tasks, function (task) {\r\n            return task.caller == caller && (!callback || task.callback == callback);\r\n        });\r\n        this._checkLoop();\r\n    };\r\n    return Looper;\r\n}());\r\nexports.Looper = Looper;\r\nexports.default = new Looper;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nfunction _toNumber_(value) {\r\n    try {\r\n        return JSON.parse(value);\r\n    }\r\n    catch (ex) {\r\n        return parseFloat(value);\r\n    }\r\n}\r\nfunction _toBoolean_(value) {\r\n    return !!value && value != 'false' && value != '0';\r\n}\r\nfunction _toString_(value, def) {\r\n    try {\r\n        var type = typeof value;\r\n        if (type === 'string') {\r\n            return value;\r\n        }\r\n        else if (type === 'boolean') {\r\n            return value ? 'true' : 'false';\r\n        }\r\n        else if (type === 'number') {\r\n            return \"\" + value;\r\n        }\r\n        else if (type === 'object') {\r\n            return JSON.stringify(value);\r\n        }\r\n    }\r\n    catch (ex) {\r\n    }\r\n    return def;\r\n}\r\nfunction _toObject_(value, def) {\r\n    if (typeof value === 'object') {\r\n        return value;\r\n    }\r\n    try {\r\n        return JSON.parse(value);\r\n    }\r\n    catch (ex) {\r\n    }\r\n    return def;\r\n}\r\nfunction _inferType(value) {\r\n    if (typeof value !== 'string') {\r\n        return typeof value;\r\n    }\r\n    try {\r\n        var parsed = JSON.parse(value);\r\n        return typeof parsed;\r\n    }\r\n    catch (ex) {\r\n        // might be a pure number\r\n        var number = parseFloat(value);\r\n        if (!isNaN(number) && \"\" + number === value) {\r\n            return 'number';\r\n        }\r\n        return 'string';\r\n    }\r\n}\r\nfunction toAny(value, def) {\r\n    if (value === undefined || value === null) {\r\n        return def;\r\n    }\r\n    // try to infer type and return\r\n    var type = _inferType(value);\r\n    if (def !== undefined && def !== null) {\r\n        type = typeof def;\r\n    }\r\n    switch (type) {\r\n        case 'number':\r\n            return _toNumber_(value);\r\n        case 'boolean':\r\n            return _toBoolean_(value);\r\n        case 'object':\r\n            return _toObject_(value, def);\r\n        case 'string':\r\n            return _toString_(value, def);\r\n        default:\r\n            break;\r\n    }\r\n    return def;\r\n}\r\nexports.toAny = toAny;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar env_1 = require(\"../env\");\r\nvar uimgr_1 = require(\"../manager/uimgr\");\r\nvar _popups = {};\r\nvar _fromProps = { alpha: 0 };\r\nvar _toProps = { alpha: 1 };\r\nvar _exitProps = { alpha: 0 };\r\nfunction _showPopupAnim(popupView, cb) {\r\n    // ui anim\r\n    var uiDuration = popupView.uiDuration || 300;\r\n    var uiFromProps = popupView.uiFromProps || {};\r\n    var uiToProps = popupView.uiToProps || {};\r\n    var uiEaseIn = popupView.uiEaseIn || Laya.Ease.linearIn;\r\n    Object.assign(popupView.ui, uiFromProps);\r\n    Laya.Tween.to(popupView.ui, uiToProps, uiDuration, uiEaseIn);\r\n    // view anim\r\n    var duration = popupView.duration || 300;\r\n    var from = popupView.fromProps || _fromProps || {};\r\n    var to = popupView.toProps || _toProps || {};\r\n    var easeIn = popupView.easeIn || Laya.Ease.linearIn;\r\n    Object.assign(popupView, from);\r\n    Laya.Tween.to(popupView, to, duration, easeIn, Laya.Handler.create(this, function () {\r\n        cb && cb(popupView);\r\n    }));\r\n}\r\nfunction _hidePopupAnim(popupView, cb) {\r\n    // ui anim\r\n    var uiDuration = popupView.uiDuration || 300;\r\n    var uiToProps = popupView.uiToProps || {};\r\n    var uiExitProps = popupView.uiExitProps || {};\r\n    var uiEaseOut = popupView.uiEaseOut || Laya.Ease.linearOut;\r\n    Object.assign(popupView.ui, uiToProps);\r\n    Laya.Tween.to(popupView.ui, uiExitProps, uiDuration, uiEaseOut);\r\n    // view anim\r\n    var duration = popupView.duration || 300;\r\n    var toProps = popupView.toProps || _toProps || {};\r\n    var exitProps = popupView.exitProps || _exitProps || {};\r\n    var easeOut = popupView.easeOut || Laya.Ease.linearOut;\r\n    Object.assign(popupView, toProps);\r\n    Laya.Tween.to(popupView, exitProps, duration, easeOut, Laya.Handler.create(this, function () {\r\n        cb && cb(popupView);\r\n    }), Math.max(0, uiDuration - duration));\r\n}\r\nfunction _hidePopup(view, result) {\r\n    _hidePopupAnim(view, function () {\r\n        view._onHide && view._onHide(view.popup, result);\r\n        view.isShow = false;\r\n        view.onHide && view.onHide(view.popup, result);\r\n        view.removeSelf && view.removeSelf();\r\n        view.destroy && view.destroy();\r\n        uimgr_1.default.checkFocus();\r\n    });\r\n}\r\nfunction _showPopup(view) {\r\n    _showPopupAnim(view, function () {\r\n        view.isShow = true;\r\n    });\r\n}\r\nfunction showPopup(popup, params, onHide, alias) {\r\n    if (params === void 0) { params = null; }\r\n    if (onHide === void 0) { onHide = null; }\r\n    if (alias === void 0) { alias = \"default\"; }\r\n    var mapKey = alias + \"_\" + env_1.getClassName(popup);\r\n    var views = _popups[mapKey];\r\n    var view = new popup();\r\n    view.alias = alias;\r\n    view.popup = popup;\r\n    view.params = params || {};\r\n    view._onHide = onHide;\r\n    if (views) {\r\n        views.push(view);\r\n    }\r\n    else {\r\n        _popups[mapKey] = [view];\r\n    }\r\n    if (view.topLevel) {\r\n        uimgr_1.default.addViewTopLayer(view);\r\n    }\r\n    else {\r\n        uimgr_1.default.addViewToMainLayer(view);\r\n    }\r\n    view.onShow && view.onShow();\r\n    _showPopup(view);\r\n}\r\nfunction hidePopup(popup, view, result, alias) {\r\n    if (view === void 0) { view = null; }\r\n    if (result === void 0) { result = {}; }\r\n    if (alias === void 0) { alias = \"default\"; }\r\n    var mapKey = alias + \"_\" + env_1.getClassName(popup);\r\n    var views = _popups[mapKey];\r\n    if (view) {\r\n        var index = views ? views.indexOf(view) : -1;\r\n        if (index < 0) {\r\n            return;\r\n        }\r\n        views.splice(index, 1);\r\n        _hidePopup(view, result);\r\n    }\r\n    else {\r\n        views && views.splice(0, views.length).forEach(function (v) {\r\n            _hidePopup(v, result || { close: true });\r\n        });\r\n    }\r\n}\r\nexports.default = {\r\n    showPopup: showPopup,\r\n    hidePopup: hidePopup\r\n};\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar uimgr_1 = require(\"../manager/uimgr\");\r\nvar _toasts = {};\r\nfunction _pushToast(toast, view) {\r\n    if (_toasts[toast]) {\r\n        _toasts[toast].push(view);\r\n    }\r\n    else {\r\n        _toasts[toast] = [view];\r\n    }\r\n}\r\nfunction _popToast(toast, view) {\r\n    if (!_toasts[toast]) {\r\n        return [];\r\n    }\r\n    if (view && _toasts[toast].length > 1) {\r\n        _toasts[toast].splice(_toasts[toast].indexOf(view), 1);\r\n        return [view];\r\n    }\r\n    else {\r\n        var views = _toasts[toast] || [];\r\n        delete _toasts[toast];\r\n        return views;\r\n    }\r\n}\r\nfunction showToast(toast, params, onHide) {\r\n    if (params === void 0) { params = null; }\r\n    if (onHide === void 0) { onHide = null; }\r\n    var view = new toast;\r\n    view._on_hide = onHide;\r\n    view.toast = toast;\r\n    view.params = params || {};\r\n    view.onShow && view.onShow();\r\n    var from = view.fromProps || { alpha: 0 };\r\n    var to = view.toProps || { alpha: 1 };\r\n    var exit = view.exitProps || { alpha: 0 };\r\n    var easeIn = view.easeIn || Laya.Ease.linearIn;\r\n    var easeOut = view.easeOut || Laya.Ease.linearOut;\r\n    var duration = view.duration;\r\n    var displayDuration = view.displayDuration;\r\n    Object.assign(view, from);\r\n    Laya.Tween.to(view, to, duration, easeIn, Laya.Handler.create(this, function () {\r\n        view.isShow = true;\r\n    }), 0);\r\n    if (displayDuration != -1) {\r\n        Laya.Tween.to(view, exit, duration, easeOut, Laya.Handler.create(this, function () {\r\n            if (view) {\r\n                _popToast(toast, view);\r\n                view._on_hide && view._on_hide(view.toast);\r\n                view.isShow = false;\r\n                view.onHide && view.onHide();\r\n                view.destroy();\r\n            }\r\n        }), displayDuration + duration);\r\n    }\r\n    _pushToast(toast, view);\r\n    if (view.topLevel) {\r\n        uimgr_1.default.addViewTopLayer(view);\r\n    }\r\n    else {\r\n        uimgr_1.default.addViewToMainLayer(view);\r\n    }\r\n}\r\nfunction hideToast(toast, view) {\r\n    if (view === void 0) { view = null; }\r\n    var list = _popToast(toast, view);\r\n    list.forEach(function (view) {\r\n        view._on_hide && view._on_hide(view.toast);\r\n        view.isShow = false;\r\n        view.onHide && view.onHide();\r\n        view.destroy();\r\n    });\r\n}\r\nexports.default = {\r\n    showToast: showToast,\r\n    hideToast: hideToast,\r\n};\r\n","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar BaseView = /** @class */ (function (_super) {\r\n    __extends(BaseView, _super);\r\n    function BaseView() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    Object.defineProperty(BaseView.prototype, \"ui\", {\r\n        get: function () {\r\n            return this.getChildByName('_contentView');\r\n        },\r\n        set: function (view) {\r\n            this.removeChildByName('_contentView');\r\n            view.name = '_contentView';\r\n            view.mouseThrough = true;\r\n            this.addChild(view);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return BaseView;\r\n}(Laya.Component));\r\nexports.default = BaseView;\r\n","\"use strict\";\r\nrequire(\"./adapter\");\r\nrequire(\"./polyfill\");\r\nvar bg_1 = require(\"./services/manager/bg\");\r\nvar eft_1 = require(\"./services/manager/eft\");\r\nvar screen_1 = require(\"./services/manager/screen\");\r\nvar speak_1 = require(\"./services/speak\");\r\nvar audio_1 = require(\"./services/audio\");\r\nvar env_1 = require(\"./services/env\");\r\nvar js_1 = require(\"./services/js\");\r\nvar event_1 = require(\"./services/event\");\r\nvar runtime_1 = require(\"./services/runtime\");\r\nvar message_1 = require(\"./services/message\");\r\nvar utils_1 = require(\"./services/utils\");\r\nvar stack_1 = require(\"./services/navigator/stack\");\r\nvar popupmanager_1 = require(\"./services/display/popupmanager\");\r\nvar toastmanager_1 = require(\"./services/display/toastmanager\");\r\nvar activity_1 = require(\"./services/display/activity\");\r\nvar popupview_1 = require(\"./services/display/popupview\");\r\nvar toastview_1 = require(\"./services/display/toastview\");\r\nvar baseview_1 = require(\"./services/display/baseview\");\r\nvar query_1 = require(\"./utils/query\");\r\nvar init_1 = require(\"./services/init\");\r\nvar OHOGame = Object.assign({}, {\r\n    init: init_1.init,\r\n    init3D: init_1.init3D,\r\n    start: init_1.start,\r\n    getQueryString: query_1.getQueryString,\r\n    env: env_1.default,\r\n    js: js_1.default,\r\n    bg: bg_1.default,\r\n    eft: eft_1.default,\r\n    screen: screen_1.default,\r\n    speak: speak_1.default,\r\n    audio: audio_1.default,\r\n    event: event_1.default,\r\n    runtime: runtime_1.default,\r\n    navigator: stack_1.default,\r\n    utils: utils_1.default,\r\n    popup: popupmanager_1.default,\r\n    toast: toastmanager_1.default,\r\n    message: message_1.default,\r\n    Activity: activity_1.default,\r\n    PopupView: popupview_1.default,\r\n    ToastView: toastview_1.default,\r\n    BaseView: baseview_1.default\r\n});\r\nif (typeof window !== \"undefined\") {\r\n    window.OHOGame = OHOGame;\r\n}\r\nmodule.exports = {\r\n    OHOGame: OHOGame\r\n};\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nrequire(\"./_transsion\");\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar hook_1 = require(\"../services/hook\");\r\n// loader\r\nif (Laya && Laya.Loader) {\r\n    var Handler = Laya.Handler;\r\n    var Loader = Laya.Loader;\r\n    var HttpRequest = Laya.HttpRequest;\r\n    var __proto = Loader.prototype;\r\n    __proto.load = function (url, type, cache, group, ignoreCache) {\r\n        (cache === void 0) && (cache = true);\r\n        (ignoreCache === void 0) && (ignoreCache = false);\r\n        this._url = url;\r\n        if (url.indexOf(\"data:image\") === 0)\r\n            this._type = type = \"image\";\r\n        else {\r\n            this._type = type || (type = this.getTypeFromUrl(url));\r\n            url = Laya.URL.formatURL(url);\r\n        }\r\n        this._cache = cache;\r\n        this._data = null;\r\n        if (!ignoreCache && Loader.loadedMap[url]) {\r\n            this._data = Loader.loadedMap[url];\r\n            this.event(/*laya.events.Event.PROGRESS*/ \"progress\", 1);\r\n            this.event(/*laya.events.Event.COMPLETE*/ \"complete\", this._data);\r\n            return;\r\n        }\r\n        if (group)\r\n            Loader.setGroup(url, group);\r\n        if (Loader.parserMap[type] != null) {\r\n            this._customParse = true;\r\n            if (((Loader.parserMap[type]) instanceof Handler))\r\n                Loader.parserMap[type].runWith(this);\r\n            else\r\n                Loader.parserMap[type].call(null, this);\r\n            return;\r\n        }\r\n        if (type === \"image\" || type === \"htmlimage\" || type === \"nativeimage\")\r\n            return this._loadImage(url);\r\n        if (type === \"sound\")\r\n            return this._loadSound(url);\r\n        if (type === \"ttf\")\r\n            return this._loadTTF(url);\r\n        try {\r\n            // 在这里，插入添加适配读取本地资源\r\n            if (typeof loadRuntime !== 'undefined' && !url.startsWith(\"http\")) {\r\n                var that = this;\r\n                setTimeout(function () {\r\n                    if (url.startsWith('file://')) {\r\n                        url = url.substr('file://'.length);\r\n                    }\r\n                    var response;\r\n                    if (type == 'pkm' || type === \"arraybuffer\") {\r\n                        response = rt.getFileSystemManager().readFileSync(url);\r\n                    }\r\n                    else {\r\n                        response = rt.getFileSystemManager().readFileSync(url, \"utf8\");\r\n                        if ((type == 'atlas' || type == 'json') && typeof response !== \"undefined\") {\r\n                            response = JSON.parse(response);\r\n                        }\r\n                    }\r\n                    that.onLoaded(response);\r\n                }, 0);\r\n                return; //这里记得 return\r\n            }\r\n        }\r\n        catch (error) {\r\n        }\r\n        // 添加适配代码结束，下面是原本 laya 代码\r\n        var contentType;\r\n        switch (type) {\r\n            case \"atlas\":\r\n            case \"plf\":\r\n                contentType = \"json\";\r\n                break;\r\n            case \"font\":\r\n                contentType = \"xml\";\r\n                break;\r\n            case \"pkm\":\r\n                contentType = \"arraybuffer\";\r\n                break;\r\n            default:\r\n                contentType = type;\r\n        }\r\n        if (Loader.preLoadedMap[url]) {\r\n            this.onLoaded(Loader.preLoadedMap[url]);\r\n        }\r\n        else {\r\n            if (!this._http) {\r\n                this._http = new HttpRequest();\r\n                this._http.on(/*laya.events.Event.PROGRESS*/ \"progress\", this, this.onProgress);\r\n                this._http.on(/*laya.events.Event.ERROR*/ \"error\", this, this.onError);\r\n                this._http.on(/*laya.events.Event.COMPLETE*/ \"complete\", this, this.onLoaded);\r\n            }\r\n            this._http.send(url, null, \"get\", contentType);\r\n        }\r\n    };\r\n}\r\n// ui\r\nhook_1.default.onInit(function (width, height) {\r\n    if (typeof window !== \"undefined\" && typeof window['getAdapterInfo'] !== \"undefined\") {\r\n        var stage = Laya.stage;\r\n        var info = window['getAdapterInfo']({ width: width, height: height, scaleMode: Laya.stage.scaleMode });\r\n        stage.width = info.rw;\r\n        stage.height = info.rh;\r\n    }\r\n});\r\n","if (typeof Object.assign != 'function') {\r\n    // Must be writable: true, enumerable: false, configurable: true\r\n    Object.defineProperty(Object, \"assign\", {\r\n        value: function assign(target, varArgs) {\r\n            'use strict';\r\n            if (target == null) { // TypeError if undefined or null\r\n                throw new TypeError('Cannot convert undefined or null to object');\r\n            }\r\n            var to = Object(target);\r\n            for (var index = 1; index < arguments.length; index++) {\r\n                var nextSource = arguments[index];\r\n                if (nextSource != null) { // Skip over if undefined or null\r\n                    for (var nextKey in nextSource) {\r\n                        // Avoid bugs when hasOwnProperty is shadowed\r\n                        if (Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {\r\n                            to[nextKey] = nextSource[nextKey];\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            return to;\r\n        },\r\n        writable: true,\r\n        configurable: true\r\n    });\r\n}\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar _dic = new Laya.Dictionary();\r\nvar _mcpool = new Laya.Dictionary();\r\nvar _inst = {};\r\nfunction onLoadComplet(path, mc, play, loop, loadComplet, thisRef) {\r\n    var arr = _dic[path].arr;\r\n    for (var i = 0; i < arr.length; i++) {\r\n        arr[i][0][\"_url\"] = path;\r\n        arr[i][0][\"_atlasPath\"] = path.split(\".swf\")[0] + \".json\";\r\n        arr[i][0][\"_onLoaded\"]();\r\n        if (arr[i][1])\r\n            arr[i][0].play(0, arr[i][2]);\r\n        else\r\n            arr[i][0].stop();\r\n        if (arr[i][3]) {\r\n            arr[i][3].apply(arr[i][4], [arr[i][0]]);\r\n        }\r\n    }\r\n    if (play) {\r\n        mc.play(0, loop);\r\n    }\r\n    else {\r\n        mc.stop();\r\n    }\r\n    if (loadComplet) {\r\n        loadComplet.apply(thisRef, [mc]);\r\n    }\r\n    _dic[path].arr = [];\r\n    mc.off(Laya.Event.LOADED, _inst, onLoadComplet);\r\n    _dic[path].load = true;\r\n}\r\nfunction remove(mc) {\r\n    if (!mc) {\r\n        return;\r\n    }\r\n    mc.scaleX = mc.scaleY = 1;\r\n    mc.pivotX = mc.pivotY = 0;\r\n    mc[\"anchorX\"] = mc[\"anchorY\"] = 0;\r\n    mc.alpha = 1;\r\n    Laya.Tween.clearAll(mc);\r\n    mc.stop();\r\n    if (mc.parent)\r\n        mc.parent.removeChild(mc);\r\n    _mcpool[mc[\"path\"]].push(mc);\r\n}\r\nfunction create(path, play, loop, loadComplet, thisRef) {\r\n    if (play === void 0) { play = true; }\r\n    if (loop === void 0) { loop = true; }\r\n    if (loadComplet === void 0) { loadComplet = null; }\r\n    if (thisRef === void 0) { thisRef = null; }\r\n    var mc;\r\n    if (!_mcpool[path])\r\n        _mcpool[path] = [];\r\n    if (_mcpool[path].length > 0) {\r\n        mc = _mcpool[path].shift();\r\n    }\r\n    else {\r\n        mc = new Laya.MovieClip();\r\n    }\r\n    mc[\"path\"] = path;\r\n    if (_dic[path]) {\r\n        if (_dic[path].load) {\r\n            mc[\"_url\"] = path;\r\n            mc[\"_atlasPath\"] = path.split(\".swf\")[0] + \".json\";\r\n            mc[\"_onLoaded\"]();\r\n            if (play)\r\n                mc.play(0, loop);\r\n            else\r\n                mc.stop();\r\n            if (loadComplet)\r\n                loadComplet.apply(thisRef, [mc]);\r\n        }\r\n        else {\r\n            _dic[path].arr.push([mc, play, loop, loadComplet, thisRef]);\r\n        }\r\n    }\r\n    else {\r\n        _dic[path] = { load: false, arr: [] };\r\n        mc.on(Laya.Event.LOADED, _inst, onLoadComplet, [path, mc, play, loop, loadComplet, thisRef]);\r\n        mc.load(path, true);\r\n    }\r\n    return mc;\r\n}\r\nexports.default = {\r\n    create: create,\r\n    remove: remove\r\n};\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar looper_1 = require(\"../../utils/looper\");\r\nvar _chancel_1 = require(\"./_chancel\");\r\nvar vowelsByFormantJP = [\"i\", \"u\", \"e\", \"o\", \"a\"];\r\nvar vowelFormantFloorJP = [0, 500, 600, 900, 1200];\r\nvar vowelsByFormantCN = [\"i\", \"v\", \"u\", \"e\", \"o\", \"a\"];\r\nvar vowelFormantFloorCN = [0, 200, 500, 600, 900, 1200];\r\nfunction getVowelByFormant(formantValue, language) {\r\n    var result = \"-\";\r\n    var currentVowels = vowelsByFormantCN;\r\n    var currentVowelFormantCeilValues = vowelFormantFloorCN;\r\n    if (language == 'jp' || language == 'japanese') {\r\n        currentVowels = vowelsByFormantJP;\r\n        currentVowelFormantCeilValues = vowelFormantFloorJP;\r\n    }\r\n    for (var m = 0; m < currentVowelFormantCeilValues.length; m++) {\r\n        if (formantValue > currentVowelFormantCeilValues[m]) {\r\n            result = currentVowels[m];\r\n        }\r\n    }\r\n    return result;\r\n}\r\nfunction fixWechatAudioPlay(callback) {\r\n    if (window && window['WeixinJSBridge']) {\r\n        try {\r\n            window['WeixinJSBridge'].invoke(\"getNetworkType\", {}, function () {\r\n                callback && callback();\r\n            });\r\n        }\r\n        catch (e) {\r\n            callback && callback();\r\n        }\r\n    }\r\n    else {\r\n        callback && callback();\r\n    }\r\n}\r\nvar SpeakerController = /** @class */ (function () {\r\n    function SpeakerController() {\r\n        this._onPlay = null;\r\n        this._onStop = null;\r\n        this._onError = null;\r\n        this._onProgress = null;\r\n        this._onComplete = null;\r\n        this._playTime = 0;\r\n        this._auidoUrl = null;\r\n        this._position = -1;\r\n        this._duration = -1;\r\n        this._formant = null;\r\n        this._speaking = false;\r\n        this._language = \"chinese\";\r\n        this._chancel = null;\r\n    }\r\n    SpeakerController.prototype._update = function () {\r\n        if (this._chancel) {\r\n            this._formant = this._chancel.formant;\r\n            this._position = this._chancel.position;\r\n            this._duration = this._chancel.duration;\r\n            if (!this._speaking && this._position > 0) {\r\n                this._speaking = true;\r\n                this._onPlay && this._onPlay();\r\n            }\r\n            if (this._speaking && this._duration > 0) {\r\n                if (this._position > this._duration) {\r\n                    this._onComplete && this._onComplete();\r\n                    this.stop();\r\n                }\r\n                else {\r\n                    this._onProgress && this._onProgress({\r\n                        position: this._position,\r\n                        duration: this._duration,\r\n                    });\r\n                }\r\n            }\r\n            else if (Date.now() - this._playTime > 2000) {\r\n                this._onError && this._onError();\r\n                this.stop();\r\n            }\r\n        }\r\n    };\r\n    Object.defineProperty(SpeakerController.prototype, \"url\", {\r\n        get: function () {\r\n            return this._auidoUrl;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(SpeakerController.prototype, \"position\", {\r\n        get: function () {\r\n            return this._position;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(SpeakerController.prototype, \"duration\", {\r\n        get: function () {\r\n            return this._duration;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    SpeakerController.prototype.onPlay = function (callback) {\r\n        this._onPlay = callback;\r\n    };\r\n    SpeakerController.prototype.onStop = function (callback) {\r\n        this._onStop = callback;\r\n    };\r\n    SpeakerController.prototype.onProgress = function (callback) {\r\n        this._onProgress = callback;\r\n    };\r\n    SpeakerController.prototype.onComplete = function (callback) {\r\n        this._onComplete = callback;\r\n    };\r\n    SpeakerController.prototype.onError = function (callback) {\r\n        this._onError = callback;\r\n    };\r\n    SpeakerController.prototype.getFormant = function () {\r\n        return this._formant;\r\n    };\r\n    SpeakerController.prototype.getVowel = function () {\r\n        return getVowelByFormant(this._formant, this._language);\r\n    };\r\n    SpeakerController.prototype.isSpeaking = function () {\r\n        return this._speaking;\r\n    };\r\n    SpeakerController.prototype.speak = function (url, language) {\r\n        var _this = this;\r\n        if (language === void 0) { language = 'chinese'; }\r\n        this._auidoUrl = url;\r\n        this._language = language;\r\n        fixWechatAudioPlay(function () {\r\n            if (_this._auidoUrl) {\r\n                _this.stop();\r\n                _this._playTime = Date.now();\r\n                _this._chancel = _chancel_1.default.playSpeak(_this._auidoUrl, _this._onError);\r\n                looper_1.default.loop(_this, _this._update);\r\n            }\r\n        });\r\n    };\r\n    SpeakerController.prototype.stop = function () {\r\n        if (!this._chancel) {\r\n            return;\r\n        }\r\n        if (!this._speaking) {\r\n            return;\r\n        }\r\n        this._onStop && this._onStop();\r\n        this._chancel.stop();\r\n        this._chancel = null;\r\n        this._speaking = false;\r\n        looper_1.default.clear(this, this._update);\r\n    };\r\n    return SpeakerController;\r\n}());\r\nfunction create() {\r\n    return new SpeakerController;\r\n}\r\nexports.default = {\r\n    create: create\r\n};\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar _peaks_1 = require(\"./_peaks\");\r\nvar _loadres_1 = require(\"./_loadres\");\r\nvar FixAudioContext = AudioContext || webkitAudioContext\r\n    || mozAudioContext || msAudioContext;\r\nvar _CHANCELS = [];\r\nvar SpeakerChancel = /** @class */ (function () {\r\n    function SpeakerChancel(url, onError) {\r\n        this._audioUrl = url;\r\n        this._onErrorCallback = onError;\r\n        this.amplitudeThreshold = 0.02;\r\n        this.audioCtx = new FixAudioContext({ sampleRate: 44100 });\r\n        this.sourceNode = this.audioCtx.createBufferSource();\r\n        this.analyserNode = this.audioCtx.createAnalyser();\r\n        this.analyserNode.fftSize = 2048;\r\n        this.windowSize = this.analyserNode.frequencyBinCount;\r\n        this.gaussianFilters = _peaks_1.default.generateGaussianFilter(7, 5);\r\n        this.sourceNode.disconnect();\r\n        this.sourceNode.connect(this.analyserNode);\r\n    }\r\n    Object.defineProperty(SpeakerChancel.prototype, \"url\", {\r\n        get: function () {\r\n            return this._audioUrl;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(SpeakerChancel.prototype, \"position\", {\r\n        get: function () {\r\n            return this.audioCtx && this.audioCtx.currentTime || 0;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(SpeakerChancel.prototype, \"duration\", {\r\n        get: function () {\r\n            return this.sourceNode\r\n                && this.sourceNode.buffer\r\n                && this.sourceNode.buffer.duration || 0;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(SpeakerChancel.prototype, \"formant\", {\r\n        get: function () {\r\n            var currentAudioData = new Uint8Array(this.windowSize);\r\n            this.analyserNode.getByteFrequencyData(currentAudioData);\r\n            var currentAudioSpectrum = _peaks_1.default.discreteCosineTransform(currentAudioData);\r\n            var amplitudeSum = 0.0;\r\n            for (var k = 0; k < currentAudioSpectrum.length; k++) {\r\n                amplitudeSum += currentAudioSpectrum[k];\r\n            }\r\n            if (amplitudeSum >= this.amplitudeThreshold) {\r\n                var formantArray = [];\r\n                var smoothedAudioSpectrum = _peaks_1.default.convoluteDataAndFilter(currentAudioSpectrum, this.gaussianFilters, \"Repet\");\r\n                var _a = _peaks_1.default.findLocalLargestPeaks(smoothedAudioSpectrum, 3), peakValues = _a.peakValues, peakPositions = _a.peakPositions;\r\n                var frequencyUnit = this.audioCtx.sampleRate / this.windowSize;\r\n                for (var i = 0; i < peakPositions.length; i++) {\r\n                    formantArray[i] = peakPositions[i] * (peakValues[i] / frequencyUnit);\r\n                }\r\n                var formantAverage_1 = 0;\r\n                formantArray.forEach(function (formantVal) {\r\n                    formantAverage_1 += formantVal;\r\n                });\r\n                return formantAverage_1 / formantArray.length;\r\n            }\r\n            return 0;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    SpeakerChancel.prototype.play = function () {\r\n        var _this = this;\r\n        _loadres_1.default.loadRes(this._audioUrl, function (audioData) {\r\n            _this.audioCtx.decodeAudioData(audioData, function (buffer) {\r\n                _this.sourceNode.buffer = buffer;\r\n                _this.sourceNode.connect(_this.analyserNode);\r\n                _this.sourceNode.connect(_this.audioCtx.destination);\r\n                _this.sourceNode.start();\r\n            }, function (e) {\r\n                var errorMsg = \"error decoding audio data: \" + _this._audioUrl;\r\n                _this._onErrorCallback && _this._onErrorCallback(errorMsg, e);\r\n            });\r\n        }, function () {\r\n            var errorMsg = \"load audio failure: \" + _this._audioUrl;\r\n            _this._onErrorCallback && _this._onErrorCallback(errorMsg);\r\n        });\r\n    };\r\n    SpeakerChancel.prototype.stop = function () {\r\n        var indexOf = _CHANCELS.indexOf(this);\r\n        if (indexOf >= 0) {\r\n            _CHANCELS.splice(indexOf, 1);\r\n        }\r\n        try {\r\n            if (this.sourceNode) {\r\n                this.sourceNode.stop();\r\n            }\r\n        }\r\n        catch (error) {\r\n        }\r\n    };\r\n    return SpeakerChancel;\r\n}());\r\nexports.SpeakerChancel = SpeakerChancel;\r\nfunction playSpeak(url, onError) {\r\n    var cancel = new SpeakerChancel(url, onError);\r\n    cancel.play();\r\n    _CHANCELS.push(cancel);\r\n    return cancel;\r\n}\r\nexports.default = {\r\n    playSpeak: playSpeak\r\n};\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nfunction getValueFromArray(data, index, paddleType) {\r\n    if (index >= 0 && index < data.length) {\r\n        return data[index];\r\n    }\r\n    else {\r\n        switch (paddleType) {\r\n            case \"Zero\":\r\n                return 0;\r\n            case \"Repeat\":\r\n                return index < 0 ? data[0] : data[data.length - 1];\r\n            case \"Loop\":\r\n                var actualIndex = index;\r\n                while (actualIndex < 0) {\r\n                    actualIndex += data.length;\r\n                }\r\n                actualIndex %= data.length;\r\n                return data[actualIndex];\r\n            default:\r\n                return 0;\r\n        }\r\n    }\r\n}\r\nfunction generateGaussianFilter(size, deviationSquare) {\r\n    var result = [];\r\n    var sum = 0;\r\n    var mu = (size - 1) / 2;\r\n    for (var i = 0; i < size; i++) {\r\n        var param = -((i - mu) * (i - mu)) / (2 * deviationSquare);\r\n        result[i] = Math.exp(param);\r\n        sum += result[i];\r\n    }\r\n    for (var j = 0; j < size; j++) {\r\n        result[j] /= sum;\r\n    }\r\n    return result;\r\n}\r\nfunction discreteCosineTransform(data) {\r\n    var result = [];\r\n    var sumCos = 0;\r\n    data.forEach(function (_, i) {\r\n        sumCos = 0;\r\n        data.forEach(function (d2, j) {\r\n            sumCos += d2 * Math.cos((Math.PI / data.length) * i * (j + 0.5));\r\n        });\r\n        result[i] = Math.abs(sumCos);\r\n    });\r\n    return result;\r\n}\r\n/**\r\n * Convolute data and filter. Result is sent to output, which must not be shorter than data.\r\n */\r\nfunction convoluteDataAndFilter(data, filter, paddleType) {\r\n    if (paddleType === void 0) { paddleType = \"Repeat\"; }\r\n    var output = [];\r\n    var filterMiddlePoint = Math.floor(filter.length / 2);\r\n    for (var n = 0; n < data.length; n++) {\r\n        output[n] = 0.0;\r\n        for (var m = 0; m < filter.length; m++) {\r\n            output[n] += getValueFromArray(data, n - filterMiddlePoint + m, paddleType) * filter[filter.length - m - 1];\r\n        }\r\n    }\r\n    return output;\r\n}\r\nfunction findLocalLargestPeaks(data, length) {\r\n    var peakNum = 0;\r\n    var lastPeak = 0;\r\n    var lastPeakPositions = 0;\r\n    var isIncreasing = false;\r\n    var isPeakIncreasing = false;\r\n    var peakValues = [];\r\n    var peakPositions = [];\r\n    for (var i = 0; i < data.length - 1; i++) {\r\n        if (data[i] < data[i + 1]) {\r\n            isIncreasing = true;\r\n        }\r\n        else {\r\n            if (isIncreasing == true) {\r\n                // Peak found.\r\n                if (lastPeak < data[i]) {\r\n                    isPeakIncreasing = true;\r\n                }\r\n                else {\r\n                    if (isPeakIncreasing == true) {\r\n                        // Local largest peak found.\r\n                        peakValues[peakNum] = lastPeak;\r\n                        peakPositions[peakNum] = lastPeakPositions;\r\n                        ++peakNum;\r\n                    }\r\n                    isPeakIncreasing = false;\r\n                }\r\n                lastPeak = data[i];\r\n                lastPeakPositions = i;\r\n            }\r\n            isIncreasing = false;\r\n        }\r\n        if (peakNum >= length) {\r\n            break;\r\n        }\r\n    }\r\n    return { peakValues: peakValues, peakPositions: peakPositions };\r\n}\r\nexports.default = {\r\n    generateGaussianFilter: generateGaussianFilter,\r\n    discreteCosineTransform: discreteCosineTransform,\r\n    convoluteDataAndFilter: convoluteDataAndFilter,\r\n    findLocalLargestPeaks: findLocalLargestPeaks\r\n};\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nfunction loadRes(url, callback, failure) {\r\n    var request = new XMLHttpRequest();\r\n    request.responseType = \"arraybuffer\";\r\n    request.open('GET', url, true);\r\n    request.onload = function () {\r\n        callback && callback(request.response);\r\n    };\r\n    request.onreadystatechange = function () {\r\n        if (request.readyState === 4) {\r\n            if (request.status !== 200) {\r\n                failure && failure();\r\n            }\r\n        }\r\n    };\r\n    request.send();\r\n}\r\nexports.default = {\r\n    loadRes: loadRes\r\n};\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar env_1 = require(\"./env\");\r\nvar looper_1 = require(\"../utils/looper\");\r\nfunction fixWechatAudioPlay(callback) {\r\n    if (window && window['WeixinJSBridge']) {\r\n        try {\r\n            window['WeixinJSBridge'].invoke(\"getNetworkType\", {}, function () {\r\n                callback && callback();\r\n            });\r\n        }\r\n        catch (e) {\r\n            callback && callback();\r\n        }\r\n    }\r\n    else {\r\n        callback && callback();\r\n    }\r\n}\r\nfunction fixAudioExtension(targetUrl, replaceExt) {\r\n    var ext = Laya.Utils.getFileExtension(targetUrl);\r\n    var searchExt = !!ext ? \".\" + ext : '';\r\n    if (env_1.default.isConchApp() && searchExt != \".wav\" && searchExt != \".ogg\") {\r\n        return targetUrl.substr(0, targetUrl.length - searchExt.length) + replaceExt;\r\n    }\r\n    return targetUrl;\r\n}\r\nvar AudioController = /** @class */ (function () {\r\n    function AudioController(isMusic) {\r\n        this._auidoUrl = '';\r\n        this._chancel = null;\r\n        this._playing = false;\r\n        this._onPlay = null;\r\n        this._onPause = null;\r\n        this._onStop = null;\r\n        this._onError = null;\r\n        this._onProgress = null;\r\n        this._onComplete = null;\r\n        this._position = -1;\r\n        this._duration = -1;\r\n        this._paused = false;\r\n        this._music = false;\r\n        this._playTime = 0;\r\n        this._music = isMusic;\r\n        if (!isMusic) {\r\n            AudioController._soundList.push(this);\r\n        }\r\n    }\r\n    AudioController.stopAll = function () {\r\n        var soundList = AudioController._soundList.splice(0, AudioController._soundList.length);\r\n        soundList.forEach(function (item) {\r\n            item && item.stop();\r\n        });\r\n    };\r\n    AudioController.prototype._update = function () {\r\n        if (this._chancel) {\r\n            this._position = this._chancel.position;\r\n            this._duration = this._chancel.duration;\r\n            if (!this._playing && this._position > 0) {\r\n                this._playing = true;\r\n                this._onPlay && this._onPlay();\r\n            }\r\n            if (this._playing && this._duration > 0) {\r\n                this._onProgress && this._onProgress({\r\n                    position: this.position,\r\n                    duration: this.duration,\r\n                });\r\n            }\r\n            else if (Date.now() - this._playTime > 2000) {\r\n                this._onError && this._onError();\r\n                this.stop();\r\n            }\r\n        }\r\n    };\r\n    AudioController.prototype.onPlay = function (callback) {\r\n        this._onPlay = callback;\r\n    };\r\n    AudioController.prototype.onStop = function (callback) {\r\n        this._onStop = callback;\r\n    };\r\n    AudioController.prototype.onPause = function (callback) {\r\n        this._onPause = callback;\r\n    };\r\n    AudioController.prototype.onProgress = function (callback) {\r\n        this._onProgress = callback;\r\n    };\r\n    AudioController.prototype.onComplete = function (callback) {\r\n        this._onComplete = callback;\r\n    };\r\n    AudioController.prototype.onError = function (callback) {\r\n        this._onError = callback;\r\n    };\r\n    Object.defineProperty(AudioController.prototype, \"url\", {\r\n        get: function () {\r\n            return this._auidoUrl;\r\n        },\r\n        set: function (url) {\r\n            if (this._auidoUrl != url) {\r\n                this._auidoUrl = url;\r\n                this.stop();\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AudioController.prototype, \"position\", {\r\n        get: function () {\r\n            return this._position;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AudioController.prototype, \"duration\", {\r\n        get: function () {\r\n            return this._duration;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    AudioController.prototype.isMusic = function () {\r\n        return this._music;\r\n    };\r\n    AudioController.prototype.isPaused = function () {\r\n        return this._paused;\r\n    };\r\n    AudioController.prototype.isPlaying = function () {\r\n        return this._playing;\r\n    };\r\n    AudioController.prototype.play = function (loops) {\r\n        var _this = this;\r\n        if (loops === void 0) { loops = 1; }\r\n        fixWechatAudioPlay(function () {\r\n            if (_this._auidoUrl) {\r\n                _this.stop();\r\n                var playUrl = fixAudioExtension(_this._auidoUrl, '.ogg');\r\n                _this._playTime = Date.now();\r\n                if (_this._music) {\r\n                    _this._chancel = Laya.SoundManager.playMusic(playUrl, loops, Laya.Handler.create(_this, function () {\r\n                        _this._onComplete && _this._onComplete();\r\n                        _this.stop();\r\n                    }), 0);\r\n                }\r\n                else {\r\n                    _this._chancel = Laya.SoundManager.playSound(playUrl, loops, Laya.Handler.create(_this, function () {\r\n                        _this._onComplete && _this._onComplete();\r\n                        _this.stop();\r\n                    }), null, 0);\r\n                }\r\n                looper_1.default.loop(_this, _this._update);\r\n            }\r\n        });\r\n    };\r\n    AudioController.prototype.pause = function () {\r\n        if (this._chancel && this._playing) {\r\n            this._onPause && this._onPause();\r\n            this._chancel.pause();\r\n            this._paused = true;\r\n            this._playing = false;\r\n            looper_1.default.clear(this, this._update);\r\n        }\r\n    };\r\n    AudioController.prototype.resume = function () {\r\n        if (this._chancel && this._paused) {\r\n            this._paused = false;\r\n            this._chancel.resume();\r\n            looper_1.default.loop(this, this._update);\r\n        }\r\n    };\r\n    AudioController.prototype.stop = function () {\r\n        if (this._chancel) {\r\n            this._onStop && this._onStop();\r\n            this._chancel.stop();\r\n            this._paused = false;\r\n            this._playing = false;\r\n            if (this._music) {\r\n                Laya.SoundManager.stopMusic();\r\n            }\r\n            else {\r\n                Laya.SoundManager.stopSound(this._auidoUrl);\r\n            }\r\n            Laya.SoundManager.removeChannel(this._chancel);\r\n            looper_1.default.clear(this, this._update);\r\n            this._chancel = null;\r\n        }\r\n    };\r\n    AudioController.prototype.destroy = function () {\r\n        this.stop();\r\n        this._onComplete = null;\r\n        this._onProgress = null;\r\n        this._onPlay = null;\r\n        this._onStop = null;\r\n        this._onPause = null;\r\n    };\r\n    AudioController._soundList = [];\r\n    return AudioController;\r\n}());\r\nvar _musicAudio = new AudioController(true);\r\nfunction playMusic(url, loops) {\r\n    if (loops === void 0) { loops = 1; }\r\n    _musicAudio.url = url;\r\n    _musicAudio.play(loops);\r\n    return _musicAudio;\r\n}\r\nfunction playSound(url, loops) {\r\n    if (loops === void 0) { loops = 1; }\r\n    var audio = new AudioController(false);\r\n    audio.url = url;\r\n    audio.play(loops);\r\n    return audio;\r\n}\r\nfunction stopMusic() {\r\n    _musicAudio.stop();\r\n}\r\nfunction stopAllSound() {\r\n    AudioController.stopAll();\r\n}\r\nfunction stopAll() {\r\n    stopMusic();\r\n    stopAllSound();\r\n}\r\nfunction setMusicVolume(volume) {\r\n    Laya.SoundManager.setMusicVolume(volume);\r\n}\r\nfunction setSoundVolume(volume) {\r\n    Laya.SoundManager.setSoundVolume(volume);\r\n}\r\nexports.default = {\r\n    playMusic: playMusic,\r\n    playSound: playSound,\r\n    stopAll: stopAll,\r\n    stopMusic: stopMusic,\r\n    stopAllSound: stopAllSound,\r\n    setMusicVolume: setMusicVolume,\r\n    setSoundVolume: setSoundVolume,\r\n};\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar onload_1 = require(\"../utils/onload\");\r\nfunction _loadJS(jspath, options, callback) {\r\n    try {\r\n        var _protocol = location.protocol != 'file:' ? location.protocol : 'http:';\r\n        var _script = document.createElement(\"script\");\r\n        Object.keys(options).forEach(function (key) {\r\n            _script.setAttribute(key, options[key]);\r\n        });\r\n        _script.type = \"text/javascript\";\r\n        if (jspath.indexOf('//') == 0) {\r\n            _script.src = _protocol + jspath;\r\n        }\r\n        else {\r\n            _script.src = jspath;\r\n        }\r\n        document.body.appendChild(_script);\r\n        _script.onerror = function (err) {\r\n            callback && callback(_script, err);\r\n        };\r\n        _script.onload = function () {\r\n            callback && callback(_script, null);\r\n        };\r\n    }\r\n    catch (error) {\r\n        callback && callback(undefined, error);\r\n    }\r\n}\r\nfunction loadJs(jspath, options) {\r\n    if (options === void 0) { options = {}; }\r\n    return onload_1.onload().then(function () {\r\n        return new Promise(function (resolve) {\r\n            if (!jspath) {\r\n                return resolve && resolve(undefined);\r\n            }\r\n            var index = 0;\r\n            var jsList = jspath.split(',');\r\n            var nodeList = [];\r\n            jsList.forEach(function (js) {\r\n                _loadJS(js, options, function (node, err) {\r\n                    nodeList[index] = { node: node, err: err };\r\n                    index++;\r\n                    if (index == jsList.length) {\r\n                        resolve && resolve(nodeList);\r\n                    }\r\n                });\r\n            });\r\n        });\r\n    });\r\n}\r\nexports.default = {\r\n    loadJs: loadJs\r\n};\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar _ready = null;\r\nfunction onload() {\r\n    if (!_ready) {\r\n        _ready = new Promise(function (reslove, reject) {\r\n            var _timer;\r\n            var _pollingDocument = function () {\r\n                if (!!document && document.readyState == 'complete') {\r\n                    _timer && clearTimeout(_timer);\r\n                    reslove(Date.now());\r\n                }\r\n                else {\r\n                    _timer = setTimeout(_pollingDocument, 1);\r\n                }\r\n            };\r\n            _timer = setTimeout(_pollingDocument, 1);\r\n        });\r\n    }\r\n    return _ready;\r\n}\r\nexports.onload = onload;\r\n","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Event = /** @class */ (function (_super) {\r\n    __extends(Event, _super);\r\n    function Event() {\r\n        var _this = _super.call(this) || this;\r\n        _this._dic = new Laya.Dictionary();\r\n        return _this;\r\n    }\r\n    Event.prototype.registeredEvent = function (type, fun, thisRef, index) {\r\n        if (index === void 0) { index = 1; }\r\n        var arr = [];\r\n        if (index == null)\r\n            index = 1;\r\n        if (this._dic[type]) {\r\n            arr = this._dic[type];\r\n            for (var i = 0; i < arr.length; i++) {\r\n                if (arr[i].fun == fun && arr[i].thisRef == thisRef) {\r\n                    if (index != arr[i].index) {\r\n                        arr[i].index = index;\r\n                        arr.sort(function (a, b) { return b.index - a.index; });\r\n                        this._dic[type] = arr;\r\n                    }\r\n                    return;\r\n                }\r\n            }\r\n        }\r\n        arr.push({ fun: fun, thisRef: thisRef, index: index });\r\n        arr.sort(function (a, b) { return b.index - a.index; });\r\n        this._dic[type] = arr;\r\n    };\r\n    Event.prototype.removeEvent = function (type, fun, thisRef) {\r\n        if (this._dic[type]) {\r\n            var arr = this._dic[type];\r\n            for (var i = 0; i < arr.length; i++) {\r\n                if (arr[i].fun == fun && arr[i].thisRef == thisRef) {\r\n                    arr[i] = null;\r\n                    arr.splice(i, 1);\r\n                    this._dic[type] = arr;\r\n                    return;\r\n                }\r\n            }\r\n        }\r\n    };\r\n    Event.prototype.sendEvent = function (type, args) {\r\n        if (args === void 0) { args = null; }\r\n        if (this._dic[type]) {\r\n            var arr = this._dic[type];\r\n            for (var i = 0; i < arr.length; i++) {\r\n                arr[i].fun.apply(arr[i].thisRef, args);\r\n            }\r\n        }\r\n    };\r\n    return Event;\r\n}(Laya.EventDispatcher));\r\nexports.default = new Event();\r\n","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar runtime;\r\n(function (runtime) {\r\n    runtime.clickSound = null;\r\n    runtime.clickAnimDuration = 100;\r\n    runtime.clickNormalProps = { scaleX: 1, scaleY: 1 };\r\n    runtime.clickDownProps = { scaleX: 1.2, scaleY: 1.2 };\r\n    function pivotCenter(view) {\r\n        view.x = view.x + view.width / 2 - view.pivotX;\r\n        view.y = view.y + view.height / 2 - view.pivotY;\r\n        view.pivot(view.width / 2, view.height / 2);\r\n    }\r\n    function setViewProps(view, props, duration) {\r\n        pivotCenter(view);\r\n        Laya.Tween.to(view, props, duration);\r\n    }\r\n    function playClickSound(sound) {\r\n        if (sound) {\r\n            sound != 'none' && Laya.SoundManager.playSound(sound, 1);\r\n        }\r\n        else if (runtime.clickSound) {\r\n            runtime.clickSound != 'none' && Laya.SoundManager.playSound(runtime.clickSound, 1);\r\n        }\r\n    }\r\n    function bindClick(view, onClick, onDown, onUp, onOut) {\r\n        pivotCenter(view);\r\n        view.offAll();\r\n        view.on(Laya.Event.CLICK, view, function () {\r\n            onClick && onClick();\r\n            playClickSound(view.clickSound);\r\n        });\r\n        view.on(Laya.Event.MOUSE_DOWN, view, function () {\r\n            setViewProps(view, view.clickDownProps || runtime.clickDownProps, view.clickAnimDuration || runtime.clickAnimDuration);\r\n            onDown && onDown();\r\n        });\r\n        view.on(Laya.Event.MOUSE_UP, view, function () {\r\n            setViewProps(view, view.clickNormalProps || runtime.clickNormalProps, view.clickAnimDuration || runtime.clickAnimDuration);\r\n            onUp && onUp();\r\n        });\r\n        view.on(Laya.Event.MOUSE_OUT, view, function () {\r\n            setViewProps(view, view.clickNormalProps || runtime.clickNormalProps, view.clickAnimDuration || runtime.clickAnimDuration);\r\n            onOut && onOut();\r\n        });\r\n    }\r\n    runtime.bindClick = bindClick;\r\n    var btn = /** @class */ (function (_super) {\r\n        __extends(btn, _super);\r\n        function btn() {\r\n            var _this = _super.call(this) || this;\r\n            _this.clickAnimDuration = null;\r\n            _this.clickDownProps = null;\r\n            _this.clickNormalProps = null;\r\n            _this.clickSound = null;\r\n            bindClick(_this);\r\n            return _this;\r\n        }\r\n        return btn;\r\n    }(Laya.Button));\r\n    runtime.btn = btn;\r\n    var btn_img = /** @class */ (function (_super) {\r\n        __extends(btn_img, _super);\r\n        function btn_img() {\r\n            var _this = _super.call(this) || this;\r\n            _this.clickAnimDuration = null;\r\n            _this.clickDownProps = null;\r\n            _this.clickNormalProps = null;\r\n            _this.clickSound = null;\r\n            bindClick(_this);\r\n            return _this;\r\n        }\r\n        return btn_img;\r\n    }(Laya.Image));\r\n    runtime.btn_img = btn_img;\r\n    var btn_label = /** @class */ (function (_super) {\r\n        __extends(btn_label, _super);\r\n        function btn_label() {\r\n            var _this = _super.call(this) || this;\r\n            _this.clickAnimDuration = null;\r\n            _this.clickDownProps = null;\r\n            _this.clickNormalProps = null;\r\n            _this.clickSound = null;\r\n            bindClick(_this);\r\n            return _this;\r\n        }\r\n        return btn_label;\r\n    }(Laya.Label));\r\n    runtime.btn_label = btn_label;\r\n    var btn_sprite = /** @class */ (function (_super) {\r\n        __extends(btn_sprite, _super);\r\n        function btn_sprite() {\r\n            var _this = _super.call(this) || this;\r\n            _this.clickAnimDuration = null;\r\n            _this.clickDownProps = null;\r\n            _this.clickNormalProps = null;\r\n            _this.clickSound = null;\r\n            bindClick(_this);\r\n            return _this;\r\n        }\r\n        return btn_sprite;\r\n    }(Laya.Sprite));\r\n    runtime.btn_sprite = btn_sprite;\r\n    var btn_box = /** @class */ (function (_super) {\r\n        __extends(btn_box, _super);\r\n        function btn_box() {\r\n            var _this = _super.call(this) || this;\r\n            _this.clickAnimDuration = null;\r\n            _this.clickDownProps = null;\r\n            _this.clickNormalProps = null;\r\n            _this.clickSound = null;\r\n            bindClick(_this);\r\n            return _this;\r\n        }\r\n        return btn_box;\r\n    }(Laya.Box));\r\n    runtime.btn_box = btn_box;\r\n    var page_list = /** @class */ (function (_super) {\r\n        __extends(page_list, _super);\r\n        function page_list() {\r\n            var _this = _super.call(this) || this;\r\n            _this._isDown = false;\r\n            _this._onLoadMoreHandler = null;\r\n            _this._loading = false;\r\n            _this._preCount = 5;\r\n            _this.on(Laya.Event.MOUSE_UP, _this, _this.onMouseUp);\r\n            _this.on(Laya.Event.MOUSE_OUT, _this, _this.onMouseOut);\r\n            _this.on(Laya.Event.MOUSE_DOWN, _this, _this.onMouseDown);\r\n            _this.renderHandler = Laya.Handler.create(_this, _this.renderItem);\r\n            return _this;\r\n        }\r\n        page_list.prototype.destroy = function () {\r\n            this.off(Laya.Event.MOUSE_UP, this, this.onMouseUp);\r\n            this.off(Laya.Event.MOUSE_OUT, this, this.onMouseOut);\r\n        };\r\n        page_list.prototype.refresh = function () {\r\n            _super.prototype.refresh.call(this);\r\n            this._updatePage();\r\n        };\r\n        page_list.prototype.onMouseDown = function () {\r\n            this._isDown = true;\r\n        };\r\n        page_list.prototype.onMouseUp = function (event) {\r\n            this._updatePage();\r\n            this._isDown = false;\r\n        };\r\n        page_list.prototype.onMouseOut = function (event) {\r\n            this._updatePage();\r\n            this._isDown = false;\r\n        };\r\n        Object.defineProperty(page_list.prototype, \"preCount\", {\r\n            get: function () {\r\n                return this._preCount;\r\n            },\r\n            set: function (count) {\r\n                this._preCount = count;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(page_list.prototype, \"loading\", {\r\n            get: function () {\r\n                return this._loading;\r\n            },\r\n            set: function (loading) {\r\n                this._loading = loading;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(page_list.prototype, \"onLoadMoreHandler\", {\r\n            get: function () {\r\n                return this._onLoadMoreHandler;\r\n            },\r\n            set: function (handler) {\r\n                this._onLoadMoreHandler = handler;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        page_list.prototype._updatePage = function () {\r\n            if (!this._isDown) {\r\n                return;\r\n            }\r\n            var length = this._array.length;\r\n            var maxHeight = length * this._cellSize;\r\n            var currentPos = this._cellOffset + this.scrollBar.value + this.height;\r\n            var lastCount = Math.floor((maxHeight - currentPos) / this._cellSize);\r\n            if (lastCount < 0) {\r\n                lastCount = 0;\r\n            }\r\n            if (!this._loading && this.preCount >= lastCount) {\r\n                this._onLoadMoreHandler && this._onLoadMoreHandler(lastCount);\r\n            }\r\n        };\r\n        return page_list;\r\n    }(Laya.List));\r\n    runtime.page_list = page_list;\r\n    var page_view = /** @class */ (function (_super) {\r\n        __extends(page_view, _super);\r\n        function page_view() {\r\n            var _this = _super.call(this) || this;\r\n            _this._isDown = false;\r\n            _this._currentPage = 0;\r\n            _this._onPageChange = null;\r\n            _this.on(Laya.Event.MOUSE_UP, _this, _this.onMouseUp);\r\n            _this.on(Laya.Event.MOUSE_OUT, _this, _this.onMouseOut);\r\n            _this.on(Laya.Event.MOUSE_DOWN, _this, _this.onMouseDown);\r\n            _this.renderHandler = Laya.Handler.create(_this, _this.renderItem);\r\n            return _this;\r\n        }\r\n        page_view.prototype.destroy = function () {\r\n            this.off(Laya.Event.MOUSE_UP, this, this.onMouseUp);\r\n            this.off(Laya.Event.MOUSE_OUT, this, this.onMouseOut);\r\n        };\r\n        Object.defineProperty(page_view.prototype, \"pageId\", {\r\n            get: function () {\r\n                return this._currentPage;\r\n            },\r\n            set: function (n) {\r\n                this._currentPage = n;\r\n                if (this._currentPage < 0) {\r\n                    this._currentPage = 0;\r\n                }\r\n                this.tweenTo(n);\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(page_view.prototype, \"onPageChangeHandler\", {\r\n            get: function () {\r\n                return this._onPageChange;\r\n            },\r\n            set: function (handler) {\r\n                this._onPageChange = handler;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        page_view.prototype.onMouseDown = function () {\r\n            this._isDown = true;\r\n        };\r\n        page_view.prototype.onMouseUp = function (event) {\r\n            this._updatePage();\r\n            this._isDown = false;\r\n        };\r\n        page_view.prototype.onMouseOut = function (event) {\r\n            this._updatePage();\r\n            this._isDown = false;\r\n        };\r\n        page_view.prototype._updatePage = function () {\r\n            if (!this._isDown) {\r\n                return;\r\n            }\r\n            this.scrollBar.stopScroll();\r\n            var total = this._cellOffset > 0 ? this.totalPage + 1 : this.totalPage;\r\n            if (total > 1) {\r\n                var changeSize = this._cellSize / 6;\r\n                var sss = this._currentPage * this._cellSize;\r\n                if (Math.abs(this.scrollBar.value - sss) > changeSize) {\r\n                    if (this.scrollBar.value > sss) {\r\n                        this._currentPage++;\r\n                    }\r\n                    else {\r\n                        this._currentPage--;\r\n                    }\r\n                }\r\n                if (this._currentPage > total) {\r\n                    this._currentPage = total + 1;\r\n                }\r\n                if (this._currentPage < 0) {\r\n                    this._currentPage = 0;\r\n                }\r\n            }\r\n            this.tweenTo(this._currentPage);\r\n            if (this._onPageChange) {\r\n                this._onPageChange(this._currentPage);\r\n            }\r\n        };\r\n        return page_view;\r\n    }(Laya.List));\r\n    runtime.page_view = page_view;\r\n})(runtime || (runtime = {}));\r\nexports.default = runtime;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar env_1 = require(\"./env\");\r\nvar any_1 = require(\"../utils/any\");\r\nvar _listeners = [];\r\nfunction onMessage(callback) {\r\n    if (callback && typeof callback == \"function\" && _listeners.indexOf(callback) < 0) {\r\n        _listeners.push(callback);\r\n    }\r\n}\r\nfunction postMessage(data) {\r\n    if (data === void 0) { data = {}; }\r\n    if (env_1.default.isConchApp()) {\r\n        Laya.conchMarket.sendMessageToPlatform(any_1.toAny(data, \"{}\"), function (resp) {\r\n            env_1.default.printDebug(\"conch message callback: \", resp);\r\n        });\r\n    }\r\n    else {\r\n        window.parent.postMessage(any_1.toAny(data, {}), '*');\r\n    }\r\n}\r\nfunction _initMessage() {\r\n    var name = \"__dispatchMessage__\";\r\n    if (typeof window !== \"undefined\") {\r\n        window[name] = function (data) {\r\n            if (data) {\r\n                _listeners.forEach(function (callback) { return callback(any_1.toAny(data, {})); });\r\n            }\r\n        };\r\n    }\r\n    window.addEventListener(\"message\", function (msg) {\r\n        if (msg && msg.data) {\r\n            _listeners.forEach(function (callback) { return callback(any_1.toAny(msg.data, {})); });\r\n        }\r\n    });\r\n}\r\n(function () {\r\n    _initMessage();\r\n})();\r\nexports.default = {\r\n    postMessage: postMessage,\r\n    onMessage: onMessage\r\n};\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar any_1 = require(\"../utils/any\");\r\nvar json_1 = require(\"../utils/json\");\r\nfunction randomUUID() {\r\n    var _s4 = function () { return (((1 + Math.random()) * 0x10000) | 0).toString(16).substring(1); };\r\n    return (_s4() + _s4() + \"-\" + _s4() + \"-\" + _s4() + \"-\" + _s4() + \"-\" + _s4() + _s4() + _s4());\r\n}\r\nfunction randomNumber(minNum, maxNum) {\r\n    switch (arguments.length) {\r\n        case 1:\r\n            return Math.random() * minNum + 1;\r\n        case 2:\r\n            return Math.random() * (maxNum - minNum + 1) + minNum;\r\n        default:\r\n            return 0;\r\n    }\r\n}\r\nfunction randomInteger(minNum, maxNum) {\r\n    switch (arguments.length) {\r\n        case 1:\r\n            return Math.floor(Math.random() * minNum + 1);\r\n        case 2:\r\n            return Math.floor(Math.random() * (maxNum - minNum + 1) + minNum);\r\n        default:\r\n            return 0;\r\n    }\r\n}\r\nfunction randomArray(source, length) {\r\n    if (length === void 0) { length = -1; }\r\n    var randomLength = length == -1 ? source.length : length;\r\n    randomLength = Math.min(randomLength, source.length);\r\n    var copy = source.concat([]);\r\n    var result = [];\r\n    while (result.length < randomLength) {\r\n        var randomObj = randomArrayItem(copy);\r\n        result.push(randomObj);\r\n        copy.splice(copy.indexOf(randomLength), 1);\r\n    }\r\n    return result;\r\n}\r\nfunction randomArrayItem(source) {\r\n    if (source.length > 0) {\r\n        return source[Math.floor(Math.random() * source.length)];\r\n    }\r\n    return undefined;\r\n}\r\nexports.default = {\r\n    randomUUID: randomUUID,\r\n    randomInteger: randomInteger,\r\n    randomNumber: randomNumber,\r\n    randomArray: randomArray,\r\n    randomArrayItem: randomArrayItem,\r\n    loadJson: json_1.loadJson,\r\n    toAny: any_1.toAny\r\n};\r\n","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar stack_1 = require(\"../navigator/stack\");\r\nvar screen_1 = require(\"../manager/screen\");\r\nvar component_1 = require(\"./component\");\r\nvar Activity = /** @class */ (function (_super) {\r\n    __extends(Activity, _super);\r\n    function Activity(options) {\r\n        var _this = _super.call(this, function () { _this.back(); }) || this;\r\n        _this.page = null;\r\n        _this.params = {};\r\n        _this.duration = 0;\r\n        _this.easeIn = null;\r\n        _this.easeOut = null;\r\n        _this.fromProps = null;\r\n        _this.toProps = null;\r\n        _this.exitProps = null;\r\n        _this.ui = new Laya.Component;\r\n        _this.width = screen_1.default.getDesignWidth();\r\n        _this.height = screen_1.default.getDesignHeight();\r\n        _this.params = Object.assign({}, options.params || {});\r\n        _this.page = options.page;\r\n        return _this;\r\n    }\r\n    Activity.create = function (opts) {\r\n        var NewAct = /** @class */ (function (_super) {\r\n            __extends(NewAct, _super);\r\n            function NewAct(options) {\r\n                var _this = _super.call(this, options) || this;\r\n                _this.opts = null;\r\n                _this.opts = opts || {};\r\n                Object.assign(_this, _this.opts);\r\n                NewAct.single = _this.opts.single;\r\n                NewAct.res = _this.opts.res;\r\n                return _this;\r\n            }\r\n            NewAct.prototype.onCreate = function () {\r\n                this.opts.onCreate && this.opts.onCreate();\r\n            };\r\n            NewAct.prototype.onPause = function () {\r\n                this.opts.onPause && this.opts.onPause();\r\n            };\r\n            NewAct.prototype.onResume = function () {\r\n                this.opts.onResume && this.opts.onResume();\r\n            };\r\n            NewAct.prototype.onDestroy = function () {\r\n                this.opts.onDestroy && this.opts.onDestroy();\r\n            };\r\n            NewAct.prototype.onFocus = function (focus) {\r\n                this.opts.onFocus && this.opts.onFocus(focus);\r\n            };\r\n            NewAct.prototype.onNextProgress = function (progress) {\r\n                this.opts.onNextProgress && this.opts.onNextProgress(progress);\r\n            };\r\n            return NewAct;\r\n        }(Activity));\r\n        return NewAct;\r\n    };\r\n    Activity.open = function (params, action) {\r\n        stack_1.default.navigate(this, params, action);\r\n    };\r\n    Activity.finish = function () {\r\n        stack_1.default.finish(this);\r\n    };\r\n    //////////////////////////\r\n    /// navigator function\r\n    //////////////////////////\r\n    Activity.prototype.redirectTo = function (page, params, action, single) {\r\n        var _this = this;\r\n        if (params === void 0) { params = {}; }\r\n        if (action === void 0) { action = null; }\r\n        if (single === void 0) { single = false; }\r\n        this.navigate(page, params, function () {\r\n            _this.back();\r\n            action && action();\r\n        }, single);\r\n    };\r\n    Activity.prototype.navigate = function (page, params, action, single) {\r\n        if (params === void 0) { params = {}; }\r\n        if (action === void 0) { action = null; }\r\n        if (single === void 0) { single = false; }\r\n        stack_1.default.navigate(page, params, action, single);\r\n    };\r\n    Activity.prototype.back = function () {\r\n        stack_1.default.finish(this.page, this);\r\n    };\r\n    Activity.prototype.finish = function (page, instance) {\r\n        if (page === void 0) { page = this.page; }\r\n        if (instance === void 0) { instance = null; }\r\n        stack_1.default.finish(page, instance);\r\n    };\r\n    Activity.prototype.pop = function (number) {\r\n        if (number === void 0) { number = 1; }\r\n        stack_1.default.pop(number);\r\n    };\r\n    Activity.prototype.popToTop = function () {\r\n        stack_1.default.popToTop();\r\n    };\r\n    Activity.res = [];\r\n    Activity.unpackFile = null;\r\n    Activity.single = false;\r\n    return Activity;\r\n}(component_1.default));\r\nexports.default = Activity;\r\n","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar popupmanager_1 = require(\"./popupmanager\");\r\nvar screen_1 = require(\"../manager/screen\");\r\nvar pipeline_1 = require(\"../pipeline\");\r\nvar component_1 = require(\"./component\");\r\nvar PopupView = /** @class */ (function (_super) {\r\n    __extends(PopupView, _super);\r\n    function PopupView() {\r\n        var _this = _super.call(this, function () {\r\n            _this.hide();\r\n        }) || this;\r\n        _this.duration = 300;\r\n        _this.easeIn = null;\r\n        _this.easeOut = null;\r\n        _this.fromProps = null;\r\n        _this.toProps = null;\r\n        _this.exitProps = null;\r\n        _this.uiDuration = 300;\r\n        _this.uiEaseIn = null;\r\n        _this.uiEaseOut = null;\r\n        _this.uiFromProps = null;\r\n        _this.uiToProps = null;\r\n        _this.uiExitProps = null;\r\n        _this.topLevel = false;\r\n        _this.isTranslucent = false;\r\n        _this.canceledOnTouchOutside = false;\r\n        _this.nonPenetrating = true;\r\n        _this.width = screen_1.default.getDesignWidth();\r\n        _this.height = screen_1.default.getDesignHeight();\r\n        return _this;\r\n    }\r\n    PopupView.show = function (params, onHide, alias) {\r\n        popupmanager_1.default.showPopup(this, params, onHide, alias);\r\n    };\r\n    PopupView.signleShow = function (params, onHide, alias) {\r\n        popupmanager_1.default.hidePopup(this, null, null, alias);\r\n        popupmanager_1.default.showPopup(this, params, onHide, alias);\r\n    };\r\n    PopupView.pipeShow = function (params, onHide, alias) {\r\n        var _this = this;\r\n        pipeline_1.default.put(\"popup\", function () {\r\n            popupmanager_1.default.showPopup(_this, params, function () {\r\n                var args = [];\r\n                for (var _i = 0; _i < arguments.length; _i++) {\r\n                    args[_i] = arguments[_i];\r\n                }\r\n                onHide && onHide.apply(void 0, args);\r\n                pipeline_1.default.next(\"popup\");\r\n            }, alias);\r\n        });\r\n    };\r\n    PopupView.hide = function (result, alias) {\r\n        popupmanager_1.default.hidePopup(this, null, result, alias);\r\n    };\r\n    PopupView.prototype.hide = function (result) {\r\n        if (result === void 0) { result = null; }\r\n        popupmanager_1.default.hidePopup(this.popup, this, result, this.alias);\r\n    };\r\n    return PopupView;\r\n}(component_1.default));\r\nexports.default = PopupView;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar env_1 = require(\"./env\");\r\nvar _pipeline_map = {};\r\nfunction _check(type) {\r\n    if (_pipeline_map[type]) {\r\n        var pipe = _pipeline_map[type];\r\n        if (pipe.funcs.length <= 0) {\r\n            return;\r\n        }\r\n        if (pipe.padding) {\r\n            setTimeout(function () {\r\n                _check(type);\r\n            }, 500);\r\n            return;\r\n        }\r\n        var func = pipe.funcs.shift();\r\n        func && func();\r\n        pipe.padding = true;\r\n        _check(type);\r\n    }\r\n}\r\nfunction put(type, func) {\r\n    if (type && typeof func === \"function\") {\r\n        env_1.default.printDebug(\"put pipe to : \", type);\r\n        if (_pipeline_map[type]) {\r\n            _pipeline_map[type].funcs.push(func);\r\n        }\r\n        else {\r\n            _pipeline_map[type] = { padding: false, funcs: [func] };\r\n        }\r\n        _check(type);\r\n    }\r\n}\r\nfunction next(type) {\r\n    if (_pipeline_map[type]) {\r\n        env_1.default.printDebug(\"next pipe as : \", type);\r\n        _pipeline_map[type].padding = false;\r\n        _check(type);\r\n    }\r\n}\r\nexports.default = {\r\n    put: put,\r\n    next: next,\r\n};\r\n","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar toastmanager_1 = require(\"./toastmanager\");\r\nvar screen_1 = require(\"../manager/screen\");\r\nvar component_1 = require(\"./component\");\r\nvar ToastView = /** @class */ (function (_super) {\r\n    __extends(ToastView, _super);\r\n    function ToastView() {\r\n        var _this = _super.call(this, function () { _this.hide(); }) || this;\r\n        _this.duration = 200;\r\n        _this.displayDuration = 1000;\r\n        _this.easeIn = null;\r\n        _this.easeOut = null;\r\n        _this.fromProps = null;\r\n        _this.toProps = null;\r\n        _this.exitProps = null;\r\n        _this.topLevel = true;\r\n        _this.width = screen_1.default.getDesignWidth();\r\n        _this.height = screen_1.default.getDesignHeight();\r\n        return _this;\r\n    }\r\n    ToastView.show = function (params, onHide) {\r\n        toastmanager_1.default.showToast(this, params, onHide);\r\n    };\r\n    ToastView.hide = function () {\r\n        toastmanager_1.default.hideToast(this);\r\n    };\r\n    ToastView.prototype.hide = function () {\r\n        toastmanager_1.default.hideToast(this.toast, this);\r\n    };\r\n    return ToastView;\r\n}(component_1.default));\r\nexports.default = ToastView;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nfunction stringifyQuery(query) {\r\n    return Object.keys(query).map(function (key) {\r\n        var value = query[key];\r\n        return key + \"=\" + encodeURIComponent(value);\r\n    }).join('&');\r\n}\r\nexports.stringifyQuery = stringifyQuery;\r\nfunction decodeQuery(query) {\r\n    return Object.keys(query).reduce(function (result, key) {\r\n        var value = query[key];\r\n        result[key] = decodeURIComponent(value);\r\n        return result;\r\n    }, {});\r\n}\r\nexports.decodeQuery = decodeQuery;\r\nfunction parseQueryParams(path) {\r\n    var url = '';\r\n    var params = {};\r\n    if (!path || typeof path !== 'string') {\r\n        return { url: url, params: params };\r\n    }\r\n    var queryString = '';\r\n    var indexE = path.indexOf('?');\r\n    var indexW = path.indexOf('#');\r\n    var indexQ = path.indexOf('=');\r\n    if (indexE >= 0) {\r\n        url = path.substring(0, indexE);\r\n        queryString = path.substring(indexE + 1, indexW > 0 ? indexW : path.length);\r\n    }\r\n    else if (indexQ >= 0) {\r\n        url = '';\r\n        queryString = path;\r\n    }\r\n    else {\r\n        url = path;\r\n        queryString = '';\r\n    }\r\n    queryString.split('&').map(function (item) {\r\n        var index = item.indexOf(\"=\");\r\n        if (index > 0) {\r\n            var key = item.substring(0, index);\r\n            var value = item.substring(index + 1);\r\n            params[key] = decodeURIComponent(value);\r\n        }\r\n    });\r\n    return { url: url, params: params };\r\n}\r\nexports.parseQueryParams = parseQueryParams;\r\nfunction appendQueryParams(path, query) {\r\n    if (query === void 0) { query = {}; }\r\n    var _a = parseQueryParams(path), url = _a.url, params = _a.params;\r\n    Object.keys(query).forEach(function (key) {\r\n        var value = query[key];\r\n        if (value !== undefined && value !== null) {\r\n            params[key] = value;\r\n        }\r\n        else {\r\n            delete params[key];\r\n        }\r\n    });\r\n    var queryString = Object.keys(params).map(function (key) {\r\n        var value = params[key];\r\n        return key + \"=\" + encodeURIComponent(value);\r\n    }).join('&');\r\n    ;\r\n    if (!url) {\r\n        return queryString;\r\n    }\r\n    if (!queryString) {\r\n        return url;\r\n    }\r\n    return url + \"?\" + queryString;\r\n}\r\nexports.appendQueryParams = appendQueryParams;\r\nfunction getQueryString(key, def) {\r\n    if (typeof window !== \"undefined\" && window.location) {\r\n        var search = window.location.search || '';\r\n        var reg = new RegExp(\"(^|&)\" + key + \"=([^&]*)(&|$)\");\r\n        var r = search.substr(1).match(reg);\r\n        if (r != null) {\r\n            return decodeURIComponent(unescape(r[2]));\r\n        }\r\n    }\r\n    return def;\r\n}\r\nexports.getQueryString = getQueryString;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar env_1 = require(\"./env\");\r\nvar screen_1 = require(\"./manager/screen\");\r\nvar init_1 = require(\"./navigator/init\");\r\nvar hook_1 = require(\"./hook\");\r\nvar _inited = false;\r\nvar _adapterInfo = null;\r\nfunction handleAdapter() {\r\n    try {\r\n        if (_adapterInfo) {\r\n            var stage = Laya.stage;\r\n            stage.width = _adapterInfo.width;\r\n            stage.height = _adapterInfo.height;\r\n            stage.scale(_adapterInfo.scaleX, _adapterInfo.scaleY);\r\n        }\r\n    }\r\n    catch (error) {\r\n    }\r\n}\r\nfunction setAdapterInfo(adapterInfo) {\r\n    _adapterInfo = adapterInfo;\r\n}\r\nexports.setAdapterInfo = setAdapterInfo;\r\nfunction init(width, height) {\r\n    var options = [];\r\n    for (var _i = 2; _i < arguments.length; _i++) {\r\n        options[_i - 2] = arguments[_i];\r\n    }\r\n    if (_inited) {\r\n        return;\r\n    }\r\n    if (!env_1.default.isLayaApp()) {\r\n        env_1.default.printError('Please ensure that the \\'Laya\\' library has been introduced.');\r\n        return;\r\n    }\r\n    screen_1.initScreen.apply(void 0, [false, width, height].concat(options));\r\n    hook_1.callHookInit.apply(void 0, [width, height].concat(options));\r\n    handleAdapter();\r\n    _inited = true;\r\n    env_1.default.printDebug(\"init...\");\r\n    env_1.default.printDebug(\"offest: \" + screen_1.default.getOffestX() + \", \" + screen_1.default.getOffestY());\r\n    env_1.default.printDebug(\"app_version: \" + env_1.default.getAppVersion());\r\n    env_1.default.printDebug(\"version: \" + env_1.default.getVersion());\r\n    env_1.default.printDebug(\"debug: \" + env_1.default.isDebug());\r\n    env_1.default.printDebug(\"env: \" + env_1.default.getEnv());\r\n}\r\nexports.init = init;\r\nfunction init3D(width, height) {\r\n    var options = [];\r\n    for (var _i = 2; _i < arguments.length; _i++) {\r\n        options[_i - 2] = arguments[_i];\r\n    }\r\n    if (_inited) {\r\n        return;\r\n    }\r\n    if (!env_1.default.isLayaApp()) {\r\n        env_1.default.printError('Please ensure that the \\'Laya\\' library has been introduced.');\r\n        return;\r\n    }\r\n    screen_1.initScreen.apply(void 0, [true, width, height].concat(options));\r\n    handleAdapter();\r\n    hook_1.callHookInit.apply(void 0, [width, height].concat(options));\r\n    _inited = true;\r\n    env_1.default.printDebug(\"init3D...\");\r\n    env_1.default.printDebug(\"offest: \" + screen_1.default.getOffestX() + \", \" + screen_1.default.getOffestY());\r\n    env_1.default.printDebug(\"app_version: \" + env_1.default.getAppVersion());\r\n    env_1.default.printDebug(\"version: \" + env_1.default.getVersion());\r\n    env_1.default.printDebug(\"debug: \" + env_1.default.isDebug());\r\n    env_1.default.printDebug(\"env: \" + env_1.default.getEnv());\r\n}\r\nexports.init3D = init3D;\r\nfunction start(options, onLoaded, onLoadProgress) {\r\n    if (onLoaded === void 0) { onLoaded = null; }\r\n    if (onLoadProgress === void 0) { onLoadProgress = null; }\r\n    if (!_inited) {\r\n        env_1.default.printError('Please complete the initialization of Tape first.');\r\n        return;\r\n    }\r\n    if (!options) {\r\n        options = {};\r\n    }\r\n    var newOptions = {\r\n        mainPage: options.mainPage || null,\r\n        commonRes: options.commonRes || [],\r\n        fileVersion: options.fileVersion,\r\n        onLoadProgress: function (progress) {\r\n            options.onLoadProgress && options.onLoadProgress(progress);\r\n            onLoadProgress && onLoadProgress(progress);\r\n        },\r\n        onLoaded: function () {\r\n            onLoaded && onLoaded();\r\n            options.onLoaded && options.onLoaded();\r\n        }\r\n    };\r\n    init_1.initNavigator(newOptions);\r\n    init_1.setNavigatorReady();\r\n}\r\nexports.start = start;\r\n"],"sourceRoot":""}