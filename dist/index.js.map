{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap","webpack:///./src/services/manager/screen.ts","webpack:///./src/services/env.ts","webpack:///./src/services/manager/uimgr.ts","webpack:///./src/services/navigator/stack.ts","webpack:///./src/services/display/component.ts","webpack:///./src/services/hook.ts","webpack:///./src/services/manager/bg.ts","webpack:///./src/services/navigator/loader.ts","webpack:///./src/services/navigator/init.ts","webpack:///./src/utils/json.ts","webpack:///./src/utils/looper.ts","webpack:///./src/utils/any.ts","webpack:///./src/services/display/popupmanager.ts","webpack:///./src/services/display/toastmanager.ts","webpack:///./src/services/display/baseview.ts","webpack:///./src/index.ts","webpack:///./src/adapter/index.ts","webpack:///./src/adapter/_transsion.ts","webpack:///./src/polyfill.ts","webpack:///./src/utils/resize.ts","webpack:///./src/utils/event.ts","webpack:///./src/services/manager/eft.ts","webpack:///./src/services/speaker/index.ts","webpack:///./src/services/speaker/_chancel.ts","webpack:///./src/services/speaker/_peaks.ts","webpack:///./src/services/speaker/_loadres.ts","webpack:///./src/services/audio.ts","webpack:///./src/services/js.ts","webpack:///./src/utils/onload.ts","webpack:///./src/services/event.ts","webpack:///./src/services/runtime.ts","webpack:///./src/services/message.ts","webpack:///./src/services/utils.ts","webpack:///./src/services/display/activity.ts","webpack:///./src/services/display/popupview.ts","webpack:///./src/services/pipeline.ts","webpack:///./src/services/display/toastview.ts","webpack:///./src/utils/query.ts","webpack:///./src/services/init.ts"],"names":["root","factory","exports","module","define","amd","a","i","this","installedModules","__webpack_require__","moduleId","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","bg_1","uimgr_1","_padding_left","_padding_right","_padding_top","_padding_bottom","_design_width","_design_height","_deviation","_autoAdaption","_autoDirection","size","paddingWidth","paddingHeight","clientWidth","window","innerWidth","laya","utils","Browser","clientHeight","innerHeight","initWidth","initHeight","screenRatio","initRatio","Math","abs","getWidth","Laya","stage","width","getHeight","height","getContentWidth","getContentHeight","getDesignWidth","getDesignHeight","getScale","designWidth","designHeight","min","initScreen","is3D","isAlpha","options","_i","arguments","length","_a","Config","Laya3D","init","apply","concat","scaleMode","Stage","SCALE_EXACTFIT","screenMode","SCREEN_HORIZONTAL","SCREEN_VERTICAL","alignH","ALIGN_CENTER","alignV","ALIGN_MIDDLE","bgColor","initBg","initUI","default","resize","getOffestX","scale","getOffestY","setDeviation","deviation","setPaddingLeft","padding","getPaddingLeft","setPaddingRight","getPaddingRight","setPaddingTop","getPaddingTop","setPaddingBottom","getPaddingBottom","setAutoDirection","auto","setAutoAdaption","adaption","_app_version","_debugOn","isDebug","indexOf","_env","classNameMap","getClassName","obj","str","toString","arr","charAt","match","name_1","e","isLayaApp","isConchApp","getVersion","setAppVersion","version","getAppVersion","setDebug","debug","printError","message","console","error","printDebug","log","getEnv","setEnv","env","_uiManager","_mainUILayer","_topUILayer","stack_1","resize_1","loader_1","screen_1","_inited","_checkInit","Sprite","mouseThrough","addChild","on","Event","RESIZE","_resizeUI","onResize","x","y","scaleX","scaleY","checkFocus","numChildren","getChildAt","setFocus","moveTopToMainLayer","view","parent","removeChild","addViewToMainLayer","addViewTopLayer","_loaders","_all","_length","_getStack","index","len","_showStack","anim","callback","stack","show","_refreshStack","hide","_popStack","count","splice","forEach","exit","focus","navigate","page","params","action","single","open","onShow","onLoaded","loader","push","onLoadProgress","progress","nextProgress","stacks","filter","pop","number","popToTop","finish","instance","_finishStack","extendStatics","__extends","setPrototypeOf","__proto__","Array","b","__","constructor","Component","_super","handleOnTouchOutside","_this","_bgSprite","_bgAlpha","_bgColor","_isTranslucent","_isShow","_handleOnTouchOutside","_canceledOnTouchOutside","_mask","_onEvent","isShow","canceledOnTouchOutside","stopPropagation","configurable","set","bgAlpha","refreshBg","isTranslucent","refreshCanceledOnTouchOutside","nonPenetrating","resizeBg","alpha","graphics","clear","drawRect","offAll","ui","CLICK","addChildAt","setTimeout","_inits","callHookInit","onInit","_bgImage","_bgSkin","_bgSizeGrid","_drawSkin","skin","sizeGrid","_resizeBg","Image","setBgSkin","url","setBgColor","color","setBgTexture","load","Handler","texture","fillTexture","getBgSprite","env_1","init_1","json_1","_indexID","default_1","unpackFile","res","_options","_activity","_isFocus","_pageName","visible","_getPageName","loadJson","catch","then","data","map","item","tyep","Loader","IMAGE","Promise","resolve","_newActivity","_onLoaded","_onLoadProgress","onNavigatorReady","onCreate","onNextProgress","activity","easeIn","Ease","linearIn","duration","fromProps","toProps","assign","onResume","Tween","to","easeOut","exitProps","onPause","onDestroy","destroy","onFocus","_isReady","_readyResolve","_readyPromise","_beginLoadStaticRes","commonRes","_onStaticResLoaded","mainPage","initNavigator","fileVersion","ResourceVersion","type","FILENAME_VERSION","enable","setNavigatorReady","_temp","_reject","_listener","force","ERROR","_initListener","reject","JSON","val","getRes","Looper","_tasks","_hasLoop","_checkLoop","timer","frameLoop","task","caller","clearAll","loop","array","where","removeIndexArray_1","reverse","removeItemForWhere","toAny","def","parse","ex","parseFloat","isNaN","_inferType","_toNumber_","_toBoolean_","_toObject_","stringify","_toString_","_popups","_fromProps","_toProps","_exitProps","_hidePopup","result","popupView","cb","uiDuration","uiToProps","uiExitProps","uiEaseOut","linearOut","max","_hidePopupAnim","_onHide","popup","onHide","removeSelf","_showPopup","uiFromProps","uiEaseIn","from","_showPopupAnim","showPopup","alias","mapKey","views","topLevel","hidePopup","v","close","_toasts","_popToast","toast","showToast","_on_hide","displayDuration","_pushToast","hideToast","BaseView","getChildByName","removeChildByName","eft_1","speaker_1","audio_1","js_1","event_1","runtime_1","message_1","utils_1","popupmanager_1","toastmanager_1","activity_1","popupview_1","toastview_1","baseview_1","query_1","OHOGame","init3D","start","getQueryString","setTransparent","setAdapterInfo","js","bg","eft","screen","speaker","audio","event","runtime","navigator","Activity","PopupView","ToastView","hook_1","HttpRequest","cache","group","ignoreCache","_url","_type","getTypeFromUrl","URL","formatURL","_cache","_data","loadedMap","setGroup","parserMap","_customParse","runWith","_loadImage","_loadSound","_loadTTF","loadRuntime","startsWith","that","response","substr","rt","getFileSystemManager","readFileSync","contentType","preLoadedMap","_http","onProgress","onError","send","info","rw","rh","target","varArgs","TypeError","nextSource","nextKey","writable","_initialized","_callbacks","_handleChanged","offResize","onAttachEvent","document","elem","fn","addEventListener","attachEvent","_dic","Dictionary","_mcpool","_inst","onLoadComplet","path","mc","play","loadComplet","thisRef","split","stop","off","LOADED","shift","MovieClip","remove","pivotX","pivotY","looper_1","_chancel_1","vowelsByFormantJP","vowelFormantFloorJP","vowelsByFormantCN","vowelFormantFloorCN","SpeakerController","_onPlay","_onStop","_onError","_onProgress","_onComplete","_playTime","_auidoUrl","_position","_duration","_formant","_speaking","_language","_chancel","_update","formant","position","Date","now","onPlay","onStop","onComplete","getFormant","isSpeaking","getVowel","formantValue","language","currentVowels","currentVowelFormantCeilValues","getVowelByFormant","speak","invoke","fixWechatAudioPlay","playSpeak","_peaks_1","_loadres_1","FixAudioContext","AudioContext","webkitAudioContext","mozAudioContext","msAudioContext","_CHANCELS","SpeakerChancel","stopped","_audioUrl","_onErrorCallback","amplitudeThreshold","audioCtx","sampleRate","sourceNode","createBufferSource","analyserNode","createAnalyser","fftSize","windowSize","frequencyBinCount","gaussianFilters","generateGaussianFilter","disconnect","connect","currentTime","buffer","currentAudioData","Uint8Array","getByteFrequencyData","currentAudioSpectrum","discreteCosineTransform","amplitudeSum","k","formantArray","smoothedAudioSpectrum","convoluteDataAndFilter","findLocalLargestPeaks","peakValues","peakPositions","frequencyUnit","formantAverage_1","formantVal","loadAudioRes","loadPromise","loadRes","audioData","decodeAudioData","destination","errorMsg","cancel","getValueFromArray","paddleType","actualIndex","deviationSquare","sum","mu","param","exp","j","sumCos","_","d2","cos","PI","output","filterMiddlePoint","floor","peakNum","lastPeak","lastPeakPositions","isIncreasing","isPeakIncreasing","failure","request","XMLHttpRequest","responseType","onload","onreadystatechange","readyState","status","AudioController","isMusic","_playing","_onPause","_paused","_music","_soundList","stopAll","isPaused","isPlaying","loops","playUrl","targetUrl","replaceExt","ext","Utils","getFileExtension","searchExt","SoundManager","playMusic","playSound","pause","resume","stopMusic","stopSound","removeChannel","_musicAudio","stopAllSound","setMusicVolume","volume","setSoundVolume","onload_1","loadJs","jspath","undefined","jsList","nodeList","_protocol","location","protocol","_script","createElement","keys","setAttribute","src","body","appendChild","onerror","err","_loadJS","node","_ready","reslove","_timer","_pollingDocument","clearTimeout","registeredEvent","fun","sort","removeEvent","sendEvent","args","EventDispatcher","pivotCenter","pivot","setViewProps","props","bindClick","onClick","onDown","onUp","onOut","sound","clickSound","MOUSE_DOWN","clickDownProps","clickAnimDuration","MOUSE_UP","clickNormalProps","MOUSE_OUT","btn","Button","btn_img","btn_label","Label","btn_sprite","btn_box","Box","page_list","_isDown","_onLoadMoreHandler","_loading","_preCount","onMouseUp","onMouseOut","onMouseDown","renderHandler","renderItem","refresh","_updatePage","loading","handler","maxHeight","_array","_cellSize","currentPos","_cellOffset","scrollBar","lastCount","preCount","List","page_view","_currentPage","_onPageChange","tweenTo","stopScroll","total","totalPage","changeSize","sss","any_1","_listeners","msg","postMessage","conchMarket","sendMessageToPlatform","resp","onMessage","randomArrayItem","source","random","randomUUID","_s4","substring","randomInteger","minNum","maxNum","randomNumber","randomArray","randomLength","copy","randomObj","back","opts","NewAct","redirectTo","pipeline_1","signleShow","pipeShow","put","next","_pipeline_map","_check","pipe","funcs","func","parseQueryParams","queryString","indexE","indexW","indexQ","decodeURIComponent","stringifyQuery","query","encodeURIComponent","join","decodeQuery","reduce","appendQueryParams","search","reg","RegExp","unescape","_transparent","_adapterInfo","handleAdapter","transparent","adapterInfo","newOptions"],"mappings":"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","file":"index.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(this, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 15);\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar bg_1 = require(\"./bg\");\r\nvar uimgr_1 = require(\"./uimgr\");\r\nvar _padding_left = 0;\r\nvar _padding_right = 0;\r\nvar _padding_top = 0;\r\nvar _padding_bottom = 0;\r\nvar _design_width = 0;\r\nvar _design_height = 0;\r\nvar _deviation = 0;\r\nvar _autoAdaption = true;\r\nvar _autoDirection = false;\r\nfunction size() {\r\n    var paddingWidth = _padding_left + _padding_right;\r\n    var paddingHeight = _padding_top + _padding_bottom;\r\n    var clientWidth = window.innerWidth || laya.utils.Browser.clientWidth;\r\n    var clientHeight = window.innerHeight || laya.utils.Browser.clientHeight;\r\n    var initWidth = _design_width;\r\n    var initHeight = _design_height;\r\n    var screenRatio = 1;\r\n    var initRatio = 1;\r\n    if (!_autoDirection) {\r\n        screenRatio = clientHeight / clientWidth;\r\n        initRatio = initHeight / initWidth;\r\n        if (Math.abs(screenRatio / initRatio - 1) > _deviation) {\r\n            if (screenRatio > initRatio) {\r\n                initHeight = initWidth * screenRatio;\r\n            }\r\n            else if (screenRatio < initRatio) {\r\n                initWidth = initHeight / screenRatio;\r\n            }\r\n        }\r\n    }\r\n    else if (initWidth < initHeight && clientWidth < clientHeight) { // \r\n        screenRatio = clientHeight / clientWidth;\r\n        initRatio = initHeight / initWidth;\r\n        if (Math.abs(screenRatio / initRatio - 1) > _deviation) {\r\n            if (screenRatio > initRatio) {\r\n                initHeight = initWidth * screenRatio;\r\n            }\r\n            else if (screenRatio < initRatio) {\r\n                initWidth = initHeight / screenRatio;\r\n            }\r\n        }\r\n    }\r\n    else if (initWidth < initHeight && clientWidth >= clientHeight) { // \r\n        screenRatio = clientHeight / clientWidth;\r\n        initRatio = initWidth / initHeight;\r\n        if (Math.abs(screenRatio / initRatio - 1) > _deviation) {\r\n            if (screenRatio > initRatio) {\r\n                initWidth = initHeight * screenRatio;\r\n            }\r\n            else if (screenRatio < initRatio) {\r\n                initHeight = initWidth / screenRatio;\r\n            }\r\n        }\r\n    }\r\n    else if (initWidth >= initHeight && clientWidth >= clientHeight) { // \r\n        screenRatio = clientHeight / clientWidth;\r\n        initRatio = initHeight / initWidth;\r\n        if (Math.abs(screenRatio / initRatio - 1) > _deviation) {\r\n            if (screenRatio > initRatio) {\r\n                initHeight = initWidth * screenRatio;\r\n            }\r\n            else if (screenRatio < initRatio) {\r\n                initWidth = initHeight / screenRatio;\r\n            }\r\n        }\r\n    }\r\n    else if (initWidth >= initHeight && clientWidth < clientHeight) { // \r\n        screenRatio = clientHeight / clientWidth;\r\n        initRatio = initWidth / initHeight;\r\n        if (Math.abs(screenRatio / initRatio - 1) > _deviation) {\r\n            if (screenRatio > initRatio) {\r\n                initWidth = initHeight * screenRatio;\r\n            }\r\n            else if (screenRatio < initRatio) {\r\n                initHeight = initWidth / screenRatio;\r\n            }\r\n        }\r\n    }\r\n    return {\r\n        initHeight: initHeight + paddingWidth,\r\n        initWidth: initWidth + paddingHeight\r\n    };\r\n}\r\nfunction initScreen(is3D, isAlpha, width, height) {\r\n    var options = [];\r\n    for (var _i = 4; _i < arguments.length; _i++) {\r\n        options[_i - 4] = arguments[_i];\r\n    }\r\n    _design_width = width;\r\n    _design_height = height;\r\n    if (_autoAdaption) {\r\n        var _a = size(), initHeight = _a.initHeight, initWidth = _a.initWidth;\r\n        Config.isAlpha = isAlpha;\r\n        if (is3D) {\r\n            Laya3D.init.apply(this, [initWidth, initHeight].concat(options));\r\n        }\r\n        else {\r\n            Laya.init.apply(this, [initWidth, initHeight].concat(options));\r\n        }\r\n        Laya.stage.scaleMode = Laya.Stage.SCALE_EXACTFIT;\r\n        if (_autoDirection) {\r\n            if (initWidth > initHeight) {\r\n                Laya.stage.screenMode = Laya.Stage.SCREEN_HORIZONTAL;\r\n            }\r\n            else {\r\n                Laya.stage.screenMode = Laya.Stage.SCREEN_VERTICAL;\r\n            }\r\n        }\r\n        Laya.stage.alignH = Laya.Stage.ALIGN_CENTER;\r\n        Laya.stage.alignV = Laya.Stage.ALIGN_MIDDLE;\r\n        if (isAlpha) {\r\n            Laya.stage.bgColor = \"none\";\r\n        }\r\n    }\r\n    else {\r\n        if (is3D) {\r\n            Laya3D.init.apply(this, [width, height].concat(options));\r\n        }\r\n        else {\r\n            Laya.init.apply(this, [width, height].concat(options));\r\n        }\r\n    }\r\n    bg_1.initBg();\r\n    uimgr_1.initUI();\r\n}\r\nexports.initScreen = initScreen;\r\nfunction resize() {\r\n    var _a = size(), initHeight = _a.initHeight, initWidth = _a.initWidth;\r\n    Laya.stage.width = initWidth;\r\n    Laya.stage.height = initHeight;\r\n}\r\nfunction getWidth() {\r\n    return Laya.stage.width;\r\n}\r\nfunction getHeight() {\r\n    return Laya.stage.height;\r\n}\r\nfunction getContentWidth() {\r\n    return getWidth() - _padding_left - _padding_right;\r\n}\r\nfunction getContentHeight() {\r\n    return getHeight() - _padding_top - _padding_bottom;\r\n}\r\nfunction setPaddingLeft(padding) {\r\n    _padding_left = padding;\r\n}\r\nfunction getPaddingLeft() {\r\n    return _padding_left;\r\n}\r\nfunction setPaddingRight(padding) {\r\n    _padding_right = padding;\r\n}\r\nfunction getPaddingRight() {\r\n    return _padding_right;\r\n}\r\nfunction setPaddingTop(padding) {\r\n    _padding_top = padding;\r\n}\r\nfunction getPaddingTop() {\r\n    return _padding_top;\r\n}\r\nfunction setPaddingBottom(padding) {\r\n    _padding_bottom = padding;\r\n}\r\nfunction getPaddingBottom() {\r\n    return _padding_bottom;\r\n}\r\nfunction getDesignWidth() {\r\n    return _design_width;\r\n}\r\nfunction getDesignHeight() {\r\n    return _design_height;\r\n}\r\nfunction getScale() {\r\n    var width = getContentWidth();\r\n    var height = getContentHeight();\r\n    var designWidth = getDesignWidth();\r\n    var designHeight = getDesignHeight();\r\n    return Math.min(width / designWidth, height / designHeight);\r\n}\r\nfunction getOffestX() {\r\n    if (!_autoAdaption) {\r\n        return _padding_left;\r\n    }\r\n    var scale = getScale();\r\n    var width = getContentWidth();\r\n    return (width - _design_width * scale) / 2 + _padding_left;\r\n}\r\nfunction getOffestY() {\r\n    if (!_autoAdaption) {\r\n        return _padding_top;\r\n    }\r\n    var scale = getScale();\r\n    var height = getContentHeight();\r\n    return (height - _design_height * scale) / 2 + _padding_top;\r\n}\r\nfunction setDeviation(deviation) {\r\n    _deviation = deviation;\r\n}\r\nfunction setAutoDirection(auto) {\r\n    _autoDirection = auto;\r\n}\r\nfunction setAutoAdaption(adaption) {\r\n    _autoAdaption = adaption;\r\n}\r\nexports.default = {\r\n    resize: resize,\r\n    getWidth: getWidth,\r\n    getHeight: getHeight,\r\n    getScale: getScale,\r\n    getOffestX: getOffestX,\r\n    getOffestY: getOffestY,\r\n    getContentWidth: getContentWidth,\r\n    getContentHeight: getContentHeight,\r\n    getDesignWidth: getDesignWidth,\r\n    getDesignHeight: getDesignHeight,\r\n    setDeviation: setDeviation,\r\n    setPaddingLeft: setPaddingLeft,\r\n    getPaddingLeft: getPaddingLeft,\r\n    setPaddingRight: setPaddingRight,\r\n    getPaddingRight: getPaddingRight,\r\n    setPaddingTop: setPaddingTop,\r\n    getPaddingTop: getPaddingTop,\r\n    setPaddingBottom: setPaddingBottom,\r\n    getPaddingBottom: getPaddingBottom,\r\n    setAutoDirection: setAutoDirection,\r\n    setAutoAdaption: setAutoAdaption,\r\n};\r\n","\"use strict\";\r\n//////////////////////////\r\n/////  Env\r\n//////////////////////////\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar isLayaApp = function () {\r\n    if (typeof window !== \"undefined\") {\r\n        return window.hasOwnProperty(\"Laya\");\r\n    }\r\n    return false;\r\n};\r\nvar isConchApp = function () {\r\n    if (typeof window !== \"undefined\") {\r\n        return window.hasOwnProperty(\"conch\");\r\n    }\r\n    return false;\r\n};\r\n//////////////////////////\r\n/////  Version\r\n//////////////////////////\r\nvar _app_version = \"${app_version}\";\r\nfunction getAppVersion() {\r\n    if (typeof _app_version === \"string\" && _app_version.indexOf('${') === 0) {\r\n        return;\r\n    }\r\n    return _app_version;\r\n}\r\nfunction setAppVersion(version) {\r\n    _app_version = version;\r\n}\r\n//////////////////////////\r\n/////  Version\r\n//////////////////////////\r\nvar _lib_version = \"1.1.10.1114.1434\";\r\nfunction getVersion() {\r\n    if (typeof _lib_version === \"string\" && _lib_version.indexOf('${') === 0) {\r\n        return '1.0.0';\r\n    }\r\n    return _lib_version;\r\n}\r\n//////////////////////////\r\n/////  Debug\r\n//////////////////////////\r\nvar _debugOn = '${debug}';\r\nfunction isDebug() {\r\n    if (typeof _debugOn === \"string\" && _debugOn.indexOf('${') === 0) {\r\n        return false;\r\n    }\r\n    if (_debugOn == \"false\" || _debugOn == \"0\") {\r\n        return false;\r\n    }\r\n    return !!_debugOn;\r\n}\r\nfunction setDebug(debug) {\r\n    _debugOn = debug;\r\n}\r\nfunction printDebug(message) {\r\n    var options = [];\r\n    for (var _i = 1; _i < arguments.length; _i++) {\r\n        options[_i - 1] = arguments[_i];\r\n    }\r\n    if (isDebug()) {\r\n        console.log.apply(console, [\"[ohosdk]\", \"[OHOGame]\", message].concat(options));\r\n    }\r\n}\r\nfunction printError(message) {\r\n    var options = [];\r\n    for (var _i = 1; _i < arguments.length; _i++) {\r\n        options[_i - 1] = arguments[_i];\r\n    }\r\n    if (isDebug()) {\r\n        console.error.apply(console, [\"[ohosdk]\", \"[OHOGame]\", message].concat(options));\r\n    }\r\n}\r\n//////////////////////////\r\n/////  Env\r\n//////////////////////////\r\nvar _env = '${env}';\r\nfunction setEnv(env) {\r\n    _env = env;\r\n}\r\nfunction getEnv() {\r\n    if (typeof _env === \"string\" && _env.indexOf('${') === 0) {\r\n        return;\r\n    }\r\n    return _env;\r\n}\r\n//////////////////////////\r\n/////  getClassName\r\n//////////////////////////\r\nvar classNameMap = {};\r\nfunction getClassName(obj) {\r\n    try {\r\n        if (obj) {\r\n            if (obj.name) {\r\n                return obj.name;\r\n            }\r\n            if (classNameMap[obj]) {\r\n                return classNameMap[obj];\r\n            }\r\n            var str = obj.toString();\r\n            var arr = void 0;\r\n            if (str.charAt(0) == '[') {\r\n                arr = str.match(/\\w+\\s(\\w+)\\w+\\s(\\w+)/);\r\n            }\r\n            else {\r\n                arr = str.match(/function\\s*(\\w+)/);\r\n            }\r\n            var name_1 = \"\";\r\n            if (arr && arr.length == 2) {\r\n                name_1 = arr[1];\r\n            }\r\n            classNameMap[obj] = name_1;\r\n            return name_1;\r\n        }\r\n    }\r\n    catch (e) {\r\n    }\r\n    return undefined;\r\n}\r\nexports.getClassName = getClassName;\r\nexports.default = {\r\n    isLayaApp: isLayaApp,\r\n    isConchApp: isConchApp,\r\n    getVersion: getVersion,\r\n    setAppVersion: setAppVersion,\r\n    getAppVersion: getAppVersion,\r\n    isDebug: isDebug,\r\n    setDebug: setDebug,\r\n    printError: printError,\r\n    printDebug: printDebug,\r\n    getEnv: getEnv,\r\n    setEnv: setEnv\r\n};\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar stack_1 = require(\"../navigator/stack\");\r\nvar resize_1 = require(\"../../utils/resize\");\r\nvar loader_1 = require(\"../navigator/loader\");\r\nvar screen_1 = require(\"./screen\");\r\nvar _inited = false;\r\nvar _uiManager;\r\nvar _mainUILayer;\r\nvar _topUILayer;\r\nfunction _checkInit() {\r\n    if (!_inited) {\r\n        _inited = true;\r\n        _uiManager = new Laya.Sprite();\r\n        _uiManager.mouseThrough = true;\r\n        _uiManager.name = '_tape_stage';\r\n        _mainUILayer = new Laya.Sprite();\r\n        _mainUILayer.name = '_tape_main_layer';\r\n        _mainUILayer.mouseThrough = true;\r\n        _topUILayer = new Laya.Sprite();\r\n        _topUILayer.name = '_tape_top_layer';\r\n        _topUILayer.mouseThrough = true;\r\n        _uiManager.addChild(_mainUILayer);\r\n        _uiManager.addChild(_topUILayer);\r\n        Laya.stage.addChild(_uiManager);\r\n        Laya.stage.on(Laya.Event.RESIZE, null, function () {\r\n            _resizeUI();\r\n        });\r\n        resize_1.onResize(function () {\r\n            screen_1.default.resize();\r\n        });\r\n    }\r\n    _resizeUI();\r\n}\r\nfunction _resizeUI() {\r\n    if (_mainUILayer) {\r\n        _mainUILayer.width = screen_1.default.getDesignWidth();\r\n        _mainUILayer.height = screen_1.default.getDesignHeight();\r\n        _mainUILayer.x = screen_1.default.getOffestX();\r\n        _mainUILayer.y = screen_1.default.getOffestY();\r\n    }\r\n    if (_topUILayer) {\r\n        _topUILayer.width = screen_1.default.getDesignWidth();\r\n        _topUILayer.height = screen_1.default.getDesignHeight();\r\n        _topUILayer.x = screen_1.default.getOffestX();\r\n        _topUILayer.y = screen_1.default.getOffestY();\r\n    }\r\n    _uiManager.scaleX = screen_1.default.getScale();\r\n    _uiManager.scaleY = screen_1.default.getScale();\r\n}\r\nfunction initUI() {\r\n    _checkInit();\r\n}\r\nexports.initUI = initUI;\r\nfunction checkFocus() {\r\n    if (_mainUILayer.numChildren > 0) {\r\n        var last = _mainUILayer.getChildAt(_mainUILayer.numChildren - 1);\r\n        if (last instanceof loader_1.default) {\r\n            stack_1.setFocus(true);\r\n            return;\r\n        }\r\n    }\r\n    stack_1.setFocus(false);\r\n}\r\nfunction moveTopToMainLayer(view) {\r\n    _checkInit();\r\n    if (view && view.parent == _mainUILayer) {\r\n        _mainUILayer.removeChild(view);\r\n        _mainUILayer.addChild(view);\r\n    }\r\n    checkFocus();\r\n}\r\nfunction addViewToMainLayer(view) {\r\n    _checkInit();\r\n    view && _mainUILayer.addChild(view);\r\n    checkFocus();\r\n}\r\nfunction addViewTopLayer(view) {\r\n    _checkInit();\r\n    view && _topUILayer.addChild(view);\r\n    checkFocus();\r\n}\r\nexports.default = {\r\n    checkFocus: checkFocus,\r\n    moveTopToMainLayer: moveTopToMainLayer,\r\n    addViewToMainLayer: addViewToMainLayer,\r\n    addViewTopLayer: addViewTopLayer,\r\n};\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar loader_1 = require(\"./loader\");\r\nvar uimgr_1 = require(\"../manager/uimgr\");\r\nvar _loaders = [];\r\nfunction _all() {\r\n    return _loaders;\r\n}\r\nfunction _length() {\r\n    return _loaders.length;\r\n}\r\nfunction _getStack(index) {\r\n    if (index === void 0) { index = 0; }\r\n    var len = _length();\r\n    return len > index ? _loaders[len - 1 - index] : null;\r\n}\r\nfunction _showStack(index, anim, callback) {\r\n    if (index === void 0) { index = 0; }\r\n    if (anim === void 0) { anim = false; }\r\n    if (callback === void 0) { callback = null; }\r\n    var stack = _getStack(index);\r\n    if (!stack) {\r\n        return;\r\n    }\r\n    stack.show(anim && _length() > 1, callback);\r\n}\r\nfunction _pushStack(stack) {\r\n    _loaders.push(stack);\r\n}\r\nfunction _topStack(stack) {\r\n    var index = _loaders.indexOf(stack);\r\n    if (index >= 0) {\r\n        _loaders.splice(index, 1);\r\n        _loaders.push(stack);\r\n        _refreshStack(null);\r\n        uimgr_1.default.moveTopToMainLayer(stack);\r\n    }\r\n}\r\nfunction _refreshStack(callback) {\r\n    _showStack(0, true, function () {\r\n        var stack = _getStack(1);\r\n        if (!stack) {\r\n            return;\r\n        }\r\n        stack.hide();\r\n        callback && callback();\r\n    });\r\n}\r\nfunction _finishStack(stacks) {\r\n    if (!stacks || stacks.length <= 0) {\r\n        return;\r\n    }\r\n    for (var i = 0; _length() > 1 && i < stacks.length; i++) {\r\n        var stack = stacks[i];\r\n        _loaders.splice(_loaders.indexOf(stack), 1);\r\n        stack.hide(true, function () {\r\n            stack.exit();\r\n        });\r\n    }\r\n    _showStack(0);\r\n}\r\nfunction _popStack(count) {\r\n    if (count >= _length()) {\r\n        count = _length() - 1;\r\n    }\r\n    if (count <= 0) {\r\n        return;\r\n    }\r\n    var pops = _loaders.splice(_length() - count, count);\r\n    pops.forEach(function (stack) {\r\n        stack.hide(true, function () {\r\n            stack.exit();\r\n        });\r\n    });\r\n    _showStack(0);\r\n}\r\nfunction setFocus(focus) {\r\n    var stack = _getStack();\r\n    if (stack) {\r\n        stack.focus(focus);\r\n    }\r\n}\r\nexports.setFocus = setFocus;\r\nfunction navigate(page, params, action, single) {\r\n    if (params === void 0) { params = null; }\r\n    if (action === void 0) { action = null; }\r\n    if (single === void 0) { single = false; }\r\n    if (!params) {\r\n        params = {};\r\n    }\r\n    var open = function () {\r\n        new loader_1.default({\r\n            page: page,\r\n            params: params,\r\n            onShow: function () {\r\n                _refreshStack(function () {\r\n                    action && action(true);\r\n                });\r\n            },\r\n            onLoaded: function (loader) {\r\n                uimgr_1.default.addViewToMainLayer(loader);\r\n                _pushStack(loader);\r\n            },\r\n            onLoadProgress: function (loader, progress) {\r\n                var stack = _getStack();\r\n                stack && stack.nextProgress(progress);\r\n            }\r\n        });\r\n    };\r\n    if (single || page.single) {\r\n        var stacks = [];\r\n        _all().forEach(function (stack) {\r\n            if (stack.filter(page)) {\r\n                stacks.push(stack);\r\n            }\r\n        });\r\n        stacks.length > 0 ? _topStack(stacks.pop()) : open();\r\n    }\r\n    else {\r\n        open();\r\n    }\r\n}\r\nfunction popToTop() {\r\n    _popStack(_length());\r\n}\r\nfunction pop(number) {\r\n    if (number === void 0) { number = 1; }\r\n    _popStack(number);\r\n}\r\nfunction finish(page, instance) {\r\n    if (instance === void 0) { instance = null; }\r\n    var stacks = [];\r\n    _all().forEach(function (stack) {\r\n        if (stack.filter(page, instance)) {\r\n            stacks.push(stack);\r\n        }\r\n    });\r\n    _finishStack(stacks);\r\n}\r\nexports.default = {\r\n    navigate: navigate,\r\n    pop: pop,\r\n    popToTop: popToTop,\r\n    finish: finish,\r\n};\r\n","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar screen_1 = require(\"../manager/screen\");\r\nvar baseview_1 = require(\"./baseview\");\r\nvar Component = /** @class */ (function (_super) {\r\n    __extends(Component, _super);\r\n    function Component(handleOnTouchOutside) {\r\n        if (handleOnTouchOutside === void 0) { handleOnTouchOutside = null; }\r\n        var _this = _super.call(this) || this;\r\n        _this._bgSprite = null;\r\n        _this._bgAlpha = 0.5;\r\n        _this._bgColor = '#000000';\r\n        _this._isTranslucent = true;\r\n        _this._isShow = false;\r\n        _this._handleOnTouchOutside = null;\r\n        _this._canceledOnTouchOutside = false;\r\n        _this._mask = false;\r\n        _this._onEvent = null;\r\n        _this._handleOnTouchOutside = handleOnTouchOutside;\r\n        _this._onEvent = function (e) {\r\n            if (_this.isShow && _this.canceledOnTouchOutside) {\r\n                _this._handleOnTouchOutside && _this._handleOnTouchOutside();\r\n            }\r\n            e.stopPropagation();\r\n        };\r\n        _this.initBg();\r\n        return _this;\r\n    }\r\n    Object.defineProperty(Component.prototype, \"bg\", {\r\n        get: function () {\r\n            return this._bgSprite;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Component.prototype, \"isShow\", {\r\n        get: function () {\r\n            return this._isShow;\r\n        },\r\n        set: function (isShow) {\r\n            this._isShow = isShow;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Component.prototype, \"bgAlpha\", {\r\n        get: function () {\r\n            return this._bgAlpha;\r\n        },\r\n        set: function (bgAlpha) {\r\n            this._bgAlpha = bgAlpha;\r\n            this.refreshBg();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Component.prototype, \"bgColor\", {\r\n        get: function () {\r\n            return this._bgColor;\r\n        },\r\n        set: function (bgColor) {\r\n            this._bgColor = bgColor;\r\n            this.refreshBg();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Component.prototype, \"isTranslucent\", {\r\n        get: function () {\r\n            return this._isTranslucent;\r\n        },\r\n        set: function (isTranslucent) {\r\n            this._isTranslucent = isTranslucent;\r\n            this.refreshBg();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Component.prototype, \"canceledOnTouchOutside\", {\r\n        get: function () {\r\n            return this._canceledOnTouchOutside;\r\n        },\r\n        set: function (canceledOnTouchOutside) {\r\n            this._canceledOnTouchOutside = canceledOnTouchOutside;\r\n            this.refreshCanceledOnTouchOutside();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Component.prototype, \"nonPenetrating\", {\r\n        get: function () {\r\n            return this._mask;\r\n        },\r\n        set: function (nonPenetrating) {\r\n            this._mask = nonPenetrating;\r\n            this.refreshCanceledOnTouchOutside();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Component.prototype.refreshBg = function () {\r\n        if (!this._bgSprite) {\r\n            return;\r\n        }\r\n        this.resizeBg();\r\n        this.refreshCanceledOnTouchOutside();\r\n        this._bgSprite.alpha = this.bgAlpha;\r\n        this._bgSprite.graphics.clear();\r\n        if (!this.isTranslucent) {\r\n            this._bgSprite.graphics.drawRect(0, 0, this._bgSprite.width, this._bgSprite.height, this.bgColor);\r\n        }\r\n    };\r\n    Component.prototype.refreshCanceledOnTouchOutside = function () {\r\n        this._bgSprite && this._bgSprite.offAll();\r\n        if ((this.canceledOnTouchOutside || this.nonPenetrating) && this.ui) {\r\n            this.ui.mouseThrough = true;\r\n            this._bgSprite && this._bgSprite.on(Laya.Event.CLICK, this, this._onEvent);\r\n        }\r\n    };\r\n    Component.prototype.initBg = function () {\r\n        var _this = this;\r\n        if (this._bgSprite) {\r\n            return;\r\n        }\r\n        this._bgSprite = new Laya.Sprite();\r\n        this.addChildAt(this._bgSprite, 0);\r\n        setTimeout(function () { _this.refreshBg(); }, 0);\r\n    };\r\n    Component.prototype.resizeBg = function () {\r\n        if (!this._bgSprite) {\r\n            return;\r\n        }\r\n        this._bgSprite.x = -screen_1.default.getOffestX();\r\n        this._bgSprite.y = -screen_1.default.getOffestY();\r\n        this._bgSprite.width = screen_1.default.getWidth();\r\n        this._bgSprite.height = screen_1.default.getHeight();\r\n    };\r\n    return Component;\r\n}(baseview_1.default));\r\nexports.default = Component;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar _inits = [];\r\nfunction callHookInit(width, height) {\r\n    var options = [];\r\n    for (var _i = 2; _i < arguments.length; _i++) {\r\n        options[_i - 2] = arguments[_i];\r\n    }\r\n    _inits.forEach(function (callback) { return callback.apply(void 0, [width, height].concat(options)); });\r\n}\r\nexports.callHookInit = callHookInit;\r\nfunction onInit(callback) {\r\n    if (callback && typeof callback == \"function\" && _inits.indexOf(callback) < 0) {\r\n        _inits.push(callback);\r\n    }\r\n}\r\nexports.default = {\r\n    onInit: onInit\r\n};\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar screen_1 = require(\"./screen\");\r\nvar _bgSprite = null;\r\nvar _bgImage = null;\r\nvar _bgSkin = null;\r\nvar _bgSizeGrid = null;\r\nvar _inited = false;\r\nfunction _checkInit() {\r\n    if (!_inited) {\r\n        _inited = true;\r\n        _bgSprite = new Laya.Sprite;\r\n        _bgSprite.name = '_tape_bg_layer';\r\n        _bgImage = new Laya.Image;\r\n        _bgImage.name = '_bg_image';\r\n        Laya.stage.addChild(_bgSprite);\r\n        Laya.stage.addChild(_bgImage);\r\n        Laya.stage.on(Laya.Event.RESIZE, null, function () {\r\n            _resizeBg();\r\n        });\r\n    }\r\n    _resizeBg();\r\n}\r\nfunction _drawSkin() {\r\n    if (_bgImage) {\r\n        if (_bgSkin) {\r\n            _bgImage.skin = _bgSkin;\r\n        }\r\n        if (_bgSizeGrid) {\r\n            _bgImage.sizeGrid = _bgSizeGrid;\r\n        }\r\n        else {\r\n            _bgImage.sizeGrid = '';\r\n        }\r\n    }\r\n}\r\nfunction _resizeBg() {\r\n    if (_bgSprite) {\r\n        _bgSprite.width = screen_1.default.getWidth();\r\n        _bgSprite.height = screen_1.default.getHeight();\r\n    }\r\n    if (_bgImage) {\r\n        _bgImage.width = screen_1.default.getWidth();\r\n        _bgImage.height = screen_1.default.getHeight();\r\n    }\r\n}\r\nfunction initBg() {\r\n    _checkInit();\r\n    _drawSkin();\r\n}\r\nexports.initBg = initBg;\r\nfunction setBgColor(color) {\r\n    if (!_bgSprite) {\r\n        return;\r\n    }\r\n    _bgSprite.graphics.clear();\r\n    _bgSprite.graphics.drawRect(0, 0, _bgSprite.width, _bgSprite.height, color);\r\n}\r\nfunction setBgSkin(url, sizeGrid) {\r\n    if (sizeGrid === void 0) { sizeGrid = null; }\r\n    _bgSkin = url;\r\n    _bgSizeGrid = sizeGrid;\r\n    _drawSkin();\r\n}\r\nfunction setBgTexture(url) {\r\n    if (!_bgSprite) {\r\n        return;\r\n    }\r\n    _bgSprite.graphics.clear();\r\n    Laya.loader.load(url, Laya.Handler.create(this, function (texture) {\r\n        try {\r\n            _bgSprite.graphics.fillTexture(texture, 0, 0, _bgSprite.width, _bgSprite.height, 'repeat');\r\n        }\r\n        catch (error) {\r\n        }\r\n    }));\r\n}\r\nfunction getBgSprite() {\r\n    return _bgSprite;\r\n}\r\nexports.default = {\r\n    setBgSkin: setBgSkin,\r\n    setBgColor: setBgColor,\r\n    setBgTexture: setBgTexture,\r\n    getBgSprite: getBgSprite,\r\n};\r\n","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar uimgr_1 = require(\"../manager/uimgr\");\r\nvar env_1 = require(\"../env\");\r\nvar init_1 = require(\"./init\");\r\nvar json_1 = require(\"../../utils/json\");\r\nvar _indexID = 1;\r\nfunction genID(obj) {\r\n    var name = env_1.getClassName(obj) || \"Activity\";\r\n    return name + \"$\" + _indexID++;\r\n}\r\nfunction getRes(unpackFile, res) {\r\n    if (unpackFile) {\r\n        return json_1.loadJson(unpackFile, true).catch(function () {\r\n            return [];\r\n        }).then(function (data) {\r\n            return res.concat(data.map(function (item) {\r\n                return {\r\n                    url: item,\r\n                    tyep: Laya.Loader.IMAGE\r\n                };\r\n            }));\r\n        });\r\n    }\r\n    return Promise.resolve(res);\r\n}\r\nvar default_1 = /** @class */ (function (_super) {\r\n    __extends(default_1, _super);\r\n    function default_1(options) {\r\n        var _this = _super.call(this) || this;\r\n        _this._options = null;\r\n        _this._activity = null;\r\n        _this._isShow = false;\r\n        _this._isFocus = false;\r\n        _this._pageName = \"\";\r\n        _this.visible = false;\r\n        _this._options = options;\r\n        _this._pageName = genID(_this._options.page);\r\n        env_1.default.printDebug(\"init\", _this._getPageName());\r\n        getRes(_this._options.page.unpackFile, _this._options.page.res || []).catch(function () {\r\n            return [];\r\n        }).then(function (res) {\r\n            if (res && res.length > 0) {\r\n                Laya.loader.load(res, Laya.Handler.create(_this, function () {\r\n                    _this._newActivity();\r\n                    setTimeout(function () { _this._onLoaded(); }, 100);\r\n                    env_1.default.printDebug(\"onLoaded\", _this._getPageName());\r\n                }), Laya.Handler.create(_this, function (progress) {\r\n                    env_1.default.printDebug(\"onLoadProgress\", _this._getPageName(), progress);\r\n                    _this._onLoadProgress(progress);\r\n                }, null, false));\r\n            }\r\n            else {\r\n                _this._newActivity();\r\n                _this._onLoaded();\r\n                env_1.default.printDebug(\"onLoaded\", _this._getPageName());\r\n                env_1.default.printDebug(\"onLoadProgress\", _this._getPageName(), 1);\r\n            }\r\n        });\r\n        return _this;\r\n    }\r\n    default_1.prototype._getPageName = function () {\r\n        return this._pageName;\r\n    };\r\n    default_1.prototype._newActivity = function () {\r\n        if (this._activity) {\r\n            return;\r\n        }\r\n        this._activity = new this._options.page({\r\n            page: this._options.page,\r\n            params: this._options.params\r\n        });\r\n        this._activity[\"_ID\"] = this._pageName;\r\n        env_1.default.printDebug(\"newActivity\", this._getPageName());\r\n    };\r\n    default_1.prototype._onLoaded = function () {\r\n        var _this = this;\r\n        init_1.onNavigatorReady().then(function () {\r\n            _this._options.onLoaded && _this._options.onLoaded(_this);\r\n            _this.addChild(_this._activity);\r\n            env_1.default.printDebug(\"onCreate\", _this._getPageName());\r\n            _this._activity.onCreate && _this._activity.onCreate();\r\n            _this._options.onShow && _this._options.onShow();\r\n        });\r\n    };\r\n    default_1.prototype._onLoadProgress = function (progress) {\r\n        this._options.onLoadProgress && this._options.onLoadProgress(this, progress);\r\n    };\r\n    default_1.prototype.nextProgress = function (progress) {\r\n        this._activity.onNextProgress && this._activity.onNextProgress(progress);\r\n    };\r\n    default_1.prototype.filter = function (page, activity) {\r\n        if (page === this._options.page) {\r\n            return !activity || activity === this._activity;\r\n        }\r\n        return false;\r\n    };\r\n    default_1.prototype.show = function (anim, callback) {\r\n        if (this.visible) {\r\n            return;\r\n        }\r\n        if (this._isShow) {\r\n            return;\r\n        }\r\n        this._isShow = true;\r\n        var easeIn = this._activity.easeIn || Laya.Ease.linearIn;\r\n        var duration = this._activity.duration || 0;\r\n        var fromProps = this._activity.fromProps || {};\r\n        var toProps = this._activity.toProps || {};\r\n        if (anim && duration > 0) {\r\n            Object.assign(this, fromProps);\r\n            env_1.default.printDebug(\"onResume\", this._getPageName());\r\n            this._activity.onResume && this._activity.onResume();\r\n            this.visible = true;\r\n            Laya.Tween.to(this, toProps, duration, easeIn, Laya.Handler.create(this, function () {\r\n                callback && callback();\r\n            }));\r\n        }\r\n        else {\r\n            env_1.default.printDebug(\"onResume\", this._getPageName());\r\n            this._activity.onResume && this._activity.onResume();\r\n            this.visible = true;\r\n            callback && callback();\r\n        }\r\n        uimgr_1.default.checkFocus();\r\n    };\r\n    default_1.prototype.hide = function (anim, callback) {\r\n        var _this = this;\r\n        if (!this.visible) {\r\n            return;\r\n        }\r\n        if (!this._isShow) {\r\n            return;\r\n        }\r\n        this._isShow = false;\r\n        var easeOut = this._activity.easeOut || Laya.Ease.linearIn;\r\n        var duration = this._activity.duration || 0;\r\n        var fromProps = this._activity.toProps || {};\r\n        var toProps = this._activity.exitProps || {};\r\n        if (anim && duration > 0) {\r\n            Object.assign(this, fromProps);\r\n            env_1.default.printDebug(\"onPause\", this._getPageName());\r\n            this._activity.onPause && this._activity.onPause();\r\n            Laya.Tween.to(this, toProps, duration, easeOut, Laya.Handler.create(this, function () {\r\n                _this.visible = true;\r\n                callback && callback();\r\n            }));\r\n        }\r\n        else {\r\n            env_1.default.printDebug(\"onPause\", this._getPageName());\r\n            this._activity.onPause && this._activity.onPause();\r\n            this.visible = false;\r\n            callback && callback();\r\n        }\r\n        this.focus(false);\r\n    };\r\n    default_1.prototype.exit = function () {\r\n        env_1.default.printDebug(\"onDestroy\", this._getPageName());\r\n        this._activity.onDestroy && this._activity.onDestroy();\r\n        this.destroy();\r\n    };\r\n    default_1.prototype.focus = function (focus) {\r\n        if (this._isFocus === focus) {\r\n            return;\r\n        }\r\n        this._isFocus = focus;\r\n        env_1.default.printDebug(\"onFocus\", this._getPageName(), focus);\r\n        this._activity.onFocus && this._activity.onFocus(focus);\r\n    };\r\n    return default_1;\r\n}(Laya.Component));\r\nexports.default = default_1;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar stack_1 = require(\"./stack\");\r\nvar _options = null;\r\nvar _inited = false;\r\nvar _isReady = false;\r\nvar _readyResolve = null;\r\nvar _readyPromise = new Promise(function (resolve) {\r\n    _readyResolve = resolve;\r\n});\r\nfunction _enableResourceVersion() {\r\n    if (_options && _options.fileVersion) {\r\n        Laya.ResourceVersion.type = Laya.ResourceVersion.FILENAME_VERSION;\r\n        Laya.ResourceVersion.enable(_options.fileVersion, Laya.Handler.create(null, function () {\r\n            _beginLoadStaticRes();\r\n        }));\r\n    }\r\n    else {\r\n        _beginLoadStaticRes();\r\n    }\r\n}\r\nfunction _beginLoadStaticRes() {\r\n    var res = _options.commonRes || [];\r\n    if (res.length > 0) {\r\n        Laya.loader.load(res, Laya.Handler.create(null, function () {\r\n            _onStaticResLoaded();\r\n            _options.onLoaded && _options.onLoaded();\r\n        }), Laya.Handler.create(this, function (progress) {\r\n            _options.onLoadProgress && _options.onLoadProgress(progress);\r\n        }, null, false));\r\n    }\r\n    else {\r\n        _options.onLoadProgress && _options.onLoadProgress(100);\r\n        _options.onLoaded && _options.onLoaded();\r\n        _onStaticResLoaded();\r\n    }\r\n}\r\nfunction _onStaticResLoaded() {\r\n    _options.mainPage && stack_1.default.navigate(_options.mainPage);\r\n}\r\nfunction initNavigator(options) {\r\n    if (!options || _inited) {\r\n        return;\r\n    }\r\n    _options = options;\r\n    _enableResourceVersion();\r\n    _inited = true;\r\n}\r\nexports.initNavigator = initNavigator;\r\nfunction onNavigatorReady() {\r\n    if (_isReady) {\r\n        return Promise.resolve();\r\n    }\r\n    return _readyPromise;\r\n}\r\nexports.onNavigatorReady = onNavigatorReady;\r\nfunction setNavigatorReady() {\r\n    if (_isReady) {\r\n        return;\r\n    }\r\n    _isReady = true;\r\n    _readyResolve();\r\n    _readyResolve = null;\r\n    _readyPromise = null;\r\n}\r\nexports.setNavigatorReady = setNavigatorReady;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar _temp = {};\r\nvar _reject = {};\r\nvar _listener = false;\r\nfunction _initListener() {\r\n    if (_listener) {\r\n        return;\r\n    }\r\n    _listener = true;\r\n    Laya.loader.on(Laya.Event.ERROR, this, function (url) {\r\n        if (_reject[url]) {\r\n            _reject[url](\"load res error: \" + url);\r\n        }\r\n    });\r\n}\r\nfunction loadJson(url, force) {\r\n    var _this = this;\r\n    if (force === void 0) { force = false; }\r\n    if (!force && _temp[url]) {\r\n        return Promise.resolve(_temp[url]);\r\n    }\r\n    _initListener();\r\n    return new Promise(function (resolve, reject) {\r\n        _reject[url] = reject;\r\n        Laya.loader.load([{ url: url, type: Laya.Loader.JSON }], Laya.Handler.create(_this, function () {\r\n            var val = Laya.loader.getRes(url);\r\n            if (val) {\r\n                _temp[url] = val;\r\n                resolve(val);\r\n            }\r\n            else {\r\n                reject();\r\n            }\r\n            delete _reject[url];\r\n        }));\r\n    });\r\n}\r\nexports.loadJson = loadJson;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nfunction removeItemForWhere(array, where) {\r\n    if (typeof where === 'function') {\r\n        var removeIndexArray_1 = [];\r\n        array.forEach(function (value, index) {\r\n            if (where(value)) {\r\n                removeIndexArray_1.push(index);\r\n            }\r\n        });\r\n        removeIndexArray_1.reverse();\r\n        removeIndexArray_1.forEach(function (index) {\r\n            array.splice(index, 1);\r\n        });\r\n    }\r\n}\r\nvar Looper = /** @class */ (function () {\r\n    function Looper() {\r\n        this._tasks = [];\r\n        this._hasLoop = false;\r\n    }\r\n    Looper.prototype._checkLoop = function () {\r\n        var _this = this;\r\n        if (this._tasks.length > 0) {\r\n            if (!this._hasLoop) {\r\n                Laya.timer.frameLoop(1, this, function () {\r\n                    _this._tasks.forEach(function (task) {\r\n                        var caller = task.caller, callback = task.callback;\r\n                        callback.apply(caller);\r\n                    });\r\n                });\r\n                this._hasLoop = true;\r\n            }\r\n        }\r\n        else {\r\n            if (this._hasLoop) {\r\n                Laya.timer.clearAll(this);\r\n                this._hasLoop = false;\r\n            }\r\n        }\r\n    };\r\n    Looper.prototype.loop = function (caller, callback) {\r\n        var filterTasks = this._tasks.filter(function (task) {\r\n            return task.caller == caller && task.callback == callback;\r\n        });\r\n        if (filterTasks.length == 0) {\r\n            this._tasks.push({\r\n                caller: caller,\r\n                callback: callback,\r\n            });\r\n            this._checkLoop();\r\n        }\r\n    };\r\n    Looper.prototype.clear = function (caller, callback) {\r\n        removeItemForWhere(this._tasks, function (task) {\r\n            return task.caller == caller && (!callback || task.callback == callback);\r\n        });\r\n        this._checkLoop();\r\n    };\r\n    return Looper;\r\n}());\r\nexports.Looper = Looper;\r\nexports.default = new Looper;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nfunction _toNumber_(value) {\r\n    try {\r\n        return JSON.parse(value);\r\n    }\r\n    catch (ex) {\r\n        return parseFloat(value);\r\n    }\r\n}\r\nfunction _toBoolean_(value) {\r\n    return !!value && value != 'false' && value != '0';\r\n}\r\nfunction _toString_(value, def) {\r\n    try {\r\n        var type = typeof value;\r\n        if (type === 'string') {\r\n            return value;\r\n        }\r\n        else if (type === 'boolean') {\r\n            return value ? 'true' : 'false';\r\n        }\r\n        else if (type === 'number') {\r\n            return \"\" + value;\r\n        }\r\n        else if (type === 'object') {\r\n            return JSON.stringify(value);\r\n        }\r\n    }\r\n    catch (ex) {\r\n    }\r\n    return def;\r\n}\r\nfunction _toObject_(value, def) {\r\n    if (typeof value === 'object') {\r\n        return value;\r\n    }\r\n    try {\r\n        return JSON.parse(value);\r\n    }\r\n    catch (ex) {\r\n    }\r\n    return def;\r\n}\r\nfunction _inferType(value) {\r\n    if (typeof value !== 'string') {\r\n        return typeof value;\r\n    }\r\n    try {\r\n        var parsed = JSON.parse(value);\r\n        return typeof parsed;\r\n    }\r\n    catch (ex) {\r\n        // might be a pure number\r\n        var number = parseFloat(value);\r\n        if (!isNaN(number) && \"\" + number === value) {\r\n            return 'number';\r\n        }\r\n        return 'string';\r\n    }\r\n}\r\nfunction toAny(value, def) {\r\n    if (value === undefined || value === null) {\r\n        return def;\r\n    }\r\n    // try to infer type and return\r\n    var type = _inferType(value);\r\n    if (def !== undefined && def !== null) {\r\n        type = typeof def;\r\n    }\r\n    switch (type) {\r\n        case 'number':\r\n            return _toNumber_(value);\r\n        case 'boolean':\r\n            return _toBoolean_(value);\r\n        case 'object':\r\n            return _toObject_(value, def);\r\n        case 'string':\r\n            return _toString_(value, def);\r\n        default:\r\n            break;\r\n    }\r\n    return def;\r\n}\r\nexports.toAny = toAny;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar env_1 = require(\"../env\");\r\nvar uimgr_1 = require(\"../manager/uimgr\");\r\nvar _popups = {};\r\nvar _fromProps = { alpha: 0 };\r\nvar _toProps = { alpha: 1 };\r\nvar _exitProps = { alpha: 0 };\r\nfunction _showPopupAnim(popupView, cb) {\r\n    // ui anim\r\n    var uiDuration = popupView.uiDuration || 300;\r\n    var uiFromProps = popupView.uiFromProps || {};\r\n    var uiToProps = popupView.uiToProps || {};\r\n    var uiEaseIn = popupView.uiEaseIn || Laya.Ease.linearIn;\r\n    Object.assign(popupView.ui, uiFromProps);\r\n    Laya.Tween.to(popupView.ui, uiToProps, uiDuration, uiEaseIn);\r\n    // view anim\r\n    var duration = popupView.duration || 300;\r\n    var from = popupView.fromProps || _fromProps || {};\r\n    var to = popupView.toProps || _toProps || {};\r\n    var easeIn = popupView.easeIn || Laya.Ease.linearIn;\r\n    Object.assign(popupView, from);\r\n    Laya.Tween.to(popupView, to, duration, easeIn, Laya.Handler.create(this, function () {\r\n        cb && cb(popupView);\r\n    }));\r\n}\r\nfunction _hidePopupAnim(popupView, cb) {\r\n    // ui anim\r\n    var uiDuration = popupView.uiDuration || 300;\r\n    var uiToProps = popupView.uiToProps || {};\r\n    var uiExitProps = popupView.uiExitProps || {};\r\n    var uiEaseOut = popupView.uiEaseOut || Laya.Ease.linearOut;\r\n    Object.assign(popupView.ui, uiToProps);\r\n    Laya.Tween.to(popupView.ui, uiExitProps, uiDuration, uiEaseOut);\r\n    // view anim\r\n    var duration = popupView.duration || 300;\r\n    var toProps = popupView.toProps || _toProps || {};\r\n    var exitProps = popupView.exitProps || _exitProps || {};\r\n    var easeOut = popupView.easeOut || Laya.Ease.linearOut;\r\n    Object.assign(popupView, toProps);\r\n    Laya.Tween.to(popupView, exitProps, duration, easeOut, Laya.Handler.create(this, function () {\r\n        cb && cb(popupView);\r\n    }), Math.max(0, uiDuration - duration));\r\n}\r\nfunction _hidePopup(view, result) {\r\n    _hidePopupAnim(view, function () {\r\n        view._onHide && view._onHide(view.popup, result);\r\n        view.isShow = false;\r\n        view.onHide && view.onHide(view.popup, result);\r\n        view.removeSelf && view.removeSelf();\r\n        view.destroy && view.destroy();\r\n        uimgr_1.default.checkFocus();\r\n    });\r\n}\r\nfunction _showPopup(view) {\r\n    _showPopupAnim(view, function () {\r\n        view.isShow = true;\r\n    });\r\n}\r\nfunction showPopup(popup, params, onHide, alias) {\r\n    if (params === void 0) { params = null; }\r\n    if (onHide === void 0) { onHide = null; }\r\n    if (alias === void 0) { alias = \"default\"; }\r\n    var mapKey = alias + \"_\" + env_1.getClassName(popup);\r\n    var views = _popups[mapKey];\r\n    var view = new popup();\r\n    view.alias = alias;\r\n    view.popup = popup;\r\n    view.params = params || {};\r\n    view._onHide = onHide;\r\n    if (views) {\r\n        views.push(view);\r\n    }\r\n    else {\r\n        _popups[mapKey] = [view];\r\n    }\r\n    if (view.topLevel) {\r\n        uimgr_1.default.addViewTopLayer(view);\r\n    }\r\n    else {\r\n        uimgr_1.default.addViewToMainLayer(view);\r\n    }\r\n    view.onShow && view.onShow();\r\n    _showPopup(view);\r\n}\r\nfunction hidePopup(popup, view, result, alias) {\r\n    if (view === void 0) { view = null; }\r\n    if (result === void 0) { result = {}; }\r\n    if (alias === void 0) { alias = \"default\"; }\r\n    var mapKey = alias + \"_\" + env_1.getClassName(popup);\r\n    var views = _popups[mapKey];\r\n    if (view) {\r\n        var index = views ? views.indexOf(view) : -1;\r\n        if (index < 0) {\r\n            return;\r\n        }\r\n        views.splice(index, 1);\r\n        _hidePopup(view, result);\r\n    }\r\n    else {\r\n        views && views.splice(0, views.length).forEach(function (v) {\r\n            _hidePopup(v, result || { close: true });\r\n        });\r\n    }\r\n}\r\nexports.default = {\r\n    showPopup: showPopup,\r\n    hidePopup: hidePopup\r\n};\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar uimgr_1 = require(\"../manager/uimgr\");\r\nvar _toasts = {};\r\nfunction _pushToast(toast, view) {\r\n    if (_toasts[toast]) {\r\n        _toasts[toast].push(view);\r\n    }\r\n    else {\r\n        _toasts[toast] = [view];\r\n    }\r\n}\r\nfunction _popToast(toast, view) {\r\n    if (!_toasts[toast]) {\r\n        return [];\r\n    }\r\n    if (view && _toasts[toast].length > 1) {\r\n        _toasts[toast].splice(_toasts[toast].indexOf(view), 1);\r\n        return [view];\r\n    }\r\n    else {\r\n        var views = _toasts[toast] || [];\r\n        delete _toasts[toast];\r\n        return views;\r\n    }\r\n}\r\nfunction showToast(toast, params, onHide) {\r\n    if (params === void 0) { params = null; }\r\n    if (onHide === void 0) { onHide = null; }\r\n    var view = new toast;\r\n    view._on_hide = onHide;\r\n    view.toast = toast;\r\n    view.params = params || {};\r\n    view.onShow && view.onShow();\r\n    var from = view.fromProps || { alpha: 0 };\r\n    var to = view.toProps || { alpha: 1 };\r\n    var exit = view.exitProps || { alpha: 0 };\r\n    var easeIn = view.easeIn || Laya.Ease.linearIn;\r\n    var easeOut = view.easeOut || Laya.Ease.linearOut;\r\n    var duration = view.duration;\r\n    var displayDuration = view.displayDuration;\r\n    Object.assign(view, from);\r\n    Laya.Tween.to(view, to, duration, easeIn, Laya.Handler.create(this, function () {\r\n        view.isShow = true;\r\n    }), 0);\r\n    if (displayDuration != -1) {\r\n        Laya.Tween.to(view, exit, duration, easeOut, Laya.Handler.create(this, function () {\r\n            if (view) {\r\n                _popToast(toast, view);\r\n                view._on_hide && view._on_hide(view.toast);\r\n                view.isShow = false;\r\n                view.onHide && view.onHide();\r\n                view.destroy();\r\n            }\r\n        }), displayDuration + duration);\r\n    }\r\n    _pushToast(toast, view);\r\n    if (view.topLevel) {\r\n        uimgr_1.default.addViewTopLayer(view);\r\n    }\r\n    else {\r\n        uimgr_1.default.addViewToMainLayer(view);\r\n    }\r\n}\r\nfunction hideToast(toast, view) {\r\n    if (view === void 0) { view = null; }\r\n    var list = _popToast(toast, view);\r\n    list.forEach(function (view) {\r\n        view._on_hide && view._on_hide(view.toast);\r\n        view.isShow = false;\r\n        view.onHide && view.onHide();\r\n        view.destroy();\r\n    });\r\n}\r\nexports.default = {\r\n    showToast: showToast,\r\n    hideToast: hideToast,\r\n};\r\n","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar BaseView = /** @class */ (function (_super) {\r\n    __extends(BaseView, _super);\r\n    function BaseView() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    Object.defineProperty(BaseView.prototype, \"ui\", {\r\n        get: function () {\r\n            return this.getChildByName('_contentView');\r\n        },\r\n        set: function (view) {\r\n            this.removeChildByName('_contentView');\r\n            view.name = '_contentView';\r\n            view.mouseThrough = true;\r\n            this.addChild(view);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return BaseView;\r\n}(Laya.Component));\r\nexports.default = BaseView;\r\n","\"use strict\";\r\nrequire(\"./adapter\");\r\nrequire(\"./polyfill\");\r\nvar bg_1 = require(\"./services/manager/bg\");\r\nvar eft_1 = require(\"./services/manager/eft\");\r\nvar screen_1 = require(\"./services/manager/screen\");\r\nvar speaker_1 = require(\"./services/speaker\");\r\nvar audio_1 = require(\"./services/audio\");\r\nvar env_1 = require(\"./services/env\");\r\nvar js_1 = require(\"./services/js\");\r\nvar event_1 = require(\"./services/event\");\r\nvar runtime_1 = require(\"./services/runtime\");\r\nvar message_1 = require(\"./services/message\");\r\nvar utils_1 = require(\"./services/utils\");\r\nvar stack_1 = require(\"./services/navigator/stack\");\r\nvar popupmanager_1 = require(\"./services/display/popupmanager\");\r\nvar toastmanager_1 = require(\"./services/display/toastmanager\");\r\nvar activity_1 = require(\"./services/display/activity\");\r\nvar popupview_1 = require(\"./services/display/popupview\");\r\nvar toastview_1 = require(\"./services/display/toastview\");\r\nvar baseview_1 = require(\"./services/display/baseview\");\r\nvar query_1 = require(\"./utils/query\");\r\nvar init_1 = require(\"./services/init\");\r\nvar OHOGame = Object.assign({}, {\r\n    init: init_1.init,\r\n    init3D: init_1.init3D,\r\n    start: init_1.start,\r\n    getQueryString: query_1.getQueryString,\r\n    setTransparent: init_1.setTransparent,\r\n    setAdapterInfo: init_1.setAdapterInfo,\r\n    env: env_1.default,\r\n    js: js_1.default,\r\n    bg: bg_1.default,\r\n    eft: eft_1.default,\r\n    screen: screen_1.default,\r\n    speaker: speaker_1.default,\r\n    audio: audio_1.default,\r\n    event: event_1.default,\r\n    runtime: runtime_1.default,\r\n    navigator: stack_1.default,\r\n    utils: utils_1.default,\r\n    popup: popupmanager_1.default,\r\n    toast: toastmanager_1.default,\r\n    message: message_1.default,\r\n    Activity: activity_1.default,\r\n    PopupView: popupview_1.default,\r\n    ToastView: toastview_1.default,\r\n    BaseView: baseview_1.default\r\n});\r\nif (typeof window !== \"undefined\") {\r\n    window.OHOGame = OHOGame;\r\n}\r\nmodule.exports = {\r\n    OHOGame: OHOGame\r\n};\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nrequire(\"./_transsion\");\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar hook_1 = require(\"../services/hook\");\r\n// loader\r\nif (Laya && Laya.Loader) {\r\n    var Handler = Laya.Handler;\r\n    var Loader = Laya.Loader;\r\n    var HttpRequest = Laya.HttpRequest;\r\n    var __proto = Loader.prototype;\r\n    __proto.load = function (url, type, cache, group, ignoreCache) {\r\n        (cache === void 0) && (cache = true);\r\n        (ignoreCache === void 0) && (ignoreCache = false);\r\n        this._url = url;\r\n        if (url.indexOf(\"data:image\") === 0)\r\n            this._type = type = \"image\";\r\n        else {\r\n            this._type = type || (type = this.getTypeFromUrl(url));\r\n            url = Laya.URL.formatURL(url);\r\n        }\r\n        this._cache = cache;\r\n        this._data = null;\r\n        if (!ignoreCache && Loader.loadedMap[url]) {\r\n            this._data = Loader.loadedMap[url];\r\n            this.event(/*laya.events.Event.PROGRESS*/ \"progress\", 1);\r\n            this.event(/*laya.events.Event.COMPLETE*/ \"complete\", this._data);\r\n            return;\r\n        }\r\n        if (group)\r\n            Loader.setGroup(url, group);\r\n        if (Loader.parserMap[type] != null) {\r\n            this._customParse = true;\r\n            if (((Loader.parserMap[type]) instanceof Handler))\r\n                Loader.parserMap[type].runWith(this);\r\n            else\r\n                Loader.parserMap[type].call(null, this);\r\n            return;\r\n        }\r\n        if (type === \"image\" || type === \"htmlimage\" || type === \"nativeimage\")\r\n            return this._loadImage(url);\r\n        if (type === \"sound\")\r\n            return this._loadSound(url);\r\n        if (type === \"ttf\")\r\n            return this._loadTTF(url);\r\n        try {\r\n            // \r\n            if (typeof loadRuntime !== 'undefined' && !url.startsWith(\"http\")) {\r\n                var that = this;\r\n                setTimeout(function () {\r\n                    if (url.startsWith('file://')) {\r\n                        url = url.substr('file://'.length);\r\n                    }\r\n                    var response;\r\n                    if (type == 'pkm' || type === \"arraybuffer\") {\r\n                        response = rt.getFileSystemManager().readFileSync(url);\r\n                    }\r\n                    else {\r\n                        response = rt.getFileSystemManager().readFileSync(url, \"utf8\");\r\n                        if ((type == 'atlas' || type == 'json') && typeof response !== \"undefined\") {\r\n                            response = JSON.parse(response);\r\n                        }\r\n                    }\r\n                    that.onLoaded(response);\r\n                }, 0);\r\n                return; // return\r\n            }\r\n        }\r\n        catch (error) {\r\n        }\r\n        //  laya \r\n        var contentType;\r\n        switch (type) {\r\n            case \"atlas\":\r\n            case \"plf\":\r\n                contentType = \"json\";\r\n                break;\r\n            case \"font\":\r\n                contentType = \"xml\";\r\n                break;\r\n            case \"pkm\":\r\n                contentType = \"arraybuffer\";\r\n                break;\r\n            default:\r\n                contentType = type;\r\n        }\r\n        if (Loader.preLoadedMap[url]) {\r\n            this.onLoaded(Loader.preLoadedMap[url]);\r\n        }\r\n        else {\r\n            if (!this._http) {\r\n                this._http = new HttpRequest();\r\n                this._http.on(/*laya.events.Event.PROGRESS*/ \"progress\", this, this.onProgress);\r\n                this._http.on(/*laya.events.Event.ERROR*/ \"error\", this, this.onError);\r\n                this._http.on(/*laya.events.Event.COMPLETE*/ \"complete\", this, this.onLoaded);\r\n            }\r\n            this._http.send(url, null, \"get\", contentType);\r\n        }\r\n    };\r\n}\r\n// ui\r\nhook_1.default.onInit(function (width, height) {\r\n    if (typeof window !== \"undefined\" && typeof window['getAdapterInfo'] !== \"undefined\") {\r\n        var stage = Laya.stage;\r\n        var info = window['getAdapterInfo']({ width: width, height: height, scaleMode: Laya.stage.scaleMode });\r\n        stage.width = info.rw;\r\n        stage.height = info.rh;\r\n    }\r\n});\r\n","if (typeof Object.assign != 'function') {\r\n    // Must be writable: true, enumerable: false, configurable: true\r\n    Object.defineProperty(Object, \"assign\", {\r\n        value: function assign(target, varArgs) {\r\n            'use strict';\r\n            if (target == null) { // TypeError if undefined or null\r\n                throw new TypeError('Cannot convert undefined or null to object');\r\n            }\r\n            var to = Object(target);\r\n            for (var index = 1; index < arguments.length; index++) {\r\n                var nextSource = arguments[index];\r\n                if (nextSource != null) { // Skip over if undefined or null\r\n                    for (var nextKey in nextSource) {\r\n                        // Avoid bugs when hasOwnProperty is shadowed\r\n                        if (Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {\r\n                            to[nextKey] = nextSource[nextKey];\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            return to;\r\n        },\r\n        writable: true,\r\n        configurable: true\r\n    });\r\n}\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar event_1 = require(\"./event\");\r\nvar _initialized = false;\r\nvar _callbacks = [];\r\nfunction _handleChanged() {\r\n    _callbacks.forEach(function (callback) {\r\n        callback && callback();\r\n    });\r\n}\r\nfunction _initialize() {\r\n    if (_initialized) {\r\n        return;\r\n    }\r\n    _initialized = true;\r\n    if (typeof window !== \"undefined\") {\r\n        event_1.onAttachEvent(window, 'touchmove', _handleChanged);\r\n        event_1.onAttachEvent(window, 'scroll', _handleChanged);\r\n        event_1.onAttachEvent(window, 'resize', _handleChanged);\r\n    }\r\n    if (typeof document !== \"undefined\") {\r\n        event_1.onAttachEvent(document, 'DOMContentLoaded', _handleChanged);\r\n    }\r\n}\r\nfunction offResize(callback) {\r\n    if (callback && typeof callback == 'function') {\r\n        var index = _callbacks.indexOf(callback);\r\n        if (index >= 0) {\r\n            _callbacks.splice(index, 1);\r\n        }\r\n    }\r\n}\r\nexports.offResize = offResize;\r\nfunction onResize(callback) {\r\n    _initialize();\r\n    if (callback && typeof callback == 'function' && _callbacks.indexOf(callback) < 0) {\r\n        _callbacks.push(callback);\r\n        callback && callback();\r\n    }\r\n}\r\nexports.onResize = onResize;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nfunction onAttachEvent(elem, event, fn) {\r\n    if (elem.addEventListener != null) {\r\n        return elem.addEventListener(event, fn, false);\r\n    }\r\n    else if (elem.attachEvent != null) {\r\n        return elem.attachEvent(\"on\" + event, fn);\r\n    }\r\n    else {\r\n        return elem[event] = fn;\r\n    }\r\n}\r\nexports.onAttachEvent = onAttachEvent;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar _dic = new Laya.Dictionary();\r\nvar _mcpool = new Laya.Dictionary();\r\nvar _inst = {};\r\nfunction onLoadComplet(path, mc, play, loop, loadComplet, thisRef) {\r\n    var arr = _dic[path].arr;\r\n    for (var i = 0; i < arr.length; i++) {\r\n        arr[i][0][\"_url\"] = path;\r\n        arr[i][0][\"_atlasPath\"] = path.split(\".swf\")[0] + \".json\";\r\n        arr[i][0][\"_onLoaded\"]();\r\n        if (arr[i][1])\r\n            arr[i][0].play(0, arr[i][2]);\r\n        else\r\n            arr[i][0].stop();\r\n        if (arr[i][3]) {\r\n            arr[i][3].apply(arr[i][4], [arr[i][0]]);\r\n        }\r\n    }\r\n    if (play) {\r\n        mc.play(0, loop);\r\n    }\r\n    else {\r\n        mc.stop();\r\n    }\r\n    if (loadComplet) {\r\n        loadComplet.apply(thisRef, [mc]);\r\n    }\r\n    _dic[path].arr = [];\r\n    mc.off(Laya.Event.LOADED, _inst, onLoadComplet);\r\n    _dic[path].load = true;\r\n}\r\nfunction remove(mc) {\r\n    if (!mc) {\r\n        return;\r\n    }\r\n    mc.scaleX = mc.scaleY = 1;\r\n    mc.pivotX = mc.pivotY = 0;\r\n    mc[\"anchorX\"] = mc[\"anchorY\"] = 0;\r\n    mc.alpha = 1;\r\n    Laya.Tween.clearAll(mc);\r\n    mc.stop();\r\n    if (mc.parent)\r\n        mc.parent.removeChild(mc);\r\n    _mcpool[mc[\"path\"]].push(mc);\r\n}\r\nfunction create(path, play, loop, loadComplet, thisRef) {\r\n    if (play === void 0) { play = true; }\r\n    if (loop === void 0) { loop = true; }\r\n    if (loadComplet === void 0) { loadComplet = null; }\r\n    if (thisRef === void 0) { thisRef = null; }\r\n    var mc;\r\n    if (!_mcpool[path])\r\n        _mcpool[path] = [];\r\n    if (_mcpool[path].length > 0) {\r\n        mc = _mcpool[path].shift();\r\n    }\r\n    else {\r\n        mc = new Laya.MovieClip();\r\n    }\r\n    mc[\"path\"] = path;\r\n    if (_dic[path]) {\r\n        if (_dic[path].load) {\r\n            mc[\"_url\"] = path;\r\n            mc[\"_atlasPath\"] = path.split(\".swf\")[0] + \".json\";\r\n            mc[\"_onLoaded\"]();\r\n            if (play)\r\n                mc.play(0, loop);\r\n            else\r\n                mc.stop();\r\n            if (loadComplet)\r\n                loadComplet.apply(thisRef, [mc]);\r\n        }\r\n        else {\r\n            _dic[path].arr.push([mc, play, loop, loadComplet, thisRef]);\r\n        }\r\n    }\r\n    else {\r\n        _dic[path] = { load: false, arr: [] };\r\n        mc.on(Laya.Event.LOADED, _inst, onLoadComplet, [path, mc, play, loop, loadComplet, thisRef]);\r\n        mc.load(path, true);\r\n    }\r\n    return mc;\r\n}\r\nexports.default = {\r\n    create: create,\r\n    remove: remove\r\n};\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar looper_1 = require(\"../../utils/looper\");\r\nvar _chancel_1 = require(\"./_chancel\");\r\nvar vowelsByFormantJP = [\"i\", \"u\", \"e\", \"o\", \"a\"];\r\nvar vowelFormantFloorJP = [0, 500, 600, 900, 1200];\r\nvar vowelsByFormantCN = [\"i\", \"v\", \"u\", \"e\", \"o\", \"a\"];\r\nvar vowelFormantFloorCN = [0, 200, 500, 600, 900, 1200];\r\nfunction getVowelByFormant(formantValue, language) {\r\n    var result = \"-\";\r\n    var currentVowels = vowelsByFormantCN;\r\n    var currentVowelFormantCeilValues = vowelFormantFloorCN;\r\n    if (language == 'jp' || language == 'japanese') {\r\n        currentVowels = vowelsByFormantJP;\r\n        currentVowelFormantCeilValues = vowelFormantFloorJP;\r\n    }\r\n    for (var m = 0; m < currentVowelFormantCeilValues.length; m++) {\r\n        if (formantValue > currentVowelFormantCeilValues[m]) {\r\n            result = currentVowels[m];\r\n        }\r\n    }\r\n    return result;\r\n}\r\nfunction fixWechatAudioPlay(callback) {\r\n    if (window && window['WeixinJSBridge']) {\r\n        try {\r\n            window['WeixinJSBridge'].invoke(\"getNetworkType\", {}, function () {\r\n                callback && callback();\r\n            });\r\n        }\r\n        catch (e) {\r\n            callback && callback();\r\n        }\r\n    }\r\n    else {\r\n        callback && callback();\r\n    }\r\n}\r\nvar SpeakerController = /** @class */ (function () {\r\n    function SpeakerController(options) {\r\n        this._onPlay = null;\r\n        this._onStop = null;\r\n        this._onError = null;\r\n        this._onProgress = null;\r\n        this._onComplete = null;\r\n        this._options = null;\r\n        this._playTime = 0;\r\n        this._auidoUrl = null;\r\n        this._position = -1;\r\n        this._duration = -1;\r\n        this._formant = null;\r\n        this._speaking = false;\r\n        this._language = \"chinese\";\r\n        this._chancel = null;\r\n        this._options = options;\r\n    }\r\n    SpeakerController.prototype._update = function () {\r\n        if (this._chancel) {\r\n            this._formant = this._chancel.formant;\r\n            this._position = this._chancel.position;\r\n            this._duration = this._chancel.duration;\r\n            if (!this._speaking && this._position > 0) {\r\n                this._speaking = true;\r\n                this._onPlay && this._onPlay();\r\n            }\r\n            if (this._speaking && this._duration > 0) {\r\n                if (this._position > this._duration) {\r\n                    this._onComplete && this._onComplete();\r\n                    this.stop();\r\n                }\r\n                else {\r\n                    this._onProgress && this._onProgress({\r\n                        position: this._position,\r\n                        duration: this._duration,\r\n                    });\r\n                }\r\n            }\r\n            else if (Date.now() - this._playTime > 2000) {\r\n                this._onError && this._onError();\r\n                this.stop();\r\n            }\r\n        }\r\n    };\r\n    Object.defineProperty(SpeakerController.prototype, \"url\", {\r\n        get: function () {\r\n            return this._auidoUrl;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(SpeakerController.prototype, \"position\", {\r\n        get: function () {\r\n            return this._position;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(SpeakerController.prototype, \"duration\", {\r\n        get: function () {\r\n            return this._duration;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    SpeakerController.prototype.onPlay = function (callback) {\r\n        this._onPlay = callback;\r\n    };\r\n    SpeakerController.prototype.onStop = function (callback) {\r\n        this._onStop = callback;\r\n    };\r\n    SpeakerController.prototype.onProgress = function (callback) {\r\n        this._onProgress = callback;\r\n    };\r\n    SpeakerController.prototype.onComplete = function (callback) {\r\n        this._onComplete = callback;\r\n    };\r\n    SpeakerController.prototype.onError = function (callback) {\r\n        this._onError = callback;\r\n    };\r\n    SpeakerController.prototype.getFormant = function () {\r\n        if (!this.isSpeaking()) {\r\n            return 0;\r\n        }\r\n        return this._formant;\r\n    };\r\n    SpeakerController.prototype.getVowel = function () {\r\n        return getVowelByFormant(this.getFormant(), this._language);\r\n    };\r\n    SpeakerController.prototype.isSpeaking = function () {\r\n        return this._speaking;\r\n    };\r\n    SpeakerController.prototype.speak = function (url, language) {\r\n        var _this = this;\r\n        if (language === void 0) { language = 'chinese'; }\r\n        this._auidoUrl = url;\r\n        this._language = language;\r\n        fixWechatAudioPlay(function () {\r\n            if (_this._auidoUrl) {\r\n                _this.stop();\r\n                _this._playTime = Date.now();\r\n                _this._chancel = _chancel_1.default.playSpeak(_this._auidoUrl, _this._onError, _this._options);\r\n                looper_1.default.loop(_this, _this._update);\r\n            }\r\n        });\r\n    };\r\n    SpeakerController.prototype.stop = function () {\r\n        if (!this._chancel) {\r\n            return;\r\n        }\r\n        this._onStop && this._onStop();\r\n        this._chancel.stop();\r\n        this._chancel = null;\r\n        this._speaking = false;\r\n        looper_1.default.clear(this, this._update);\r\n    };\r\n    return SpeakerController;\r\n}());\r\nfunction create(options) {\r\n    return new SpeakerController(options);\r\n}\r\nexports.default = {\r\n    create: create\r\n};\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar _peaks_1 = require(\"./_peaks\");\r\nvar _loadres_1 = require(\"./_loadres\");\r\nvar FixAudioContext = AudioContext || webkitAudioContext\r\n    || mozAudioContext || msAudioContext;\r\nvar _CHANCELS = [];\r\nvar SpeakerChancel = /** @class */ (function () {\r\n    function SpeakerChancel(url, onError, options) {\r\n        if (options === void 0) { options = {}; }\r\n        this.stopped = false;\r\n        this._audioUrl = url;\r\n        this._onErrorCallback = onError;\r\n        this._options = options;\r\n        this.amplitudeThreshold = 0.02;\r\n        this.audioCtx = new FixAudioContext({\r\n            sampleRate: this._options && this._options.sampleRate || 44100\r\n        });\r\n        this.sourceNode = this.audioCtx.createBufferSource();\r\n        this.analyserNode = this.audioCtx.createAnalyser();\r\n        this.analyserNode.fftSize = this._options && this._options.fftSize || 2048;\r\n        this.windowSize = this.analyserNode.frequencyBinCount;\r\n        this.gaussianFilters = _peaks_1.default.generateGaussianFilter(7, 5);\r\n        this.sourceNode.disconnect();\r\n        this.sourceNode.connect(this.analyserNode);\r\n        this.play();\r\n    }\r\n    Object.defineProperty(SpeakerChancel.prototype, \"url\", {\r\n        get: function () {\r\n            return this._audioUrl;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(SpeakerChancel.prototype, \"position\", {\r\n        get: function () {\r\n            return this.audioCtx && this.audioCtx.currentTime || 0;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(SpeakerChancel.prototype, \"duration\", {\r\n        get: function () {\r\n            return this.sourceNode\r\n                && this.sourceNode.buffer\r\n                && this.sourceNode.buffer.duration || 0;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(SpeakerChancel.prototype, \"formant\", {\r\n        get: function () {\r\n            var currentAudioData = new Uint8Array(this.windowSize);\r\n            this.analyserNode.getByteFrequencyData(currentAudioData);\r\n            var currentAudioSpectrum = _peaks_1.default.discreteCosineTransform(currentAudioData);\r\n            var amplitudeSum = 0.0;\r\n            for (var k = 0; k < currentAudioSpectrum.length; k++) {\r\n                amplitudeSum += currentAudioSpectrum[k];\r\n            }\r\n            if (amplitudeSum >= this.amplitudeThreshold) {\r\n                var formantArray = [];\r\n                var smoothedAudioSpectrum = _peaks_1.default.convoluteDataAndFilter(currentAudioSpectrum, this.gaussianFilters, \"Repet\");\r\n                var _a = _peaks_1.default.findLocalLargestPeaks(smoothedAudioSpectrum, 3), peakValues = _a.peakValues, peakPositions = _a.peakPositions;\r\n                var frequencyUnit = this.audioCtx.sampleRate / this.windowSize;\r\n                for (var i = 0; i < peakPositions.length; i++) {\r\n                    formantArray[i] = peakPositions[i] * (peakValues[i] / frequencyUnit);\r\n                }\r\n                var formantAverage_1 = 0;\r\n                formantArray.forEach(function (formantVal) {\r\n                    formantAverage_1 += formantVal;\r\n                });\r\n                return formantAverage_1 / formantArray.length;\r\n            }\r\n            return 0;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    SpeakerChancel.prototype.loadAudioRes = function () {\r\n        var _this = this;\r\n        if (!this.loadPromise) {\r\n            this.loadPromise = new Promise(function (resolve, reject) {\r\n                _loadres_1.default.loadRes(_this._audioUrl, resolve, function () {\r\n                    _this.loadPromise = null;\r\n                    reject && reject();\r\n                });\r\n            });\r\n        }\r\n        return this.loadPromise;\r\n    };\r\n    SpeakerChancel.prototype.play = function () {\r\n        var _this = this;\r\n        this.loadAudioRes().then(function (audioData) {\r\n            _this.audioCtx.decodeAudioData(audioData, function (buffer) {\r\n                if (_this.stopped) {\r\n                    return;\r\n                }\r\n                _this.sourceNode.buffer = buffer;\r\n                _this.sourceNode.connect(_this.analyserNode);\r\n                _this.sourceNode.connect(_this.audioCtx.destination);\r\n                _this.sourceNode.start();\r\n            }, function (e) {\r\n                var errorMsg = \"error decoding audio data: \" + _this._audioUrl;\r\n                _this._onErrorCallback && _this._onErrorCallback(errorMsg, e);\r\n            });\r\n        }).catch(function () {\r\n            var errorMsg = \"load audio failure: \" + _this._audioUrl;\r\n            _this._onErrorCallback && _this._onErrorCallback(errorMsg);\r\n        });\r\n    };\r\n    SpeakerChancel.prototype.stop = function () {\r\n        this.stopped = true;\r\n        this._onErrorCallback = null;\r\n        try {\r\n            var indexOf = _CHANCELS.indexOf(this);\r\n            if (indexOf >= 0) {\r\n                _CHANCELS.splice(indexOf, 1);\r\n            }\r\n            if (this.sourceNode) {\r\n                this.sourceNode.stop();\r\n            }\r\n        }\r\n        catch (error) {\r\n        }\r\n    };\r\n    return SpeakerChancel;\r\n}());\r\nexports.SpeakerChancel = SpeakerChancel;\r\nfunction playSpeak(url, onError, options) {\r\n    var cancel = new SpeakerChancel(url, onError, options);\r\n    _CHANCELS.push(cancel);\r\n    return cancel;\r\n}\r\nexports.default = {\r\n    playSpeak: playSpeak\r\n};\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nfunction getValueFromArray(data, index, paddleType) {\r\n    if (index >= 0 && index < data.length) {\r\n        return data[index];\r\n    }\r\n    else {\r\n        switch (paddleType) {\r\n            case \"Zero\":\r\n                return 0;\r\n            case \"Repeat\":\r\n                return index < 0 ? data[0] : data[data.length - 1];\r\n            case \"Loop\":\r\n                var actualIndex = index;\r\n                while (actualIndex < 0) {\r\n                    actualIndex += data.length;\r\n                }\r\n                actualIndex %= data.length;\r\n                return data[actualIndex];\r\n            default:\r\n                return 0;\r\n        }\r\n    }\r\n}\r\nfunction generateGaussianFilter(size, deviationSquare) {\r\n    var result = [];\r\n    var sum = 0;\r\n    var mu = (size - 1) / 2;\r\n    for (var i = 0; i < size; i++) {\r\n        var param = -((i - mu) * (i - mu)) / (2 * deviationSquare);\r\n        result[i] = Math.exp(param);\r\n        sum += result[i];\r\n    }\r\n    for (var j = 0; j < size; j++) {\r\n        result[j] /= sum;\r\n    }\r\n    return result;\r\n}\r\nfunction discreteCosineTransform(data) {\r\n    var result = [];\r\n    var sumCos = 0;\r\n    data.forEach(function (_, i) {\r\n        sumCos = 0;\r\n        data.forEach(function (d2, j) {\r\n            sumCos += d2 * Math.cos((Math.PI / data.length) * i * (j + 0.5));\r\n        });\r\n        result[i] = Math.abs(sumCos);\r\n    });\r\n    return result;\r\n}\r\n/**\r\n * Convolute data and filter. Result is sent to output, which must not be shorter than data.\r\n */\r\nfunction convoluteDataAndFilter(data, filter, paddleType) {\r\n    if (paddleType === void 0) { paddleType = \"Repeat\"; }\r\n    var output = [];\r\n    var filterMiddlePoint = Math.floor(filter.length / 2);\r\n    for (var n = 0; n < data.length; n++) {\r\n        output[n] = 0.0;\r\n        for (var m = 0; m < filter.length; m++) {\r\n            output[n] += getValueFromArray(data, n - filterMiddlePoint + m, paddleType) * filter[filter.length - m - 1];\r\n        }\r\n    }\r\n    return output;\r\n}\r\nfunction findLocalLargestPeaks(data, length) {\r\n    var peakNum = 0;\r\n    var lastPeak = 0;\r\n    var lastPeakPositions = 0;\r\n    var isIncreasing = false;\r\n    var isPeakIncreasing = false;\r\n    var peakValues = [];\r\n    var peakPositions = [];\r\n    for (var i = 0; i < data.length - 1; i++) {\r\n        if (data[i] < data[i + 1]) {\r\n            isIncreasing = true;\r\n        }\r\n        else {\r\n            if (isIncreasing == true) {\r\n                // Peak found.\r\n                if (lastPeak < data[i]) {\r\n                    isPeakIncreasing = true;\r\n                }\r\n                else {\r\n                    if (isPeakIncreasing == true) {\r\n                        // Local largest peak found.\r\n                        peakValues[peakNum] = lastPeak;\r\n                        peakPositions[peakNum] = lastPeakPositions;\r\n                        ++peakNum;\r\n                    }\r\n                    isPeakIncreasing = false;\r\n                }\r\n                lastPeak = data[i];\r\n                lastPeakPositions = i;\r\n            }\r\n            isIncreasing = false;\r\n        }\r\n        if (peakNum >= length) {\r\n            break;\r\n        }\r\n    }\r\n    return { peakValues: peakValues, peakPositions: peakPositions };\r\n}\r\nexports.default = {\r\n    generateGaussianFilter: generateGaussianFilter,\r\n    discreteCosineTransform: discreteCosineTransform,\r\n    convoluteDataAndFilter: convoluteDataAndFilter,\r\n    findLocalLargestPeaks: findLocalLargestPeaks\r\n};\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nfunction loadRes(url, callback, failure) {\r\n    var request = new XMLHttpRequest();\r\n    request.responseType = \"arraybuffer\";\r\n    request.open('GET', url, true);\r\n    request.onload = function () {\r\n        callback && callback(request.response);\r\n    };\r\n    request.onreadystatechange = function () {\r\n        if (request.readyState === 4) {\r\n            if (request.status !== 200) {\r\n                failure && failure();\r\n            }\r\n        }\r\n    };\r\n    request.send();\r\n}\r\nexports.default = {\r\n    loadRes: loadRes\r\n};\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar env_1 = require(\"./env\");\r\nvar looper_1 = require(\"../utils/looper\");\r\nfunction fixWechatAudioPlay(callback) {\r\n    if (window && window['WeixinJSBridge']) {\r\n        try {\r\n            window['WeixinJSBridge'].invoke(\"getNetworkType\", {}, function () {\r\n                callback && callback();\r\n            });\r\n        }\r\n        catch (e) {\r\n            callback && callback();\r\n        }\r\n    }\r\n    else {\r\n        callback && callback();\r\n    }\r\n}\r\nfunction fixAudioExtension(targetUrl, replaceExt) {\r\n    var ext = Laya.Utils.getFileExtension(targetUrl);\r\n    var searchExt = !!ext ? \".\" + ext : '';\r\n    if (env_1.default.isConchApp() && searchExt != \".wav\" && searchExt != \".ogg\") {\r\n        return targetUrl.substr(0, targetUrl.length - searchExt.length) + replaceExt;\r\n    }\r\n    return targetUrl;\r\n}\r\nvar AudioController = /** @class */ (function () {\r\n    function AudioController(isMusic) {\r\n        this._auidoUrl = '';\r\n        this._chancel = null;\r\n        this._playing = false;\r\n        this._onPlay = null;\r\n        this._onPause = null;\r\n        this._onStop = null;\r\n        this._onError = null;\r\n        this._onProgress = null;\r\n        this._onComplete = null;\r\n        this._position = -1;\r\n        this._duration = -1;\r\n        this._paused = false;\r\n        this._music = false;\r\n        this._playTime = 0;\r\n        this._music = isMusic;\r\n        if (!isMusic) {\r\n            AudioController._soundList.push(this);\r\n        }\r\n    }\r\n    AudioController.stopAll = function () {\r\n        var soundList = AudioController._soundList.splice(0, AudioController._soundList.length);\r\n        soundList.forEach(function (item) {\r\n            item && item.stop();\r\n        });\r\n    };\r\n    AudioController.prototype._update = function () {\r\n        if (this._chancel) {\r\n            this._position = this._chancel.position;\r\n            this._duration = this._chancel.duration;\r\n            if (!this._playing && this._position > 0) {\r\n                this._playing = true;\r\n                this._onPlay && this._onPlay();\r\n            }\r\n            if (this._playing && this._duration > 0) {\r\n                this._onProgress && this._onProgress({\r\n                    position: this.position,\r\n                    duration: this.duration,\r\n                });\r\n            }\r\n            else if (Date.now() - this._playTime > 2000) {\r\n                this._onError && this._onError();\r\n                this.stop();\r\n            }\r\n        }\r\n    };\r\n    AudioController.prototype.onPlay = function (callback) {\r\n        this._onPlay = callback;\r\n    };\r\n    AudioController.prototype.onStop = function (callback) {\r\n        this._onStop = callback;\r\n    };\r\n    AudioController.prototype.onPause = function (callback) {\r\n        this._onPause = callback;\r\n    };\r\n    AudioController.prototype.onProgress = function (callback) {\r\n        this._onProgress = callback;\r\n    };\r\n    AudioController.prototype.onComplete = function (callback) {\r\n        this._onComplete = callback;\r\n    };\r\n    AudioController.prototype.onError = function (callback) {\r\n        this._onError = callback;\r\n    };\r\n    Object.defineProperty(AudioController.prototype, \"url\", {\r\n        get: function () {\r\n            return this._auidoUrl;\r\n        },\r\n        set: function (url) {\r\n            if (this._auidoUrl != url) {\r\n                this._auidoUrl = url;\r\n                this.stop();\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AudioController.prototype, \"position\", {\r\n        get: function () {\r\n            return this._position;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AudioController.prototype, \"duration\", {\r\n        get: function () {\r\n            return this._duration;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    AudioController.prototype.isMusic = function () {\r\n        return this._music;\r\n    };\r\n    AudioController.prototype.isPaused = function () {\r\n        return this._paused;\r\n    };\r\n    AudioController.prototype.isPlaying = function () {\r\n        return this._playing;\r\n    };\r\n    AudioController.prototype.play = function (loops) {\r\n        var _this = this;\r\n        if (loops === void 0) { loops = 1; }\r\n        fixWechatAudioPlay(function () {\r\n            if (_this._auidoUrl) {\r\n                _this.stop();\r\n                var playUrl = fixAudioExtension(_this._auidoUrl, '.ogg');\r\n                _this._playTime = Date.now();\r\n                if (_this._music) {\r\n                    _this._chancel = Laya.SoundManager.playMusic(playUrl, loops, Laya.Handler.create(_this, function () {\r\n                        _this._onComplete && _this._onComplete();\r\n                        _this.stop();\r\n                    }), 0);\r\n                }\r\n                else {\r\n                    _this._chancel = Laya.SoundManager.playSound(playUrl, loops, Laya.Handler.create(_this, function () {\r\n                        _this._onComplete && _this._onComplete();\r\n                        _this.stop();\r\n                    }), null, 0);\r\n                }\r\n                looper_1.default.loop(_this, _this._update);\r\n            }\r\n        });\r\n    };\r\n    AudioController.prototype.pause = function () {\r\n        if (this._chancel && this._playing) {\r\n            this._onPause && this._onPause();\r\n            this._chancel.pause();\r\n            this._paused = true;\r\n            this._playing = false;\r\n            looper_1.default.clear(this, this._update);\r\n        }\r\n    };\r\n    AudioController.prototype.resume = function () {\r\n        if (this._chancel && this._paused) {\r\n            this._paused = false;\r\n            this._chancel.resume();\r\n            looper_1.default.loop(this, this._update);\r\n        }\r\n    };\r\n    AudioController.prototype.stop = function () {\r\n        if (this._chancel) {\r\n            this._onStop && this._onStop();\r\n            this._chancel.stop();\r\n            this._paused = false;\r\n            this._playing = false;\r\n            if (this._music) {\r\n                Laya.SoundManager.stopMusic();\r\n            }\r\n            else {\r\n                Laya.SoundManager.stopSound(this._auidoUrl);\r\n            }\r\n            Laya.SoundManager.removeChannel(this._chancel);\r\n            looper_1.default.clear(this, this._update);\r\n            this._chancel = null;\r\n        }\r\n    };\r\n    AudioController.prototype.destroy = function () {\r\n        this.stop();\r\n        this._onComplete = null;\r\n        this._onProgress = null;\r\n        this._onPlay = null;\r\n        this._onStop = null;\r\n        this._onPause = null;\r\n    };\r\n    AudioController._soundList = [];\r\n    return AudioController;\r\n}());\r\nvar _musicAudio = new AudioController(true);\r\nfunction playMusic(url, loops) {\r\n    if (loops === void 0) { loops = 1; }\r\n    _musicAudio.url = url;\r\n    _musicAudio.play(loops);\r\n    return _musicAudio;\r\n}\r\nfunction playSound(url, loops) {\r\n    if (loops === void 0) { loops = 1; }\r\n    var audio = new AudioController(false);\r\n    audio.url = url;\r\n    audio.play(loops);\r\n    return audio;\r\n}\r\nfunction stopMusic() {\r\n    _musicAudio.stop();\r\n}\r\nfunction stopAllSound() {\r\n    AudioController.stopAll();\r\n}\r\nfunction stopAll() {\r\n    stopMusic();\r\n    stopAllSound();\r\n}\r\nfunction setMusicVolume(volume) {\r\n    Laya.SoundManager.setMusicVolume(volume);\r\n}\r\nfunction setSoundVolume(volume) {\r\n    Laya.SoundManager.setSoundVolume(volume);\r\n}\r\nexports.default = {\r\n    playMusic: playMusic,\r\n    playSound: playSound,\r\n    stopAll: stopAll,\r\n    stopMusic: stopMusic,\r\n    stopAllSound: stopAllSound,\r\n    setMusicVolume: setMusicVolume,\r\n    setSoundVolume: setSoundVolume,\r\n};\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar onload_1 = require(\"../utils/onload\");\r\nfunction _loadJS(jspath, options, callback) {\r\n    try {\r\n        var _protocol = location.protocol != 'file:' ? location.protocol : 'http:';\r\n        var _script = document.createElement(\"script\");\r\n        Object.keys(options).forEach(function (key) {\r\n            _script.setAttribute(key, options[key]);\r\n        });\r\n        _script.type = \"text/javascript\";\r\n        if (jspath.indexOf('//') == 0) {\r\n            _script.src = _protocol + jspath;\r\n        }\r\n        else {\r\n            _script.src = jspath;\r\n        }\r\n        document.body.appendChild(_script);\r\n        _script.onerror = function (err) {\r\n            callback && callback(_script, err);\r\n        };\r\n        _script.onload = function () {\r\n            callback && callback(_script, null);\r\n        };\r\n    }\r\n    catch (error) {\r\n        callback && callback(undefined, error);\r\n    }\r\n}\r\nfunction loadJs(jspath, options) {\r\n    if (options === void 0) { options = {}; }\r\n    return onload_1.onload().then(function () {\r\n        return new Promise(function (resolve) {\r\n            if (!jspath) {\r\n                return resolve && resolve(undefined);\r\n            }\r\n            var index = 0;\r\n            var jsList = jspath.split(',');\r\n            var nodeList = [];\r\n            jsList.forEach(function (js) {\r\n                _loadJS(js, options, function (node, err) {\r\n                    nodeList[index] = { node: node, err: err };\r\n                    index++;\r\n                    if (index == jsList.length) {\r\n                        resolve && resolve(nodeList);\r\n                    }\r\n                });\r\n            });\r\n        });\r\n    });\r\n}\r\nexports.default = {\r\n    loadJs: loadJs\r\n};\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar _ready = null;\r\nfunction onload() {\r\n    if (!_ready) {\r\n        _ready = new Promise(function (reslove, reject) {\r\n            var _timer;\r\n            var _pollingDocument = function () {\r\n                if (!!document && document.readyState == 'complete') {\r\n                    _timer && clearTimeout(_timer);\r\n                    reslove(Date.now());\r\n                }\r\n                else {\r\n                    _timer = setTimeout(_pollingDocument, 1);\r\n                }\r\n            };\r\n            _timer = setTimeout(_pollingDocument, 1);\r\n        });\r\n    }\r\n    return _ready;\r\n}\r\nexports.onload = onload;\r\n","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Event = /** @class */ (function (_super) {\r\n    __extends(Event, _super);\r\n    function Event() {\r\n        var _this = _super.call(this) || this;\r\n        _this._dic = new Laya.Dictionary();\r\n        return _this;\r\n    }\r\n    Event.prototype.registeredEvent = function (type, fun, thisRef, index) {\r\n        if (index === void 0) { index = 1; }\r\n        var arr = [];\r\n        if (index == null)\r\n            index = 1;\r\n        if (this._dic[type]) {\r\n            arr = this._dic[type];\r\n            for (var i = 0; i < arr.length; i++) {\r\n                if (arr[i].fun == fun && arr[i].thisRef == thisRef) {\r\n                    if (index != arr[i].index) {\r\n                        arr[i].index = index;\r\n                        arr.sort(function (a, b) { return b.index - a.index; });\r\n                        this._dic[type] = arr;\r\n                    }\r\n                    return;\r\n                }\r\n            }\r\n        }\r\n        arr.push({ fun: fun, thisRef: thisRef, index: index });\r\n        arr.sort(function (a, b) { return b.index - a.index; });\r\n        this._dic[type] = arr;\r\n    };\r\n    Event.prototype.removeEvent = function (type, fun, thisRef) {\r\n        if (this._dic[type]) {\r\n            var arr = this._dic[type];\r\n            for (var i = 0; i < arr.length; i++) {\r\n                if (arr[i].fun == fun && arr[i].thisRef == thisRef) {\r\n                    arr[i] = null;\r\n                    arr.splice(i, 1);\r\n                    this._dic[type] = arr;\r\n                    return;\r\n                }\r\n            }\r\n        }\r\n    };\r\n    Event.prototype.sendEvent = function (type, args) {\r\n        if (args === void 0) { args = null; }\r\n        if (this._dic[type]) {\r\n            var arr = this._dic[type];\r\n            for (var i = 0; i < arr.length; i++) {\r\n                arr[i].fun.apply(arr[i].thisRef, args);\r\n            }\r\n        }\r\n    };\r\n    return Event;\r\n}(Laya.EventDispatcher));\r\nexports.default = new Event();\r\n","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar runtime;\r\n(function (runtime) {\r\n    runtime.clickSound = null;\r\n    runtime.clickAnimDuration = 100;\r\n    runtime.clickNormalProps = { scaleX: 1, scaleY: 1 };\r\n    runtime.clickDownProps = { scaleX: 1.2, scaleY: 1.2 };\r\n    function pivotCenter(view) {\r\n        view.x = view.x + view.width / 2 - view.pivotX;\r\n        view.y = view.y + view.height / 2 - view.pivotY;\r\n        view.pivot(view.width / 2, view.height / 2);\r\n    }\r\n    function setViewProps(view, props, duration) {\r\n        pivotCenter(view);\r\n        Laya.Tween.to(view, props, duration);\r\n    }\r\n    function playClickSound(sound) {\r\n        if (sound) {\r\n            sound != 'none' && Laya.SoundManager.playSound(sound, 1);\r\n        }\r\n        else if (runtime.clickSound) {\r\n            runtime.clickSound != 'none' && Laya.SoundManager.playSound(runtime.clickSound, 1);\r\n        }\r\n    }\r\n    function bindClick(view, onClick, onDown, onUp, onOut) {\r\n        pivotCenter(view);\r\n        view.offAll();\r\n        view.on(Laya.Event.CLICK, view, function () {\r\n            onClick && onClick();\r\n            playClickSound(view.clickSound);\r\n        });\r\n        view.on(Laya.Event.MOUSE_DOWN, view, function () {\r\n            setViewProps(view, view.clickDownProps || runtime.clickDownProps, view.clickAnimDuration || runtime.clickAnimDuration);\r\n            onDown && onDown();\r\n        });\r\n        view.on(Laya.Event.MOUSE_UP, view, function () {\r\n            setViewProps(view, view.clickNormalProps || runtime.clickNormalProps, view.clickAnimDuration || runtime.clickAnimDuration);\r\n            onUp && onUp();\r\n        });\r\n        view.on(Laya.Event.MOUSE_OUT, view, function () {\r\n            setViewProps(view, view.clickNormalProps || runtime.clickNormalProps, view.clickAnimDuration || runtime.clickAnimDuration);\r\n            onOut && onOut();\r\n        });\r\n    }\r\n    runtime.bindClick = bindClick;\r\n    var btn = /** @class */ (function (_super) {\r\n        __extends(btn, _super);\r\n        function btn() {\r\n            var _this = _super.call(this) || this;\r\n            _this.clickAnimDuration = null;\r\n            _this.clickDownProps = null;\r\n            _this.clickNormalProps = null;\r\n            _this.clickSound = null;\r\n            bindClick(_this);\r\n            return _this;\r\n        }\r\n        return btn;\r\n    }(Laya.Button));\r\n    runtime.btn = btn;\r\n    var btn_img = /** @class */ (function (_super) {\r\n        __extends(btn_img, _super);\r\n        function btn_img() {\r\n            var _this = _super.call(this) || this;\r\n            _this.clickAnimDuration = null;\r\n            _this.clickDownProps = null;\r\n            _this.clickNormalProps = null;\r\n            _this.clickSound = null;\r\n            bindClick(_this);\r\n            return _this;\r\n        }\r\n        return btn_img;\r\n    }(Laya.Image));\r\n    runtime.btn_img = btn_img;\r\n    var btn_label = /** @class */ (function (_super) {\r\n        __extends(btn_label, _super);\r\n        function btn_label() {\r\n            var _this = _super.call(this) || this;\r\n            _this.clickAnimDuration = null;\r\n            _this.clickDownProps = null;\r\n            _this.clickNormalProps = null;\r\n            _this.clickSound = null;\r\n            bindClick(_this);\r\n            return _this;\r\n        }\r\n        return btn_label;\r\n    }(Laya.Label));\r\n    runtime.btn_label = btn_label;\r\n    var btn_sprite = /** @class */ (function (_super) {\r\n        __extends(btn_sprite, _super);\r\n        function btn_sprite() {\r\n            var _this = _super.call(this) || this;\r\n            _this.clickAnimDuration = null;\r\n            _this.clickDownProps = null;\r\n            _this.clickNormalProps = null;\r\n            _this.clickSound = null;\r\n            bindClick(_this);\r\n            return _this;\r\n        }\r\n        return btn_sprite;\r\n    }(Laya.Sprite));\r\n    runtime.btn_sprite = btn_sprite;\r\n    var btn_box = /** @class */ (function (_super) {\r\n        __extends(btn_box, _super);\r\n        function btn_box() {\r\n            var _this = _super.call(this) || this;\r\n            _this.clickAnimDuration = null;\r\n            _this.clickDownProps = null;\r\n            _this.clickNormalProps = null;\r\n            _this.clickSound = null;\r\n            bindClick(_this);\r\n            return _this;\r\n        }\r\n        return btn_box;\r\n    }(Laya.Box));\r\n    runtime.btn_box = btn_box;\r\n    var page_list = /** @class */ (function (_super) {\r\n        __extends(page_list, _super);\r\n        function page_list() {\r\n            var _this = _super.call(this) || this;\r\n            _this._isDown = false;\r\n            _this._onLoadMoreHandler = null;\r\n            _this._loading = false;\r\n            _this._preCount = 5;\r\n            _this.on(Laya.Event.MOUSE_UP, _this, _this.onMouseUp);\r\n            _this.on(Laya.Event.MOUSE_OUT, _this, _this.onMouseOut);\r\n            _this.on(Laya.Event.MOUSE_DOWN, _this, _this.onMouseDown);\r\n            _this.renderHandler = Laya.Handler.create(_this, _this.renderItem);\r\n            return _this;\r\n        }\r\n        page_list.prototype.destroy = function () {\r\n            this.off(Laya.Event.MOUSE_UP, this, this.onMouseUp);\r\n            this.off(Laya.Event.MOUSE_OUT, this, this.onMouseOut);\r\n        };\r\n        page_list.prototype.refresh = function () {\r\n            _super.prototype.refresh.call(this);\r\n            this._updatePage();\r\n        };\r\n        page_list.prototype.onMouseDown = function () {\r\n            this._isDown = true;\r\n        };\r\n        page_list.prototype.onMouseUp = function (event) {\r\n            this._updatePage();\r\n            this._isDown = false;\r\n        };\r\n        page_list.prototype.onMouseOut = function (event) {\r\n            this._updatePage();\r\n            this._isDown = false;\r\n        };\r\n        Object.defineProperty(page_list.prototype, \"preCount\", {\r\n            get: function () {\r\n                return this._preCount;\r\n            },\r\n            set: function (count) {\r\n                this._preCount = count;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(page_list.prototype, \"loading\", {\r\n            get: function () {\r\n                return this._loading;\r\n            },\r\n            set: function (loading) {\r\n                this._loading = loading;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(page_list.prototype, \"onLoadMoreHandler\", {\r\n            get: function () {\r\n                return this._onLoadMoreHandler;\r\n            },\r\n            set: function (handler) {\r\n                this._onLoadMoreHandler = handler;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        page_list.prototype._updatePage = function () {\r\n            if (!this._isDown) {\r\n                return;\r\n            }\r\n            var length = this._array.length;\r\n            var maxHeight = length * this._cellSize;\r\n            var currentPos = this._cellOffset + this.scrollBar.value + this.height;\r\n            var lastCount = Math.floor((maxHeight - currentPos) / this._cellSize);\r\n            if (lastCount < 0) {\r\n                lastCount = 0;\r\n            }\r\n            if (!this._loading && this.preCount >= lastCount) {\r\n                this._onLoadMoreHandler && this._onLoadMoreHandler(lastCount);\r\n            }\r\n        };\r\n        return page_list;\r\n    }(Laya.List));\r\n    runtime.page_list = page_list;\r\n    var page_view = /** @class */ (function (_super) {\r\n        __extends(page_view, _super);\r\n        function page_view() {\r\n            var _this = _super.call(this) || this;\r\n            _this._isDown = false;\r\n            _this._currentPage = 0;\r\n            _this._onPageChange = null;\r\n            _this.on(Laya.Event.MOUSE_UP, _this, _this.onMouseUp);\r\n            _this.on(Laya.Event.MOUSE_OUT, _this, _this.onMouseOut);\r\n            _this.on(Laya.Event.MOUSE_DOWN, _this, _this.onMouseDown);\r\n            _this.renderHandler = Laya.Handler.create(_this, _this.renderItem);\r\n            return _this;\r\n        }\r\n        page_view.prototype.destroy = function () {\r\n            this.off(Laya.Event.MOUSE_UP, this, this.onMouseUp);\r\n            this.off(Laya.Event.MOUSE_OUT, this, this.onMouseOut);\r\n        };\r\n        Object.defineProperty(page_view.prototype, \"pageId\", {\r\n            get: function () {\r\n                return this._currentPage;\r\n            },\r\n            set: function (n) {\r\n                this._currentPage = n;\r\n                if (this._currentPage < 0) {\r\n                    this._currentPage = 0;\r\n                }\r\n                this.tweenTo(n);\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(page_view.prototype, \"onPageChangeHandler\", {\r\n            get: function () {\r\n                return this._onPageChange;\r\n            },\r\n            set: function (handler) {\r\n                this._onPageChange = handler;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        page_view.prototype.onMouseDown = function () {\r\n            this._isDown = true;\r\n        };\r\n        page_view.prototype.onMouseUp = function (event) {\r\n            this._updatePage();\r\n            this._isDown = false;\r\n        };\r\n        page_view.prototype.onMouseOut = function (event) {\r\n            this._updatePage();\r\n            this._isDown = false;\r\n        };\r\n        page_view.prototype._updatePage = function () {\r\n            if (!this._isDown) {\r\n                return;\r\n            }\r\n            this.scrollBar.stopScroll();\r\n            var total = this._cellOffset > 0 ? this.totalPage + 1 : this.totalPage;\r\n            if (total > 1) {\r\n                var changeSize = this._cellSize / 6;\r\n                var sss = this._currentPage * this._cellSize;\r\n                if (Math.abs(this.scrollBar.value - sss) > changeSize) {\r\n                    if (this.scrollBar.value > sss) {\r\n                        this._currentPage++;\r\n                    }\r\n                    else {\r\n                        this._currentPage--;\r\n                    }\r\n                }\r\n                if (this._currentPage > total) {\r\n                    this._currentPage = total + 1;\r\n                }\r\n                if (this._currentPage < 0) {\r\n                    this._currentPage = 0;\r\n                }\r\n            }\r\n            this.tweenTo(this._currentPage);\r\n            if (this._onPageChange) {\r\n                this._onPageChange(this._currentPage);\r\n            }\r\n        };\r\n        return page_view;\r\n    }(Laya.List));\r\n    runtime.page_view = page_view;\r\n})(runtime || (runtime = {}));\r\nexports.default = runtime;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar env_1 = require(\"./env\");\r\nvar any_1 = require(\"../utils/any\");\r\nvar _listeners = [];\r\nfunction onMessage(callback) {\r\n    if (callback && typeof callback == \"function\" && _listeners.indexOf(callback) < 0) {\r\n        _listeners.push(callback);\r\n    }\r\n}\r\nfunction postMessage(data) {\r\n    if (data === void 0) { data = {}; }\r\n    if (env_1.default.isConchApp()) {\r\n        Laya.conchMarket.sendMessageToPlatform(any_1.toAny(data, \"{}\"), function (resp) {\r\n            env_1.default.printDebug(\"conch message callback: \", resp);\r\n        });\r\n    }\r\n    else {\r\n        window.parent.postMessage(any_1.toAny(data, {}), '*');\r\n    }\r\n}\r\nfunction _initMessage() {\r\n    var name = \"__dispatchMessage__\";\r\n    if (typeof window !== \"undefined\") {\r\n        window[name] = function (data) {\r\n            if (data) {\r\n                _listeners.forEach(function (callback) { return callback(any_1.toAny(data, {})); });\r\n            }\r\n        };\r\n    }\r\n    window.addEventListener(\"message\", function (msg) {\r\n        if (msg && msg.data) {\r\n            _listeners.forEach(function (callback) { return callback(any_1.toAny(msg.data, {})); });\r\n        }\r\n    });\r\n}\r\n(function () {\r\n    _initMessage();\r\n})();\r\nexports.default = {\r\n    postMessage: postMessage,\r\n    onMessage: onMessage\r\n};\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar any_1 = require(\"../utils/any\");\r\nvar json_1 = require(\"../utils/json\");\r\nfunction randomUUID() {\r\n    var _s4 = function () { return (((1 + Math.random()) * 0x10000) | 0).toString(16).substring(1); };\r\n    return (_s4() + _s4() + \"-\" + _s4() + \"-\" + _s4() + \"-\" + _s4() + \"-\" + _s4() + _s4() + _s4());\r\n}\r\nfunction randomNumber(minNum, maxNum) {\r\n    switch (arguments.length) {\r\n        case 1:\r\n            return Math.random() * minNum + 1;\r\n        case 2:\r\n            return Math.random() * (maxNum - minNum + 1) + minNum;\r\n        default:\r\n            return 0;\r\n    }\r\n}\r\nfunction randomInteger(minNum, maxNum) {\r\n    switch (arguments.length) {\r\n        case 1:\r\n            return Math.floor(Math.random() * minNum + 1);\r\n        case 2:\r\n            return Math.floor(Math.random() * (maxNum - minNum + 1) + minNum);\r\n        default:\r\n            return 0;\r\n    }\r\n}\r\nfunction randomArray(source, length) {\r\n    if (length === void 0) { length = -1; }\r\n    var randomLength = length == -1 ? source.length : length;\r\n    randomLength = Math.min(randomLength, source.length);\r\n    var copy = source.concat([]);\r\n    var result = [];\r\n    while (result.length < randomLength) {\r\n        var randomObj = randomArrayItem(copy);\r\n        result.push(randomObj);\r\n        copy.splice(copy.indexOf(randomLength), 1);\r\n    }\r\n    return result;\r\n}\r\nfunction randomArrayItem(source) {\r\n    if (source.length > 0) {\r\n        return source[Math.floor(Math.random() * source.length)];\r\n    }\r\n    return undefined;\r\n}\r\nexports.default = {\r\n    randomUUID: randomUUID,\r\n    randomInteger: randomInteger,\r\n    randomNumber: randomNumber,\r\n    randomArray: randomArray,\r\n    randomArrayItem: randomArrayItem,\r\n    loadJson: json_1.loadJson,\r\n    toAny: any_1.toAny\r\n};\r\n","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar stack_1 = require(\"../navigator/stack\");\r\nvar screen_1 = require(\"../manager/screen\");\r\nvar component_1 = require(\"./component\");\r\nvar Activity = /** @class */ (function (_super) {\r\n    __extends(Activity, _super);\r\n    function Activity(options) {\r\n        var _this = _super.call(this, function () { _this.back(); }) || this;\r\n        _this.page = null;\r\n        _this.params = {};\r\n        _this.duration = 0;\r\n        _this.easeIn = null;\r\n        _this.easeOut = null;\r\n        _this.fromProps = null;\r\n        _this.toProps = null;\r\n        _this.exitProps = null;\r\n        _this.ui = new Laya.Component;\r\n        _this.width = screen_1.default.getDesignWidth();\r\n        _this.height = screen_1.default.getDesignHeight();\r\n        _this.params = Object.assign({}, options.params || {});\r\n        _this.page = options.page;\r\n        return _this;\r\n    }\r\n    Activity.create = function (opts) {\r\n        var NewAct = /** @class */ (function (_super) {\r\n            __extends(NewAct, _super);\r\n            function NewAct(options) {\r\n                var _this = _super.call(this, options) || this;\r\n                _this.opts = null;\r\n                _this.opts = opts || {};\r\n                Object.assign(_this, _this.opts);\r\n                NewAct.single = _this.opts.single;\r\n                NewAct.res = _this.opts.res;\r\n                return _this;\r\n            }\r\n            NewAct.prototype.onCreate = function () {\r\n                this.opts.onCreate && this.opts.onCreate();\r\n            };\r\n            NewAct.prototype.onPause = function () {\r\n                this.opts.onPause && this.opts.onPause();\r\n            };\r\n            NewAct.prototype.onResume = function () {\r\n                this.opts.onResume && this.opts.onResume();\r\n            };\r\n            NewAct.prototype.onDestroy = function () {\r\n                this.opts.onDestroy && this.opts.onDestroy();\r\n            };\r\n            NewAct.prototype.onFocus = function (focus) {\r\n                this.opts.onFocus && this.opts.onFocus(focus);\r\n            };\r\n            NewAct.prototype.onNextProgress = function (progress) {\r\n                this.opts.onNextProgress && this.opts.onNextProgress(progress);\r\n            };\r\n            return NewAct;\r\n        }(Activity));\r\n        return NewAct;\r\n    };\r\n    Activity.open = function (params, action) {\r\n        stack_1.default.navigate(this, params, action);\r\n    };\r\n    Activity.finish = function () {\r\n        stack_1.default.finish(this);\r\n    };\r\n    //////////////////////////\r\n    /// navigator function\r\n    //////////////////////////\r\n    Activity.prototype.redirectTo = function (page, params, action, single) {\r\n        var _this = this;\r\n        if (params === void 0) { params = {}; }\r\n        if (action === void 0) { action = null; }\r\n        if (single === void 0) { single = false; }\r\n        this.navigate(page, params, function () {\r\n            _this.back();\r\n            action && action();\r\n        }, single);\r\n    };\r\n    Activity.prototype.navigate = function (page, params, action, single) {\r\n        if (params === void 0) { params = {}; }\r\n        if (action === void 0) { action = null; }\r\n        if (single === void 0) { single = false; }\r\n        stack_1.default.navigate(page, params, action, single);\r\n    };\r\n    Activity.prototype.back = function () {\r\n        stack_1.default.finish(this.page, this);\r\n    };\r\n    Activity.prototype.finish = function (page, instance) {\r\n        if (page === void 0) { page = this.page; }\r\n        if (instance === void 0) { instance = null; }\r\n        stack_1.default.finish(page, instance);\r\n    };\r\n    Activity.prototype.pop = function (number) {\r\n        if (number === void 0) { number = 1; }\r\n        stack_1.default.pop(number);\r\n    };\r\n    Activity.prototype.popToTop = function () {\r\n        stack_1.default.popToTop();\r\n    };\r\n    Activity.res = [];\r\n    Activity.unpackFile = null;\r\n    Activity.single = false;\r\n    return Activity;\r\n}(component_1.default));\r\nexports.default = Activity;\r\n","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar popupmanager_1 = require(\"./popupmanager\");\r\nvar screen_1 = require(\"../manager/screen\");\r\nvar pipeline_1 = require(\"../pipeline\");\r\nvar component_1 = require(\"./component\");\r\nvar PopupView = /** @class */ (function (_super) {\r\n    __extends(PopupView, _super);\r\n    function PopupView() {\r\n        var _this = _super.call(this, function () {\r\n            _this.hide();\r\n        }) || this;\r\n        _this.duration = 300;\r\n        _this.easeIn = null;\r\n        _this.easeOut = null;\r\n        _this.fromProps = null;\r\n        _this.toProps = null;\r\n        _this.exitProps = null;\r\n        _this.uiDuration = 300;\r\n        _this.uiEaseIn = null;\r\n        _this.uiEaseOut = null;\r\n        _this.uiFromProps = null;\r\n        _this.uiToProps = null;\r\n        _this.uiExitProps = null;\r\n        _this.topLevel = false;\r\n        _this.isTranslucent = false;\r\n        _this.canceledOnTouchOutside = false;\r\n        _this.nonPenetrating = true;\r\n        _this.width = screen_1.default.getDesignWidth();\r\n        _this.height = screen_1.default.getDesignHeight();\r\n        return _this;\r\n    }\r\n    PopupView.show = function (params, onHide, alias) {\r\n        popupmanager_1.default.showPopup(this, params, onHide, alias);\r\n    };\r\n    PopupView.signleShow = function (params, onHide, alias) {\r\n        popupmanager_1.default.hidePopup(this, null, null, alias);\r\n        popupmanager_1.default.showPopup(this, params, onHide, alias);\r\n    };\r\n    PopupView.pipeShow = function (params, onHide, alias) {\r\n        var _this = this;\r\n        pipeline_1.default.put(\"popup\", function () {\r\n            popupmanager_1.default.showPopup(_this, params, function () {\r\n                var args = [];\r\n                for (var _i = 0; _i < arguments.length; _i++) {\r\n                    args[_i] = arguments[_i];\r\n                }\r\n                onHide && onHide.apply(void 0, args);\r\n                pipeline_1.default.next(\"popup\");\r\n            }, alias);\r\n        });\r\n    };\r\n    PopupView.hide = function (result, alias) {\r\n        popupmanager_1.default.hidePopup(this, null, result, alias);\r\n    };\r\n    PopupView.prototype.hide = function (result) {\r\n        if (result === void 0) { result = null; }\r\n        popupmanager_1.default.hidePopup(this.popup, this, result, this.alias);\r\n    };\r\n    return PopupView;\r\n}(component_1.default));\r\nexports.default = PopupView;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar env_1 = require(\"./env\");\r\nvar _pipeline_map = {};\r\nfunction _check(type) {\r\n    if (_pipeline_map[type]) {\r\n        var pipe = _pipeline_map[type];\r\n        if (pipe.funcs.length <= 0) {\r\n            return;\r\n        }\r\n        if (pipe.padding) {\r\n            setTimeout(function () {\r\n                _check(type);\r\n            }, 500);\r\n            return;\r\n        }\r\n        var func = pipe.funcs.shift();\r\n        func && func();\r\n        pipe.padding = true;\r\n        _check(type);\r\n    }\r\n}\r\nfunction put(type, func) {\r\n    if (type && typeof func === \"function\") {\r\n        env_1.default.printDebug(\"put pipe to : \", type);\r\n        if (_pipeline_map[type]) {\r\n            _pipeline_map[type].funcs.push(func);\r\n        }\r\n        else {\r\n            _pipeline_map[type] = { padding: false, funcs: [func] };\r\n        }\r\n        _check(type);\r\n    }\r\n}\r\nfunction next(type) {\r\n    if (_pipeline_map[type]) {\r\n        env_1.default.printDebug(\"next pipe as : \", type);\r\n        _pipeline_map[type].padding = false;\r\n        _check(type);\r\n    }\r\n}\r\nexports.default = {\r\n    put: put,\r\n    next: next,\r\n};\r\n","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar toastmanager_1 = require(\"./toastmanager\");\r\nvar screen_1 = require(\"../manager/screen\");\r\nvar component_1 = require(\"./component\");\r\nvar ToastView = /** @class */ (function (_super) {\r\n    __extends(ToastView, _super);\r\n    function ToastView() {\r\n        var _this = _super.call(this, function () { _this.hide(); }) || this;\r\n        _this.duration = 200;\r\n        _this.displayDuration = 1000;\r\n        _this.easeIn = null;\r\n        _this.easeOut = null;\r\n        _this.fromProps = null;\r\n        _this.toProps = null;\r\n        _this.exitProps = null;\r\n        _this.topLevel = true;\r\n        _this.width = screen_1.default.getDesignWidth();\r\n        _this.height = screen_1.default.getDesignHeight();\r\n        return _this;\r\n    }\r\n    ToastView.show = function (params, onHide) {\r\n        toastmanager_1.default.showToast(this, params, onHide);\r\n    };\r\n    ToastView.hide = function () {\r\n        toastmanager_1.default.hideToast(this);\r\n    };\r\n    ToastView.prototype.hide = function () {\r\n        toastmanager_1.default.hideToast(this.toast, this);\r\n    };\r\n    return ToastView;\r\n}(component_1.default));\r\nexports.default = ToastView;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nfunction stringifyQuery(query) {\r\n    return Object.keys(query).map(function (key) {\r\n        var value = query[key];\r\n        return key + \"=\" + encodeURIComponent(value);\r\n    }).join('&');\r\n}\r\nexports.stringifyQuery = stringifyQuery;\r\nfunction decodeQuery(query) {\r\n    return Object.keys(query).reduce(function (result, key) {\r\n        var value = query[key];\r\n        result[key] = decodeURIComponent(value);\r\n        return result;\r\n    }, {});\r\n}\r\nexports.decodeQuery = decodeQuery;\r\nfunction parseQueryParams(path) {\r\n    var url = '';\r\n    var params = {};\r\n    if (!path || typeof path !== 'string') {\r\n        return { url: url, params: params };\r\n    }\r\n    var queryString = '';\r\n    var indexE = path.indexOf('?');\r\n    var indexW = path.indexOf('#');\r\n    var indexQ = path.indexOf('=');\r\n    if (indexE >= 0) {\r\n        url = path.substring(0, indexE);\r\n        queryString = path.substring(indexE + 1, indexW > 0 ? indexW : path.length);\r\n    }\r\n    else if (indexQ >= 0) {\r\n        url = '';\r\n        queryString = path;\r\n    }\r\n    else {\r\n        url = path;\r\n        queryString = '';\r\n    }\r\n    queryString.split('&').map(function (item) {\r\n        var index = item.indexOf(\"=\");\r\n        if (index > 0) {\r\n            var key = item.substring(0, index);\r\n            var value = item.substring(index + 1);\r\n            params[key] = decodeURIComponent(value);\r\n        }\r\n    });\r\n    return { url: url, params: params };\r\n}\r\nexports.parseQueryParams = parseQueryParams;\r\nfunction appendQueryParams(path, query) {\r\n    if (query === void 0) { query = {}; }\r\n    var _a = parseQueryParams(path), url = _a.url, params = _a.params;\r\n    Object.keys(query).forEach(function (key) {\r\n        var value = query[key];\r\n        if (value !== undefined && value !== null) {\r\n            params[key] = value;\r\n        }\r\n        else {\r\n            delete params[key];\r\n        }\r\n    });\r\n    var queryString = Object.keys(params).map(function (key) {\r\n        var value = params[key];\r\n        return key + \"=\" + encodeURIComponent(value);\r\n    }).join('&');\r\n    ;\r\n    if (!url) {\r\n        return queryString;\r\n    }\r\n    if (!queryString) {\r\n        return url;\r\n    }\r\n    return url + \"?\" + queryString;\r\n}\r\nexports.appendQueryParams = appendQueryParams;\r\nfunction getQueryString(key, def) {\r\n    if (typeof window !== \"undefined\" && window.location) {\r\n        var search = window.location.search || '';\r\n        var reg = new RegExp(\"(^|&)\" + key + \"=([^&]*)(&|$)\");\r\n        var r = search.substr(1).match(reg);\r\n        if (r != null) {\r\n            return decodeURIComponent(unescape(r[2]));\r\n        }\r\n    }\r\n    return def;\r\n}\r\nexports.getQueryString = getQueryString;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar env_1 = require(\"./env\");\r\nvar screen_1 = require(\"./manager/screen\");\r\nvar init_1 = require(\"./navigator/init\");\r\nvar hook_1 = require(\"./hook\");\r\nvar _inited = false;\r\nvar _transparent = false;\r\nvar _adapterInfo = null;\r\nfunction handleAdapter() {\r\n    try {\r\n        if (_adapterInfo) {\r\n            var stage = Laya.stage;\r\n            stage.width = _adapterInfo.width;\r\n            stage.height = _adapterInfo.height;\r\n            stage.scale(_adapterInfo.scaleX, _adapterInfo.scaleY);\r\n        }\r\n    }\r\n    catch (error) {\r\n    }\r\n}\r\nfunction setTransparent(transparent) {\r\n    _transparent = transparent;\r\n}\r\nexports.setTransparent = setTransparent;\r\nfunction setAdapterInfo(adapterInfo) {\r\n    _adapterInfo = adapterInfo;\r\n}\r\nexports.setAdapterInfo = setAdapterInfo;\r\nfunction init(width, height) {\r\n    var options = [];\r\n    for (var _i = 2; _i < arguments.length; _i++) {\r\n        options[_i - 2] = arguments[_i];\r\n    }\r\n    if (_inited) {\r\n        return;\r\n    }\r\n    if (!env_1.default.isLayaApp()) {\r\n        env_1.default.printError('Please ensure that the \\'Laya\\' library has been introduced.');\r\n        return;\r\n    }\r\n    screen_1.initScreen.apply(void 0, [false, _transparent, width, height].concat(options));\r\n    hook_1.callHookInit.apply(void 0, [width, height].concat(options));\r\n    handleAdapter();\r\n    _inited = true;\r\n    env_1.default.printDebug(\"init...\");\r\n    env_1.default.printDebug(\"offest: \" + screen_1.default.getOffestX() + \", \" + screen_1.default.getOffestY());\r\n    env_1.default.printDebug(\"app_version: \" + env_1.default.getAppVersion());\r\n    env_1.default.printDebug(\"version: \" + env_1.default.getVersion());\r\n    env_1.default.printDebug(\"debug: \" + env_1.default.isDebug());\r\n    env_1.default.printDebug(\"env: \" + env_1.default.getEnv());\r\n}\r\nexports.init = init;\r\nfunction init3D(width, height) {\r\n    var options = [];\r\n    for (var _i = 2; _i < arguments.length; _i++) {\r\n        options[_i - 2] = arguments[_i];\r\n    }\r\n    if (_inited) {\r\n        return;\r\n    }\r\n    if (!env_1.default.isLayaApp()) {\r\n        env_1.default.printError('Please ensure that the \\'Laya\\' library has been introduced.');\r\n        return;\r\n    }\r\n    screen_1.initScreen.apply(void 0, [true, _transparent, width, height].concat(options));\r\n    handleAdapter();\r\n    hook_1.callHookInit.apply(void 0, [width, height].concat(options));\r\n    _inited = true;\r\n    env_1.default.printDebug(\"init3D...\");\r\n    env_1.default.printDebug(\"offest: \" + screen_1.default.getOffestX() + \", \" + screen_1.default.getOffestY());\r\n    env_1.default.printDebug(\"app_version: \" + env_1.default.getAppVersion());\r\n    env_1.default.printDebug(\"version: \" + env_1.default.getVersion());\r\n    env_1.default.printDebug(\"debug: \" + env_1.default.isDebug());\r\n    env_1.default.printDebug(\"env: \" + env_1.default.getEnv());\r\n}\r\nexports.init3D = init3D;\r\nfunction start(options, onLoaded, onLoadProgress) {\r\n    if (onLoaded === void 0) { onLoaded = null; }\r\n    if (onLoadProgress === void 0) { onLoadProgress = null; }\r\n    if (!_inited) {\r\n        env_1.default.printError('Please complete the initialization of Tape first.');\r\n        return;\r\n    }\r\n    if (!options) {\r\n        options = {};\r\n    }\r\n    var newOptions = {\r\n        mainPage: options.mainPage || null,\r\n        commonRes: options.commonRes || [],\r\n        fileVersion: options.fileVersion,\r\n        onLoadProgress: function (progress) {\r\n            options.onLoadProgress && options.onLoadProgress(progress);\r\n            onLoadProgress && onLoadProgress(progress);\r\n        },\r\n        onLoaded: function () {\r\n            onLoaded && onLoaded();\r\n            options.onLoaded && options.onLoaded();\r\n        }\r\n    };\r\n    init_1.initNavigator(newOptions);\r\n    init_1.setNavigatorReady();\r\n}\r\nexports.start = start;\r\n"],"sourceRoot":""}