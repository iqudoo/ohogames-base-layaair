{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap","webpack:///./src/services/manager/screen.ts","webpack:///./src/services/env.ts","webpack:///./src/services/manager/uimgr.ts","webpack:///./src/services/navigator/stack.ts","webpack:///./src/services/display/component.ts","webpack:///./src/services/hook.ts","webpack:///./src/services/manager/bg.ts","webpack:///./src/services/navigator/loader.ts","webpack:///./src/services/navigator/init.ts","webpack:///./src/utils/json.ts","webpack:///./src/utils/looper.ts","webpack:///./src/utils/any.ts","webpack:///./src/services/display/popupmanager.ts","webpack:///./src/services/display/toastmanager.ts","webpack:///./src/services/display/baseview.ts","webpack:///./src/index.ts","webpack:///./src/adapter/index.ts","webpack:///./src/adapter/_transsion.ts","webpack:///./src/polyfill.ts","webpack:///./src/services/manager/eft.ts","webpack:///./src/services/speaker/index.ts","webpack:///./src/services/speaker/_chancel.ts","webpack:///./src/services/speaker/_peaks.ts","webpack:///./src/services/speaker/_loadres.ts","webpack:///./src/services/audio.ts","webpack:///./src/services/js.ts","webpack:///./src/utils/onload.ts","webpack:///./src/services/event.ts","webpack:///./src/services/runtime.ts","webpack:///./src/services/message.ts","webpack:///./src/services/utils.ts","webpack:///./src/services/display/activity.ts","webpack:///./src/services/display/popupview.ts","webpack:///./src/services/pipeline.ts","webpack:///./src/services/display/toastview.ts","webpack:///./src/utils/query.ts","webpack:///./src/services/init.ts"],"names":["root","factory","exports","module","define","amd","a","i","this","installedModules","__webpack_require__","moduleId","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","bg_1","uimgr_1","_padding_left","_padding_right","_padding_top","_padding_bottom","_design_width","_design_height","_deviation","_autoAdaption","_autoDirection","size","paddingWidth","paddingHeight","clientWidth","window","innerWidth","laya","utils","Browser","clientHeight","innerHeight","initWidth","initHeight","screenRatio","initRatio","Math","abs","getWidth","Laya","stage","width","getHeight","height","getContentWidth","getContentHeight","getDesignWidth","getDesignHeight","getScale","designWidth","designHeight","min","initScreen","is3D","isAlpha","options","_i","arguments","length","_a","Config","Laya3D","init","apply","concat","bgColor","scaleMode","Stage","SCALE_EXACTFIT","screenMode","SCREEN_HORIZONTAL","SCREEN_VERTICAL","alignH","ALIGN_CENTER","alignV","ALIGN_MIDDLE","initBg","initUI","default","getOffestX","scale","getOffestY","setDeviation","deviation","setPaddingLeft","padding","getPaddingLeft","setPaddingRight","getPaddingRight","setPaddingTop","getPaddingTop","setPaddingBottom","getPaddingBottom","setAutoDirection","auto","setAutoAdaption","adaption","_app_version","_debugOn","isDebug","indexOf","_env","classNameMap","getClassName","obj","str","toString","arr","charAt","match","name_1","e","isLayaApp","isConchApp","getVersion","setAppVersion","version","getAppVersion","setDebug","debug","printError","message","console","error","printDebug","log","getEnv","setEnv","env","_uiManager","_mainUILayer","_topUILayer","stack_1","loader_1","screen_1","_inited","_checkInit","Sprite","mouseThrough","addChild","on","Event","RESIZE","_resizeUI","x","y","scaleX","scaleY","checkFocus","numChildren","getChildAt","setFocus","moveTopToMainLayer","view","parent","removeChild","addViewToMainLayer","addViewTopLayer","_loaders","_all","_length","_getStack","index","len","_showStack","anim","callback","stack","show","_refreshStack","hide","_popStack","count","splice","forEach","exit","focus","navigate","page","params","action","single","open","onShow","onLoaded","loader","push","onLoadProgress","progress","nextProgress","stacks","filter","pop","number","popToTop","finish","instance","_finishStack","extendStatics","__extends","setPrototypeOf","__proto__","Array","b","__","constructor","Component","_super","handleOnTouchOutside","_this","_bgSprite","_bgAlpha","_bgColor","_isTranslucent","_isShow","_handleOnTouchOutside","_canceledOnTouchOutside","_mask","_onEvent","isShow","canceledOnTouchOutside","stopPropagation","configurable","set","bgAlpha","refreshBg","isTranslucent","refreshCanceledOnTouchOutside","nonPenetrating","resizeBg","alpha","graphics","clear","drawRect","offAll","ui","CLICK","addChildAt","setTimeout","_inits","callHookInit","onInit","_bgImage","_bgSkin","_bgSizeGrid","_drawSkin","skin","sizeGrid","_resizeBg","Image","setBgSkin","url","setBgColor","color","setBgTexture","load","Handler","texture","fillTexture","getBgSprite","env_1","init_1","json_1","_indexID","default_1","unpackFile","res","_options","_activity","_isFocus","_pageName","visible","_getPageName","loadJson","catch","then","data","map","item","tyep","Loader","IMAGE","Promise","resolve","_newActivity","_onLoaded","_onLoadProgress","onNavigatorReady","onCreate","onNextProgress","activity","easeIn","Ease","linearIn","duration","fromProps","toProps","assign","onResume","Tween","to","easeOut","exitProps","onPause","onDestroy","destroy","onFocus","_isReady","_readyResolve","_readyPromise","_beginLoadStaticRes","commonRes","_onStaticResLoaded","mainPage","initNavigator","fileVersion","ResourceVersion","type","FILENAME_VERSION","enable","setNavigatorReady","_temp","_reject","_listener","force","ERROR","_initListener","reject","JSON","val","getRes","Looper","_tasks","_hasLoop","_checkLoop","timer","frameLoop","task","caller","clearAll","loop","array","where","removeIndexArray_1","reverse","removeItemForWhere","toAny","def","parse","ex","parseFloat","isNaN","_inferType","_toNumber_","_toBoolean_","_toObject_","stringify","_toString_","_popups","_fromProps","_toProps","_exitProps","_hidePopup","result","popupView","cb","uiDuration","uiToProps","uiExitProps","uiEaseOut","linearOut","max","_hidePopupAnim","_onHide","popup","onHide","removeSelf","_showPopup","uiFromProps","uiEaseIn","from","_showPopupAnim","showPopup","alias","mapKey","views","topLevel","hidePopup","v","close","_toasts","_popToast","toast","showToast","_on_hide","displayDuration","_pushToast","hideToast","BaseView","getChildByName","removeChildByName","eft_1","speaker_1","audio_1","js_1","event_1","runtime_1","message_1","utils_1","popupmanager_1","toastmanager_1","activity_1","popupview_1","toastview_1","baseview_1","query_1","OHOGame","init3D","start","getQueryString","js","bg","eft","screen","speaker","audio","event","runtime","navigator","Activity","PopupView","ToastView","hook_1","HttpRequest","cache","group","ignoreCache","_url","_type","getTypeFromUrl","URL","formatURL","_cache","_data","loadedMap","setGroup","parserMap","_customParse","runWith","_loadImage","_loadSound","_loadTTF","loadRuntime","startsWith","that","response","substr","rt","getFileSystemManager","readFileSync","contentType","preLoadedMap","_http","onProgress","onError","send","info","rw","rh","target","varArgs","TypeError","nextSource","nextKey","writable","_dic","Dictionary","_mcpool","_inst","onLoadComplet","path","mc","play","loadComplet","thisRef","split","stop","off","LOADED","shift","MovieClip","remove","pivotX","pivotY","looper_1","_chancel_1","vowelsByFormantJP","vowelFormantFloorJP","vowelsByFormantCN","vowelFormantFloorCN","SpeakerController","_onPlay","_onStop","_onError","_onProgress","_onComplete","_playTime","_auidoUrl","_position","_duration","_formant","_speaking","_language","_chancel","_update","formant","position","Date","now","onPlay","onStop","onComplete","getFormant","getVowel","formantValue","language","currentVowels","currentVowelFormantCeilValues","getVowelByFormant","isSpeaking","speak","invoke","fixWechatAudioPlay","playSpeak","_peaks_1","_loadres_1","FixAudioContext","AudioContext","webkitAudioContext","mozAudioContext","msAudioContext","_CHANCELS","SpeakerChancel","_audioUrl","_onErrorCallback","amplitudeThreshold","audioCtx","sampleRate","sourceNode","createBufferSource","analyserNode","createAnalyser","fftSize","windowSize","frequencyBinCount","gaussianFilters","generateGaussianFilter","disconnect","connect","currentTime","buffer","currentAudioData","Uint8Array","getByteFrequencyData","currentAudioSpectrum","discreteCosineTransform","amplitudeSum","k","formantArray","smoothedAudioSpectrum","convoluteDataAndFilter","findLocalLargestPeaks","peakValues","peakPositions","frequencyUnit","formantAverage_1","formantVal","loadRes","audioData","decodeAudioData","destination","errorMsg","cancel","getValueFromArray","paddleType","actualIndex","deviationSquare","sum","mu","param","exp","j","sumCos","_","d2","cos","PI","output","filterMiddlePoint","floor","peakNum","lastPeak","lastPeakPositions","isIncreasing","isPeakIncreasing","failure","request","XMLHttpRequest","responseType","onload","onreadystatechange","readyState","status","AudioController","isMusic","_playing","_onPause","_paused","_music","_soundList","stopAll","isPaused","isPlaying","loops","playUrl","targetUrl","replaceExt","ext","Utils","getFileExtension","searchExt","SoundManager","playMusic","playSound","pause","resume","stopMusic","stopSound","removeChannel","_musicAudio","stopAllSound","setMusicVolume","volume","setSoundVolume","onload_1","loadJs","jspath","undefined","jsList","nodeList","_protocol","location","protocol","_script","document","createElement","keys","setAttribute","src","body","appendChild","onerror","err","_loadJS","node","_ready","reslove","_timer","_pollingDocument","clearTimeout","registeredEvent","fun","sort","removeEvent","sendEvent","args","EventDispatcher","pivotCenter","pivot","setViewProps","props","bindClick","onClick","onDown","onUp","onOut","sound","clickSound","MOUSE_DOWN","clickDownProps","clickAnimDuration","MOUSE_UP","clickNormalProps","MOUSE_OUT","btn","Button","btn_img","btn_label","Label","btn_sprite","btn_box","Box","page_list","_isDown","_onLoadMoreHandler","_loading","_preCount","onMouseUp","onMouseOut","onMouseDown","renderHandler","renderItem","refresh","_updatePage","loading","handler","maxHeight","_array","_cellSize","currentPos","_cellOffset","scrollBar","lastCount","preCount","List","page_view","_currentPage","_onPageChange","tweenTo","stopScroll","total","totalPage","changeSize","sss","any_1","_listeners","addEventListener","msg","postMessage","conchMarket","sendMessageToPlatform","resp","onMessage","randomArrayItem","source","random","randomUUID","_s4","substring","randomInteger","minNum","maxNum","randomNumber","randomArray","randomLength","copy","randomObj","back","opts","NewAct","redirectTo","pipeline_1","signleShow","pipeShow","put","next","_pipeline_map","_check","pipe","funcs","func","parseQueryParams","queryString","indexE","indexW","indexQ","decodeURIComponent","stringifyQuery","query","encodeURIComponent","join","decodeQuery","reduce","appendQueryParams","search","reg","RegExp","unescape","_transparent","_adapterInfo","handleAdapter","setTransparent","transparent","setAdapterInfo","adapterInfo","newOptions"],"mappings":"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","file":"index.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(this, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 15);\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar bg_1 = require(\"./bg\");\r\nvar uimgr_1 = require(\"./uimgr\");\r\nvar _padding_left = 0;\r\nvar _padding_right = 0;\r\nvar _padding_top = 0;\r\nvar _padding_bottom = 0;\r\nvar _design_width = 0;\r\nvar _design_height = 0;\r\nvar _deviation = 0;\r\nvar _autoAdaption = true;\r\nvar _autoDirection = false;\r\nfunction size() {\r\n    var paddingWidth = _padding_left + _padding_right;\r\n    var paddingHeight = _padding_top + _padding_bottom;\r\n    var clientWidth = window.innerWidth || laya.utils.Browser.clientWidth;\r\n    var clientHeight = window.innerHeight || laya.utils.Browser.clientHeight;\r\n    var initWidth = _design_width;\r\n    var initHeight = _design_height;\r\n    var screenRatio = 1;\r\n    var initRatio = 1;\r\n    if (!_autoDirection) {\r\n        screenRatio = clientHeight / clientWidth;\r\n        initRatio = initHeight / initWidth;\r\n        if (Math.abs(screenRatio / initRatio - 1) > _deviation) {\r\n            if (screenRatio > initRatio) {\r\n                initHeight = initWidth * screenRatio;\r\n            }\r\n            else if (screenRatio < initRatio) {\r\n                initWidth = initHeight / screenRatio;\r\n            }\r\n        }\r\n    }\r\n    else if (initWidth < initHeight && clientWidth < clientHeight) { // \r\n        screenRatio = clientHeight / clientWidth;\r\n        initRatio = initHeight / initWidth;\r\n        if (Math.abs(screenRatio / initRatio - 1) > _deviation) {\r\n            if (screenRatio > initRatio) {\r\n                initHeight = initWidth * screenRatio;\r\n            }\r\n            else if (screenRatio < initRatio) {\r\n                initWidth = initHeight / screenRatio;\r\n            }\r\n        }\r\n    }\r\n    else if (initWidth < initHeight && clientWidth >= clientHeight) { // \r\n        screenRatio = clientHeight / clientWidth;\r\n        initRatio = initWidth / initHeight;\r\n        if (Math.abs(screenRatio / initRatio - 1) > _deviation) {\r\n            if (screenRatio > initRatio) {\r\n                initWidth = initHeight * screenRatio;\r\n            }\r\n            else if (screenRatio < initRatio) {\r\n                initHeight = initWidth / screenRatio;\r\n            }\r\n        }\r\n    }\r\n    else if (initWidth >= initHeight && clientWidth >= clientHeight) { // \r\n        screenRatio = clientHeight / clientWidth;\r\n        initRatio = initHeight / initWidth;\r\n        if (Math.abs(screenRatio / initRatio - 1) > _deviation) {\r\n            if (screenRatio > initRatio) {\r\n                initHeight = initWidth * screenRatio;\r\n            }\r\n            else if (screenRatio < initRatio) {\r\n                initWidth = initHeight / screenRatio;\r\n            }\r\n        }\r\n    }\r\n    else if (initWidth >= initHeight && clientWidth < clientHeight) { // \r\n        screenRatio = clientHeight / clientWidth;\r\n        initRatio = initWidth / initHeight;\r\n        if (Math.abs(screenRatio / initRatio - 1) > _deviation) {\r\n            if (screenRatio > initRatio) {\r\n                initWidth = initHeight * screenRatio;\r\n            }\r\n            else if (screenRatio < initRatio) {\r\n                initHeight = initWidth / screenRatio;\r\n            }\r\n        }\r\n    }\r\n    return {\r\n        initHeight: initHeight + paddingWidth,\r\n        initWidth: initWidth + paddingHeight\r\n    };\r\n}\r\nfunction initScreen(is3D, isAlpha, width, height) {\r\n    var options = [];\r\n    for (var _i = 4; _i < arguments.length; _i++) {\r\n        options[_i - 4] = arguments[_i];\r\n    }\r\n    _design_width = width;\r\n    _design_height = height;\r\n    if (_autoAdaption) {\r\n        var _a = size(), initHeight = _a.initHeight, initWidth = _a.initWidth;\r\n        if (is3D) {\r\n            if (isAlpha) {\r\n                Config.isAlpha = true;\r\n            }\r\n            Laya3D.init.apply(this, [initWidth, initHeight].concat(options));\r\n            if (isAlpha) {\r\n                Laya.stage.bgColor = \"none\";\r\n            }\r\n        }\r\n        else {\r\n            Laya.init.apply(this, [initWidth, initHeight].concat(options));\r\n            if (isAlpha) {\r\n                Laya.stage.bgColor = null;\r\n            }\r\n        }\r\n        Laya.stage.scaleMode = Laya.Stage.SCALE_EXACTFIT;\r\n        if (_autoDirection) {\r\n            if (initWidth > initHeight) {\r\n                Laya.stage.screenMode = Laya.Stage.SCREEN_HORIZONTAL;\r\n            }\r\n            else {\r\n                Laya.stage.screenMode = Laya.Stage.SCREEN_VERTICAL;\r\n            }\r\n        }\r\n        Laya.stage.alignH = Laya.Stage.ALIGN_CENTER;\r\n        Laya.stage.alignV = Laya.Stage.ALIGN_MIDDLE;\r\n    }\r\n    else {\r\n        if (is3D) {\r\n            Laya3D.init.apply(this, [width, height].concat(options));\r\n        }\r\n        else {\r\n            Laya.init.apply(this, [width, height].concat(options));\r\n        }\r\n    }\r\n    bg_1.initBg();\r\n    uimgr_1.initUI();\r\n}\r\nexports.initScreen = initScreen;\r\nfunction getWidth() {\r\n    return Laya.stage.width;\r\n}\r\nfunction getHeight() {\r\n    return Laya.stage.height;\r\n}\r\nfunction getContentWidth() {\r\n    return getWidth() - _padding_left - _padding_right;\r\n}\r\nfunction getContentHeight() {\r\n    return getHeight() - _padding_top - _padding_bottom;\r\n}\r\nfunction setPaddingLeft(padding) {\r\n    _padding_left = padding;\r\n}\r\nfunction getPaddingLeft() {\r\n    return _padding_left;\r\n}\r\nfunction setPaddingRight(padding) {\r\n    _padding_right = padding;\r\n}\r\nfunction getPaddingRight() {\r\n    return _padding_right;\r\n}\r\nfunction setPaddingTop(padding) {\r\n    _padding_top = padding;\r\n}\r\nfunction getPaddingTop() {\r\n    return _padding_top;\r\n}\r\nfunction setPaddingBottom(padding) {\r\n    _padding_bottom = padding;\r\n}\r\nfunction getPaddingBottom() {\r\n    return _padding_bottom;\r\n}\r\nfunction getDesignWidth() {\r\n    return _design_width;\r\n}\r\nfunction getDesignHeight() {\r\n    return _design_height;\r\n}\r\nfunction getScale() {\r\n    var width = getContentWidth();\r\n    var height = getContentHeight();\r\n    var designWidth = getDesignWidth();\r\n    var designHeight = getDesignHeight();\r\n    return Math.min(width / designWidth, height / designHeight);\r\n}\r\nfunction getOffestX() {\r\n    if (!_autoAdaption) {\r\n        return _padding_left;\r\n    }\r\n    var scale = getScale();\r\n    var width = getContentWidth();\r\n    return (width - _design_width * scale) / 2 + _padding_left;\r\n}\r\nfunction getOffestY() {\r\n    if (!_autoAdaption) {\r\n        return _padding_top;\r\n    }\r\n    var scale = getScale();\r\n    var height = getContentHeight();\r\n    return (height - _design_height * scale) / 2 + _padding_top;\r\n}\r\nfunction setDeviation(deviation) {\r\n    _deviation = deviation;\r\n}\r\nfunction setAutoDirection(auto) {\r\n    _autoDirection = auto;\r\n}\r\nfunction setAutoAdaption(adaption) {\r\n    _autoAdaption = adaption;\r\n}\r\nexports.default = {\r\n    getWidth: getWidth,\r\n    getHeight: getHeight,\r\n    getScale: getScale,\r\n    getOffestX: getOffestX,\r\n    getOffestY: getOffestY,\r\n    getContentWidth: getContentWidth,\r\n    getContentHeight: getContentHeight,\r\n    getDesignWidth: getDesignWidth,\r\n    getDesignHeight: getDesignHeight,\r\n    setDeviation: setDeviation,\r\n    setPaddingLeft: setPaddingLeft,\r\n    getPaddingLeft: getPaddingLeft,\r\n    setPaddingRight: setPaddingRight,\r\n    getPaddingRight: getPaddingRight,\r\n    setPaddingTop: setPaddingTop,\r\n    getPaddingTop: getPaddingTop,\r\n    setPaddingBottom: setPaddingBottom,\r\n    getPaddingBottom: getPaddingBottom,\r\n    setAutoDirection: setAutoDirection,\r\n    setAutoAdaption: setAutoAdaption,\r\n};\r\n","\"use strict\";\r\n//////////////////////////\r\n/////  Env\r\n//////////////////////////\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar isLayaApp = function () {\r\n    if (typeof window !== \"undefined\") {\r\n        return window.hasOwnProperty(\"Laya\");\r\n    }\r\n    return false;\r\n};\r\nvar isConchApp = function () {\r\n    if (typeof window !== \"undefined\") {\r\n        return window.hasOwnProperty(\"conch\");\r\n    }\r\n    return false;\r\n};\r\n//////////////////////////\r\n/////  Version\r\n//////////////////////////\r\nvar _app_version = \"${app_version}\";\r\nfunction getAppVersion() {\r\n    if (typeof _app_version === \"string\" && _app_version.indexOf('${') === 0) {\r\n        return;\r\n    }\r\n    return _app_version;\r\n}\r\nfunction setAppVersion(version) {\r\n    _app_version = version;\r\n}\r\n//////////////////////////\r\n/////  Version\r\n//////////////////////////\r\nvar _lib_version = \"1.1.1.1111.1631\";\r\nfunction getVersion() {\r\n    if (typeof _lib_version === \"string\" && _lib_version.indexOf('${') === 0) {\r\n        return '1.0.0';\r\n    }\r\n    return _lib_version;\r\n}\r\n//////////////////////////\r\n/////  Debug\r\n//////////////////////////\r\nvar _debugOn = '${debug}';\r\nfunction isDebug() {\r\n    if (typeof _debugOn === \"string\" && _debugOn.indexOf('${') === 0) {\r\n        return false;\r\n    }\r\n    if (_debugOn == \"false\" || _debugOn == \"0\") {\r\n        return false;\r\n    }\r\n    return !!_debugOn;\r\n}\r\nfunction setDebug(debug) {\r\n    _debugOn = debug;\r\n}\r\nfunction printDebug(message) {\r\n    var options = [];\r\n    for (var _i = 1; _i < arguments.length; _i++) {\r\n        options[_i - 1] = arguments[_i];\r\n    }\r\n    if (isDebug()) {\r\n        console.log.apply(console, [\"[ohosdk]\", \"[OHOGame]\", message].concat(options));\r\n    }\r\n}\r\nfunction printError(message) {\r\n    var options = [];\r\n    for (var _i = 1; _i < arguments.length; _i++) {\r\n        options[_i - 1] = arguments[_i];\r\n    }\r\n    if (isDebug()) {\r\n        console.error.apply(console, [\"[ohosdk]\", \"[OHOGame]\", message].concat(options));\r\n    }\r\n}\r\n//////////////////////////\r\n/////  Env\r\n//////////////////////////\r\nvar _env = '${env}';\r\nfunction setEnv(env) {\r\n    _env = env;\r\n}\r\nfunction getEnv() {\r\n    if (typeof _env === \"string\" && _env.indexOf('${') === 0) {\r\n        return;\r\n    }\r\n    return _env;\r\n}\r\n//////////////////////////\r\n/////  getClassName\r\n//////////////////////////\r\nvar classNameMap = {};\r\nfunction getClassName(obj) {\r\n    try {\r\n        if (obj) {\r\n            if (obj.name) {\r\n                return obj.name;\r\n            }\r\n            if (classNameMap[obj]) {\r\n                return classNameMap[obj];\r\n            }\r\n            var str = obj.toString();\r\n            var arr = void 0;\r\n            if (str.charAt(0) == '[') {\r\n                arr = str.match(/\\w+\\s(\\w+)\\w+\\s(\\w+)/);\r\n            }\r\n            else {\r\n                arr = str.match(/function\\s*(\\w+)/);\r\n            }\r\n            var name_1 = \"\";\r\n            if (arr && arr.length == 2) {\r\n                name_1 = arr[1];\r\n            }\r\n            classNameMap[obj] = name_1;\r\n            return name_1;\r\n        }\r\n    }\r\n    catch (e) {\r\n    }\r\n    return undefined;\r\n}\r\nexports.getClassName = getClassName;\r\nexports.default = {\r\n    isLayaApp: isLayaApp,\r\n    isConchApp: isConchApp,\r\n    getVersion: getVersion,\r\n    setAppVersion: setAppVersion,\r\n    getAppVersion: getAppVersion,\r\n    isDebug: isDebug,\r\n    setDebug: setDebug,\r\n    printError: printError,\r\n    printDebug: printDebug,\r\n    getEnv: getEnv,\r\n    setEnv: setEnv\r\n};\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar stack_1 = require(\"../navigator/stack\");\r\nvar loader_1 = require(\"../navigator/loader\");\r\nvar screen_1 = require(\"./screen\");\r\nvar _inited = false;\r\nvar _uiManager;\r\nvar _mainUILayer;\r\nvar _topUILayer;\r\nfunction _checkInit() {\r\n    if (!_inited) {\r\n        _inited = true;\r\n        _uiManager = new Laya.Sprite();\r\n        _uiManager.mouseThrough = true;\r\n        _uiManager.name = '_tape_stage';\r\n        _mainUILayer = new Laya.Sprite();\r\n        _mainUILayer.name = '_tape_main_layer';\r\n        _mainUILayer.mouseThrough = true;\r\n        _topUILayer = new Laya.Sprite();\r\n        _topUILayer.name = '_tape_top_layer';\r\n        _topUILayer.mouseThrough = true;\r\n        _uiManager.addChild(_mainUILayer);\r\n        _uiManager.addChild(_topUILayer);\r\n        Laya.stage.addChild(_uiManager);\r\n        Laya.stage.on(Laya.Event.RESIZE, null, function () {\r\n            _resizeUI();\r\n        });\r\n    }\r\n    _resizeUI();\r\n}\r\nfunction _resizeUI() {\r\n    if (_mainUILayer) {\r\n        _mainUILayer.width = screen_1.default.getDesignWidth();\r\n        _mainUILayer.height = screen_1.default.getDesignHeight();\r\n        _mainUILayer.x = screen_1.default.getOffestX();\r\n        _mainUILayer.y = screen_1.default.getOffestY();\r\n    }\r\n    if (_topUILayer) {\r\n        _topUILayer.width = screen_1.default.getDesignWidth();\r\n        _topUILayer.height = screen_1.default.getDesignHeight();\r\n        _topUILayer.x = screen_1.default.getOffestX();\r\n        _topUILayer.y = screen_1.default.getOffestY();\r\n    }\r\n    _uiManager.scaleX = screen_1.default.getScale();\r\n    _uiManager.scaleY = screen_1.default.getScale();\r\n}\r\nfunction initUI() {\r\n    _checkInit();\r\n}\r\nexports.initUI = initUI;\r\nfunction checkFocus() {\r\n    if (_mainUILayer.numChildren > 0) {\r\n        var last = _mainUILayer.getChildAt(_mainUILayer.numChildren - 1);\r\n        if (last instanceof loader_1.default) {\r\n            stack_1.setFocus(true);\r\n            return;\r\n        }\r\n    }\r\n    stack_1.setFocus(false);\r\n}\r\nfunction moveTopToMainLayer(view) {\r\n    _checkInit();\r\n    if (view && view.parent == _mainUILayer) {\r\n        _mainUILayer.removeChild(view);\r\n        _mainUILayer.addChild(view);\r\n    }\r\n    checkFocus();\r\n}\r\nfunction addViewToMainLayer(view) {\r\n    _checkInit();\r\n    view && _mainUILayer.addChild(view);\r\n    checkFocus();\r\n}\r\nfunction addViewTopLayer(view) {\r\n    _checkInit();\r\n    view && _topUILayer.addChild(view);\r\n    checkFocus();\r\n}\r\nexports.default = {\r\n    checkFocus: checkFocus,\r\n    moveTopToMainLayer: moveTopToMainLayer,\r\n    addViewToMainLayer: addViewToMainLayer,\r\n    addViewTopLayer: addViewTopLayer,\r\n};\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar loader_1 = require(\"./loader\");\r\nvar uimgr_1 = require(\"../manager/uimgr\");\r\nvar _loaders = [];\r\nfunction _all() {\r\n    return _loaders;\r\n}\r\nfunction _length() {\r\n    return _loaders.length;\r\n}\r\nfunction _getStack(index) {\r\n    if (index === void 0) { index = 0; }\r\n    var len = _length();\r\n    return len > index ? _loaders[len - 1 - index] : null;\r\n}\r\nfunction _showStack(index, anim, callback) {\r\n    if (index === void 0) { index = 0; }\r\n    if (anim === void 0) { anim = false; }\r\n    if (callback === void 0) { callback = null; }\r\n    var stack = _getStack(index);\r\n    if (!stack) {\r\n        return;\r\n    }\r\n    stack.show(anim && _length() > 1, callback);\r\n}\r\nfunction _pushStack(stack) {\r\n    _loaders.push(stack);\r\n}\r\nfunction _topStack(stack) {\r\n    var index = _loaders.indexOf(stack);\r\n    if (index >= 0) {\r\n        _loaders.splice(index, 1);\r\n        _loaders.push(stack);\r\n        _refreshStack(null);\r\n        uimgr_1.default.moveTopToMainLayer(stack);\r\n    }\r\n}\r\nfunction _refreshStack(callback) {\r\n    _showStack(0, true, function () {\r\n        var stack = _getStack(1);\r\n        if (!stack) {\r\n            return;\r\n        }\r\n        stack.hide();\r\n        callback && callback();\r\n    });\r\n}\r\nfunction _finishStack(stacks) {\r\n    if (!stacks || stacks.length <= 0) {\r\n        return;\r\n    }\r\n    for (var i = 0; _length() > 1 && i < stacks.length; i++) {\r\n        var stack = stacks[i];\r\n        _loaders.splice(_loaders.indexOf(stack), 1);\r\n        stack.hide(true, function () {\r\n            stack.exit();\r\n        });\r\n    }\r\n    _showStack(0);\r\n}\r\nfunction _popStack(count) {\r\n    if (count >= _length()) {\r\n        count = _length() - 1;\r\n    }\r\n    if (count <= 0) {\r\n        return;\r\n    }\r\n    var pops = _loaders.splice(_length() - count, count);\r\n    pops.forEach(function (stack) {\r\n        stack.hide(true, function () {\r\n            stack.exit();\r\n        });\r\n    });\r\n    _showStack(0);\r\n}\r\nfunction setFocus(focus) {\r\n    var stack = _getStack();\r\n    if (stack) {\r\n        stack.focus(focus);\r\n    }\r\n}\r\nexports.setFocus = setFocus;\r\nfunction navigate(page, params, action, single) {\r\n    if (params === void 0) { params = null; }\r\n    if (action === void 0) { action = null; }\r\n    if (single === void 0) { single = false; }\r\n    if (!params) {\r\n        params = {};\r\n    }\r\n    var open = function () {\r\n        new loader_1.default({\r\n            page: page,\r\n            params: params,\r\n            onShow: function () {\r\n                _refreshStack(function () {\r\n                    action && action(true);\r\n                });\r\n            },\r\n            onLoaded: function (loader) {\r\n                uimgr_1.default.addViewToMainLayer(loader);\r\n                _pushStack(loader);\r\n            },\r\n            onLoadProgress: function (loader, progress) {\r\n                var stack = _getStack();\r\n                stack && stack.nextProgress(progress);\r\n            }\r\n        });\r\n    };\r\n    if (single || page.single) {\r\n        var stacks = [];\r\n        _all().forEach(function (stack) {\r\n            if (stack.filter(page)) {\r\n                stacks.push(stack);\r\n            }\r\n        });\r\n        stacks.length > 0 ? _topStack(stacks.pop()) : open();\r\n    }\r\n    else {\r\n        open();\r\n    }\r\n}\r\nfunction popToTop() {\r\n    _popStack(_length());\r\n}\r\nfunction pop(number) {\r\n    if (number === void 0) { number = 1; }\r\n    _popStack(number);\r\n}\r\nfunction finish(page, instance) {\r\n    if (instance === void 0) { instance = null; }\r\n    var stacks = [];\r\n    _all().forEach(function (stack) {\r\n        if (stack.filter(page, instance)) {\r\n            stacks.push(stack);\r\n        }\r\n    });\r\n    _finishStack(stacks);\r\n}\r\nexports.default = {\r\n    navigate: navigate,\r\n    pop: pop,\r\n    popToTop: popToTop,\r\n    finish: finish,\r\n};\r\n","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar screen_1 = require(\"../manager/screen\");\r\nvar baseview_1 = require(\"./baseview\");\r\nvar Component = /** @class */ (function (_super) {\r\n    __extends(Component, _super);\r\n    function Component(handleOnTouchOutside) {\r\n        if (handleOnTouchOutside === void 0) { handleOnTouchOutside = null; }\r\n        var _this = _super.call(this) || this;\r\n        _this._bgSprite = null;\r\n        _this._bgAlpha = 0.5;\r\n        _this._bgColor = '#000000';\r\n        _this._isTranslucent = true;\r\n        _this._isShow = false;\r\n        _this._handleOnTouchOutside = null;\r\n        _this._canceledOnTouchOutside = false;\r\n        _this._mask = false;\r\n        _this._onEvent = null;\r\n        _this._handleOnTouchOutside = handleOnTouchOutside;\r\n        _this._onEvent = function (e) {\r\n            if (_this.isShow && _this.canceledOnTouchOutside) {\r\n                _this._handleOnTouchOutside && _this._handleOnTouchOutside();\r\n            }\r\n            e.stopPropagation();\r\n        };\r\n        _this.initBg();\r\n        return _this;\r\n    }\r\n    Object.defineProperty(Component.prototype, \"bg\", {\r\n        get: function () {\r\n            return this._bgSprite;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Component.prototype, \"isShow\", {\r\n        get: function () {\r\n            return this._isShow;\r\n        },\r\n        set: function (isShow) {\r\n            this._isShow = isShow;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Component.prototype, \"bgAlpha\", {\r\n        get: function () {\r\n            return this._bgAlpha;\r\n        },\r\n        set: function (bgAlpha) {\r\n            this._bgAlpha = bgAlpha;\r\n            this.refreshBg();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Component.prototype, \"bgColor\", {\r\n        get: function () {\r\n            return this._bgColor;\r\n        },\r\n        set: function (bgColor) {\r\n            this._bgColor = bgColor;\r\n            this.refreshBg();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Component.prototype, \"isTranslucent\", {\r\n        get: function () {\r\n            return this._isTranslucent;\r\n        },\r\n        set: function (isTranslucent) {\r\n            this._isTranslucent = isTranslucent;\r\n            this.refreshBg();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Component.prototype, \"canceledOnTouchOutside\", {\r\n        get: function () {\r\n            return this._canceledOnTouchOutside;\r\n        },\r\n        set: function (canceledOnTouchOutside) {\r\n            this._canceledOnTouchOutside = canceledOnTouchOutside;\r\n            this.refreshCanceledOnTouchOutside();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Component.prototype, \"nonPenetrating\", {\r\n        get: function () {\r\n            return this._mask;\r\n        },\r\n        set: function (nonPenetrating) {\r\n            this._mask = nonPenetrating;\r\n            this.refreshCanceledOnTouchOutside();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Component.prototype.refreshBg = function () {\r\n        if (!this._bgSprite) {\r\n            return;\r\n        }\r\n        this.resizeBg();\r\n        this.refreshCanceledOnTouchOutside();\r\n        this._bgSprite.alpha = this.bgAlpha;\r\n        this._bgSprite.graphics.clear();\r\n        if (!this.isTranslucent) {\r\n            this._bgSprite.graphics.drawRect(0, 0, this._bgSprite.width, this._bgSprite.height, this.bgColor);\r\n        }\r\n    };\r\n    Component.prototype.refreshCanceledOnTouchOutside = function () {\r\n        this._bgSprite && this._bgSprite.offAll();\r\n        if ((this.canceledOnTouchOutside || this.nonPenetrating) && this.ui) {\r\n            this.ui.mouseThrough = true;\r\n            this._bgSprite && this._bgSprite.on(Laya.Event.CLICK, this, this._onEvent);\r\n        }\r\n    };\r\n    Component.prototype.initBg = function () {\r\n        var _this = this;\r\n        if (this._bgSprite) {\r\n            return;\r\n        }\r\n        this._bgSprite = new Laya.Sprite();\r\n        this.addChildAt(this._bgSprite, 0);\r\n        setTimeout(function () { _this.refreshBg(); }, 0);\r\n    };\r\n    Component.prototype.resizeBg = function () {\r\n        if (!this._bgSprite) {\r\n            return;\r\n        }\r\n        this._bgSprite.x = -screen_1.default.getOffestX();\r\n        this._bgSprite.y = -screen_1.default.getOffestY();\r\n        this._bgSprite.width = screen_1.default.getWidth();\r\n        this._bgSprite.height = screen_1.default.getHeight();\r\n    };\r\n    return Component;\r\n}(baseview_1.default));\r\nexports.default = Component;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar _inits = [];\r\nfunction callHookInit(width, height) {\r\n    var options = [];\r\n    for (var _i = 2; _i < arguments.length; _i++) {\r\n        options[_i - 2] = arguments[_i];\r\n    }\r\n    _inits.forEach(function (callback) { return callback.apply(void 0, [width, height].concat(options)); });\r\n}\r\nexports.callHookInit = callHookInit;\r\nfunction onInit(callback) {\r\n    if (callback && typeof callback == \"function\" && _inits.indexOf(callback) < 0) {\r\n        _inits.push(callback);\r\n    }\r\n}\r\nexports.default = {\r\n    onInit: onInit\r\n};\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar screen_1 = require(\"./screen\");\r\nvar _bgSprite = null;\r\nvar _bgImage = null;\r\nvar _bgSkin = null;\r\nvar _bgSizeGrid = null;\r\nvar _inited = false;\r\nfunction _checkInit() {\r\n    if (!_inited) {\r\n        _inited = true;\r\n        _bgSprite = new Laya.Sprite;\r\n        _bgSprite.name = '_tape_bg_layer';\r\n        _bgImage = new Laya.Image;\r\n        _bgImage.name = '_bg_image';\r\n        Laya.stage.addChild(_bgSprite);\r\n        Laya.stage.addChild(_bgImage);\r\n        Laya.stage.on(Laya.Event.RESIZE, null, function () {\r\n            _resizeBg();\r\n        });\r\n    }\r\n    _resizeBg();\r\n}\r\nfunction _drawSkin() {\r\n    if (_bgImage) {\r\n        if (_bgSkin) {\r\n            _bgImage.skin = _bgSkin;\r\n        }\r\n        if (_bgSizeGrid) {\r\n            _bgImage.sizeGrid = _bgSizeGrid;\r\n        }\r\n        else {\r\n            _bgImage.sizeGrid = '';\r\n        }\r\n    }\r\n}\r\nfunction _resizeBg() {\r\n    if (_bgSprite) {\r\n        _bgSprite.width = screen_1.default.getWidth();\r\n        _bgSprite.height = screen_1.default.getHeight();\r\n    }\r\n    if (_bgImage) {\r\n        _bgImage.width = screen_1.default.getWidth();\r\n        _bgImage.height = screen_1.default.getHeight();\r\n    }\r\n}\r\nfunction initBg() {\r\n    _checkInit();\r\n    _drawSkin();\r\n}\r\nexports.initBg = initBg;\r\nfunction setBgColor(color) {\r\n    if (!_bgSprite) {\r\n        return;\r\n    }\r\n    _bgSprite.graphics.clear();\r\n    _bgSprite.graphics.drawRect(0, 0, _bgSprite.width, _bgSprite.height, color);\r\n}\r\nfunction setBgSkin(url, sizeGrid) {\r\n    if (sizeGrid === void 0) { sizeGrid = null; }\r\n    _bgSkin = url;\r\n    _bgSizeGrid = sizeGrid;\r\n    _drawSkin();\r\n}\r\nfunction setBgTexture(url) {\r\n    if (!_bgSprite) {\r\n        return;\r\n    }\r\n    _bgSprite.graphics.clear();\r\n    Laya.loader.load(url, Laya.Handler.create(this, function (texture) {\r\n        try {\r\n            _bgSprite.graphics.fillTexture(texture, 0, 0, _bgSprite.width, _bgSprite.height, 'repeat');\r\n        }\r\n        catch (error) {\r\n        }\r\n    }));\r\n}\r\nfunction getBgSprite() {\r\n    return _bgSprite;\r\n}\r\nexports.default = {\r\n    setBgSkin: setBgSkin,\r\n    setBgColor: setBgColor,\r\n    setBgTexture: setBgTexture,\r\n    getBgSprite: getBgSprite,\r\n};\r\n","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar uimgr_1 = require(\"../manager/uimgr\");\r\nvar env_1 = require(\"../env\");\r\nvar init_1 = require(\"./init\");\r\nvar json_1 = require(\"../../utils/json\");\r\nvar _indexID = 1;\r\nfunction genID(obj) {\r\n    var name = env_1.getClassName(obj) || \"Activity\";\r\n    return name + \"$\" + _indexID++;\r\n}\r\nfunction getRes(unpackFile, res) {\r\n    if (unpackFile) {\r\n        return json_1.loadJson(unpackFile, true).catch(function () {\r\n            return [];\r\n        }).then(function (data) {\r\n            return res.concat(data.map(function (item) {\r\n                return {\r\n                    url: item,\r\n                    tyep: Laya.Loader.IMAGE\r\n                };\r\n            }));\r\n        });\r\n    }\r\n    return Promise.resolve(res);\r\n}\r\nvar default_1 = /** @class */ (function (_super) {\r\n    __extends(default_1, _super);\r\n    function default_1(options) {\r\n        var _this = _super.call(this) || this;\r\n        _this._options = null;\r\n        _this._activity = null;\r\n        _this._isShow = false;\r\n        _this._isFocus = false;\r\n        _this._pageName = \"\";\r\n        _this.visible = false;\r\n        _this._options = options;\r\n        _this._pageName = genID(_this._options.page);\r\n        env_1.default.printDebug(\"init\", _this._getPageName());\r\n        getRes(_this._options.page.unpackFile, _this._options.page.res || []).catch(function () {\r\n            return [];\r\n        }).then(function (res) {\r\n            if (res && res.length > 0) {\r\n                Laya.loader.load(res, Laya.Handler.create(_this, function () {\r\n                    _this._newActivity();\r\n                    setTimeout(function () { _this._onLoaded(); }, 100);\r\n                    env_1.default.printDebug(\"onLoaded\", _this._getPageName());\r\n                }), Laya.Handler.create(_this, function (progress) {\r\n                    env_1.default.printDebug(\"onLoadProgress\", _this._getPageName(), progress);\r\n                    _this._onLoadProgress(progress);\r\n                }, null, false));\r\n            }\r\n            else {\r\n                _this._newActivity();\r\n                _this._onLoaded();\r\n                env_1.default.printDebug(\"onLoaded\", _this._getPageName());\r\n                env_1.default.printDebug(\"onLoadProgress\", _this._getPageName(), 1);\r\n            }\r\n        });\r\n        return _this;\r\n    }\r\n    default_1.prototype._getPageName = function () {\r\n        return this._pageName;\r\n    };\r\n    default_1.prototype._newActivity = function () {\r\n        if (this._activity) {\r\n            return;\r\n        }\r\n        this._activity = new this._options.page({\r\n            page: this._options.page,\r\n            params: this._options.params\r\n        });\r\n        this._activity[\"_ID\"] = this._pageName;\r\n        env_1.default.printDebug(\"newActivity\", this._getPageName());\r\n    };\r\n    default_1.prototype._onLoaded = function () {\r\n        var _this = this;\r\n        init_1.onNavigatorReady().then(function () {\r\n            _this._options.onLoaded && _this._options.onLoaded(_this);\r\n            _this.addChild(_this._activity);\r\n            env_1.default.printDebug(\"onCreate\", _this._getPageName());\r\n            _this._activity.onCreate && _this._activity.onCreate();\r\n            _this._options.onShow && _this._options.onShow();\r\n        });\r\n    };\r\n    default_1.prototype._onLoadProgress = function (progress) {\r\n        this._options.onLoadProgress && this._options.onLoadProgress(this, progress);\r\n    };\r\n    default_1.prototype.nextProgress = function (progress) {\r\n        this._activity.onNextProgress && this._activity.onNextProgress(progress);\r\n    };\r\n    default_1.prototype.filter = function (page, activity) {\r\n        if (page === this._options.page) {\r\n            return !activity || activity === this._activity;\r\n        }\r\n        return false;\r\n    };\r\n    default_1.prototype.show = function (anim, callback) {\r\n        if (this.visible) {\r\n            return;\r\n        }\r\n        if (this._isShow) {\r\n            return;\r\n        }\r\n        this._isShow = true;\r\n        var easeIn = this._activity.easeIn || Laya.Ease.linearIn;\r\n        var duration = this._activity.duration || 0;\r\n        var fromProps = this._activity.fromProps || {};\r\n        var toProps = this._activity.toProps || {};\r\n        if (anim && duration > 0) {\r\n            Object.assign(this, fromProps);\r\n            env_1.default.printDebug(\"onResume\", this._getPageName());\r\n            this._activity.onResume && this._activity.onResume();\r\n            this.visible = true;\r\n            Laya.Tween.to(this, toProps, duration, easeIn, Laya.Handler.create(this, function () {\r\n                callback && callback();\r\n            }));\r\n        }\r\n        else {\r\n            env_1.default.printDebug(\"onResume\", this._getPageName());\r\n            this._activity.onResume && this._activity.onResume();\r\n            this.visible = true;\r\n            callback && callback();\r\n        }\r\n        uimgr_1.default.checkFocus();\r\n    };\r\n    default_1.prototype.hide = function (anim, callback) {\r\n        var _this = this;\r\n        if (!this.visible) {\r\n            return;\r\n        }\r\n        if (!this._isShow) {\r\n            return;\r\n        }\r\n        this._isShow = false;\r\n        var easeOut = this._activity.easeOut || Laya.Ease.linearIn;\r\n        var duration = this._activity.duration || 0;\r\n        var fromProps = this._activity.toProps || {};\r\n        var toProps = this._activity.exitProps || {};\r\n        if (anim && duration > 0) {\r\n            Object.assign(this, fromProps);\r\n            env_1.default.printDebug(\"onPause\", this._getPageName());\r\n            this._activity.onPause && this._activity.onPause();\r\n            Laya.Tween.to(this, toProps, duration, easeOut, Laya.Handler.create(this, function () {\r\n                _this.visible = true;\r\n                callback && callback();\r\n            }));\r\n        }\r\n        else {\r\n            env_1.default.printDebug(\"onPause\", this._getPageName());\r\n            this._activity.onPause && this._activity.onPause();\r\n            this.visible = false;\r\n            callback && callback();\r\n        }\r\n        this.focus(false);\r\n    };\r\n    default_1.prototype.exit = function () {\r\n        env_1.default.printDebug(\"onDestroy\", this._getPageName());\r\n        this._activity.onDestroy && this._activity.onDestroy();\r\n        this.destroy();\r\n    };\r\n    default_1.prototype.focus = function (focus) {\r\n        if (this._isFocus === focus) {\r\n            return;\r\n        }\r\n        this._isFocus = focus;\r\n        env_1.default.printDebug(\"onFocus\", this._getPageName(), focus);\r\n        this._activity.onFocus && this._activity.onFocus(focus);\r\n    };\r\n    return default_1;\r\n}(Laya.Component));\r\nexports.default = default_1;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar stack_1 = require(\"./stack\");\r\nvar _options = null;\r\nvar _inited = false;\r\nvar _isReady = false;\r\nvar _readyResolve = null;\r\nvar _readyPromise = new Promise(function (resolve) {\r\n    _readyResolve = resolve;\r\n});\r\nfunction _enableResourceVersion() {\r\n    if (_options && _options.fileVersion) {\r\n        Laya.ResourceVersion.type = Laya.ResourceVersion.FILENAME_VERSION;\r\n        Laya.ResourceVersion.enable(_options.fileVersion, Laya.Handler.create(null, function () {\r\n            _beginLoadStaticRes();\r\n        }));\r\n    }\r\n    else {\r\n        _beginLoadStaticRes();\r\n    }\r\n}\r\nfunction _beginLoadStaticRes() {\r\n    var res = _options.commonRes || [];\r\n    if (res.length > 0) {\r\n        Laya.loader.load(res, Laya.Handler.create(null, function () {\r\n            _onStaticResLoaded();\r\n            _options.onLoaded && _options.onLoaded();\r\n        }), Laya.Handler.create(this, function (progress) {\r\n            _options.onLoadProgress && _options.onLoadProgress(progress);\r\n        }, null, false));\r\n    }\r\n    else {\r\n        _options.onLoadProgress && _options.onLoadProgress(100);\r\n        _options.onLoaded && _options.onLoaded();\r\n        _onStaticResLoaded();\r\n    }\r\n}\r\nfunction _onStaticResLoaded() {\r\n    _options.mainPage && stack_1.default.navigate(_options.mainPage);\r\n}\r\nfunction initNavigator(options) {\r\n    if (!options || _inited) {\r\n        return;\r\n    }\r\n    _options = options;\r\n    _enableResourceVersion();\r\n    _inited = true;\r\n}\r\nexports.initNavigator = initNavigator;\r\nfunction onNavigatorReady() {\r\n    if (_isReady) {\r\n        return Promise.resolve();\r\n    }\r\n    return _readyPromise;\r\n}\r\nexports.onNavigatorReady = onNavigatorReady;\r\nfunction setNavigatorReady() {\r\n    if (_isReady) {\r\n        return;\r\n    }\r\n    _isReady = true;\r\n    _readyResolve();\r\n    _readyResolve = null;\r\n    _readyPromise = null;\r\n}\r\nexports.setNavigatorReady = setNavigatorReady;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar _temp = {};\r\nvar _reject = {};\r\nvar _listener = false;\r\nfunction _initListener() {\r\n    if (_listener) {\r\n        return;\r\n    }\r\n    _listener = true;\r\n    Laya.loader.on(Laya.Event.ERROR, this, function (url) {\r\n        if (_reject[url]) {\r\n            _reject[url](\"load res error: \" + url);\r\n        }\r\n    });\r\n}\r\nfunction loadJson(url, force) {\r\n    var _this = this;\r\n    if (force === void 0) { force = false; }\r\n    if (!force && _temp[url]) {\r\n        return Promise.resolve(_temp[url]);\r\n    }\r\n    _initListener();\r\n    return new Promise(function (resolve, reject) {\r\n        _reject[url] = reject;\r\n        Laya.loader.load([{ url: url, type: Laya.Loader.JSON }], Laya.Handler.create(_this, function () {\r\n            var val = Laya.loader.getRes(url);\r\n            if (val) {\r\n                _temp[url] = val;\r\n                resolve(val);\r\n            }\r\n            else {\r\n                reject();\r\n            }\r\n            delete _reject[url];\r\n        }));\r\n    });\r\n}\r\nexports.loadJson = loadJson;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nfunction removeItemForWhere(array, where) {\r\n    if (typeof where === 'function') {\r\n        var removeIndexArray_1 = [];\r\n        array.forEach(function (value, index) {\r\n            if (where(value)) {\r\n                removeIndexArray_1.push(index);\r\n            }\r\n        });\r\n        removeIndexArray_1.reverse();\r\n        removeIndexArray_1.forEach(function (index) {\r\n            array.splice(index, 1);\r\n        });\r\n    }\r\n}\r\nvar Looper = /** @class */ (function () {\r\n    function Looper() {\r\n        this._tasks = [];\r\n        this._hasLoop = false;\r\n    }\r\n    Looper.prototype._checkLoop = function () {\r\n        var _this = this;\r\n        if (this._tasks.length > 0) {\r\n            if (!this._hasLoop) {\r\n                Laya.timer.frameLoop(1, this, function () {\r\n                    _this._tasks.forEach(function (task) {\r\n                        var caller = task.caller, callback = task.callback;\r\n                        callback.apply(caller);\r\n                    });\r\n                });\r\n                this._hasLoop = true;\r\n            }\r\n        }\r\n        else {\r\n            if (this._hasLoop) {\r\n                Laya.timer.clearAll(this);\r\n                this._hasLoop = false;\r\n            }\r\n        }\r\n    };\r\n    Looper.prototype.loop = function (caller, callback) {\r\n        var filterTasks = this._tasks.filter(function (task) {\r\n            return task.caller == caller && task.callback == callback;\r\n        });\r\n        if (filterTasks.length == 0) {\r\n            this._tasks.push({\r\n                caller: caller,\r\n                callback: callback,\r\n            });\r\n            this._checkLoop();\r\n        }\r\n    };\r\n    Looper.prototype.clear = function (caller, callback) {\r\n        removeItemForWhere(this._tasks, function (task) {\r\n            return task.caller == caller && (!callback || task.callback == callback);\r\n        });\r\n        this._checkLoop();\r\n    };\r\n    return Looper;\r\n}());\r\nexports.Looper = Looper;\r\nexports.default = new Looper;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nfunction _toNumber_(value) {\r\n    try {\r\n        return JSON.parse(value);\r\n    }\r\n    catch (ex) {\r\n        return parseFloat(value);\r\n    }\r\n}\r\nfunction _toBoolean_(value) {\r\n    return !!value && value != 'false' && value != '0';\r\n}\r\nfunction _toString_(value, def) {\r\n    try {\r\n        var type = typeof value;\r\n        if (type === 'string') {\r\n            return value;\r\n        }\r\n        else if (type === 'boolean') {\r\n            return value ? 'true' : 'false';\r\n        }\r\n        else if (type === 'number') {\r\n            return \"\" + value;\r\n        }\r\n        else if (type === 'object') {\r\n            return JSON.stringify(value);\r\n        }\r\n    }\r\n    catch (ex) {\r\n    }\r\n    return def;\r\n}\r\nfunction _toObject_(value, def) {\r\n    if (typeof value === 'object') {\r\n        return value;\r\n    }\r\n    try {\r\n        return JSON.parse(value);\r\n    }\r\n    catch (ex) {\r\n    }\r\n    return def;\r\n}\r\nfunction _inferType(value) {\r\n    if (typeof value !== 'string') {\r\n        return typeof value;\r\n    }\r\n    try {\r\n        var parsed = JSON.parse(value);\r\n        return typeof parsed;\r\n    }\r\n    catch (ex) {\r\n        // might be a pure number\r\n        var number = parseFloat(value);\r\n        if (!isNaN(number) && \"\" + number === value) {\r\n            return 'number';\r\n        }\r\n        return 'string';\r\n    }\r\n}\r\nfunction toAny(value, def) {\r\n    if (value === undefined || value === null) {\r\n        return def;\r\n    }\r\n    // try to infer type and return\r\n    var type = _inferType(value);\r\n    if (def !== undefined && def !== null) {\r\n        type = typeof def;\r\n    }\r\n    switch (type) {\r\n        case 'number':\r\n            return _toNumber_(value);\r\n        case 'boolean':\r\n            return _toBoolean_(value);\r\n        case 'object':\r\n            return _toObject_(value, def);\r\n        case 'string':\r\n            return _toString_(value, def);\r\n        default:\r\n            break;\r\n    }\r\n    return def;\r\n}\r\nexports.toAny = toAny;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar env_1 = require(\"../env\");\r\nvar uimgr_1 = require(\"../manager/uimgr\");\r\nvar _popups = {};\r\nvar _fromProps = { alpha: 0 };\r\nvar _toProps = { alpha: 1 };\r\nvar _exitProps = { alpha: 0 };\r\nfunction _showPopupAnim(popupView, cb) {\r\n    // ui anim\r\n    var uiDuration = popupView.uiDuration || 300;\r\n    var uiFromProps = popupView.uiFromProps || {};\r\n    var uiToProps = popupView.uiToProps || {};\r\n    var uiEaseIn = popupView.uiEaseIn || Laya.Ease.linearIn;\r\n    Object.assign(popupView.ui, uiFromProps);\r\n    Laya.Tween.to(popupView.ui, uiToProps, uiDuration, uiEaseIn);\r\n    // view anim\r\n    var duration = popupView.duration || 300;\r\n    var from = popupView.fromProps || _fromProps || {};\r\n    var to = popupView.toProps || _toProps || {};\r\n    var easeIn = popupView.easeIn || Laya.Ease.linearIn;\r\n    Object.assign(popupView, from);\r\n    Laya.Tween.to(popupView, to, duration, easeIn, Laya.Handler.create(this, function () {\r\n        cb && cb(popupView);\r\n    }));\r\n}\r\nfunction _hidePopupAnim(popupView, cb) {\r\n    // ui anim\r\n    var uiDuration = popupView.uiDuration || 300;\r\n    var uiToProps = popupView.uiToProps || {};\r\n    var uiExitProps = popupView.uiExitProps || {};\r\n    var uiEaseOut = popupView.uiEaseOut || Laya.Ease.linearOut;\r\n    Object.assign(popupView.ui, uiToProps);\r\n    Laya.Tween.to(popupView.ui, uiExitProps, uiDuration, uiEaseOut);\r\n    // view anim\r\n    var duration = popupView.duration || 300;\r\n    var toProps = popupView.toProps || _toProps || {};\r\n    var exitProps = popupView.exitProps || _exitProps || {};\r\n    var easeOut = popupView.easeOut || Laya.Ease.linearOut;\r\n    Object.assign(popupView, toProps);\r\n    Laya.Tween.to(popupView, exitProps, duration, easeOut, Laya.Handler.create(this, function () {\r\n        cb && cb(popupView);\r\n    }), Math.max(0, uiDuration - duration));\r\n}\r\nfunction _hidePopup(view, result) {\r\n    _hidePopupAnim(view, function () {\r\n        view._onHide && view._onHide(view.popup, result);\r\n        view.isShow = false;\r\n        view.onHide && view.onHide(view.popup, result);\r\n        view.removeSelf && view.removeSelf();\r\n        view.destroy && view.destroy();\r\n        uimgr_1.default.checkFocus();\r\n    });\r\n}\r\nfunction _showPopup(view) {\r\n    _showPopupAnim(view, function () {\r\n        view.isShow = true;\r\n    });\r\n}\r\nfunction showPopup(popup, params, onHide, alias) {\r\n    if (params === void 0) { params = null; }\r\n    if (onHide === void 0) { onHide = null; }\r\n    if (alias === void 0) { alias = \"default\"; }\r\n    var mapKey = alias + \"_\" + env_1.getClassName(popup);\r\n    var views = _popups[mapKey];\r\n    var view = new popup();\r\n    view.alias = alias;\r\n    view.popup = popup;\r\n    view.params = params || {};\r\n    view._onHide = onHide;\r\n    if (views) {\r\n        views.push(view);\r\n    }\r\n    else {\r\n        _popups[mapKey] = [view];\r\n    }\r\n    if (view.topLevel) {\r\n        uimgr_1.default.addViewTopLayer(view);\r\n    }\r\n    else {\r\n        uimgr_1.default.addViewToMainLayer(view);\r\n    }\r\n    view.onShow && view.onShow();\r\n    _showPopup(view);\r\n}\r\nfunction hidePopup(popup, view, result, alias) {\r\n    if (view === void 0) { view = null; }\r\n    if (result === void 0) { result = {}; }\r\n    if (alias === void 0) { alias = \"default\"; }\r\n    var mapKey = alias + \"_\" + env_1.getClassName(popup);\r\n    var views = _popups[mapKey];\r\n    if (view) {\r\n        var index = views ? views.indexOf(view) : -1;\r\n        if (index < 0) {\r\n            return;\r\n        }\r\n        views.splice(index, 1);\r\n        _hidePopup(view, result);\r\n    }\r\n    else {\r\n        views && views.splice(0, views.length).forEach(function (v) {\r\n            _hidePopup(v, result || { close: true });\r\n        });\r\n    }\r\n}\r\nexports.default = {\r\n    showPopup: showPopup,\r\n    hidePopup: hidePopup\r\n};\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar uimgr_1 = require(\"../manager/uimgr\");\r\nvar _toasts = {};\r\nfunction _pushToast(toast, view) {\r\n    if (_toasts[toast]) {\r\n        _toasts[toast].push(view);\r\n    }\r\n    else {\r\n        _toasts[toast] = [view];\r\n    }\r\n}\r\nfunction _popToast(toast, view) {\r\n    if (!_toasts[toast]) {\r\n        return [];\r\n    }\r\n    if (view && _toasts[toast].length > 1) {\r\n        _toasts[toast].splice(_toasts[toast].indexOf(view), 1);\r\n        return [view];\r\n    }\r\n    else {\r\n        var views = _toasts[toast] || [];\r\n        delete _toasts[toast];\r\n        return views;\r\n    }\r\n}\r\nfunction showToast(toast, params, onHide) {\r\n    if (params === void 0) { params = null; }\r\n    if (onHide === void 0) { onHide = null; }\r\n    var view = new toast;\r\n    view._on_hide = onHide;\r\n    view.toast = toast;\r\n    view.params = params || {};\r\n    view.onShow && view.onShow();\r\n    var from = view.fromProps || { alpha: 0 };\r\n    var to = view.toProps || { alpha: 1 };\r\n    var exit = view.exitProps || { alpha: 0 };\r\n    var easeIn = view.easeIn || Laya.Ease.linearIn;\r\n    var easeOut = view.easeOut || Laya.Ease.linearOut;\r\n    var duration = view.duration;\r\n    var displayDuration = view.displayDuration;\r\n    Object.assign(view, from);\r\n    Laya.Tween.to(view, to, duration, easeIn, Laya.Handler.create(this, function () {\r\n        view.isShow = true;\r\n    }), 0);\r\n    if (displayDuration != -1) {\r\n        Laya.Tween.to(view, exit, duration, easeOut, Laya.Handler.create(this, function () {\r\n            if (view) {\r\n                _popToast(toast, view);\r\n                view._on_hide && view._on_hide(view.toast);\r\n                view.isShow = false;\r\n                view.onHide && view.onHide();\r\n                view.destroy();\r\n            }\r\n        }), displayDuration + duration);\r\n    }\r\n    _pushToast(toast, view);\r\n    if (view.topLevel) {\r\n        uimgr_1.default.addViewTopLayer(view);\r\n    }\r\n    else {\r\n        uimgr_1.default.addViewToMainLayer(view);\r\n    }\r\n}\r\nfunction hideToast(toast, view) {\r\n    if (view === void 0) { view = null; }\r\n    var list = _popToast(toast, view);\r\n    list.forEach(function (view) {\r\n        view._on_hide && view._on_hide(view.toast);\r\n        view.isShow = false;\r\n        view.onHide && view.onHide();\r\n        view.destroy();\r\n    });\r\n}\r\nexports.default = {\r\n    showToast: showToast,\r\n    hideToast: hideToast,\r\n};\r\n","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar BaseView = /** @class */ (function (_super) {\r\n    __extends(BaseView, _super);\r\n    function BaseView() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    Object.defineProperty(BaseView.prototype, \"ui\", {\r\n        get: function () {\r\n            return this.getChildByName('_contentView');\r\n        },\r\n        set: function (view) {\r\n            this.removeChildByName('_contentView');\r\n            view.name = '_contentView';\r\n            view.mouseThrough = true;\r\n            this.addChild(view);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return BaseView;\r\n}(Laya.Component));\r\nexports.default = BaseView;\r\n","\"use strict\";\r\nrequire(\"./adapter\");\r\nrequire(\"./polyfill\");\r\nvar bg_1 = require(\"./services/manager/bg\");\r\nvar eft_1 = require(\"./services/manager/eft\");\r\nvar screen_1 = require(\"./services/manager/screen\");\r\nvar speaker_1 = require(\"./services/speaker\");\r\nvar audio_1 = require(\"./services/audio\");\r\nvar env_1 = require(\"./services/env\");\r\nvar js_1 = require(\"./services/js\");\r\nvar event_1 = require(\"./services/event\");\r\nvar runtime_1 = require(\"./services/runtime\");\r\nvar message_1 = require(\"./services/message\");\r\nvar utils_1 = require(\"./services/utils\");\r\nvar stack_1 = require(\"./services/navigator/stack\");\r\nvar popupmanager_1 = require(\"./services/display/popupmanager\");\r\nvar toastmanager_1 = require(\"./services/display/toastmanager\");\r\nvar activity_1 = require(\"./services/display/activity\");\r\nvar popupview_1 = require(\"./services/display/popupview\");\r\nvar toastview_1 = require(\"./services/display/toastview\");\r\nvar baseview_1 = require(\"./services/display/baseview\");\r\nvar query_1 = require(\"./utils/query\");\r\nvar init_1 = require(\"./services/init\");\r\nvar OHOGame = Object.assign({}, {\r\n    init: init_1.init,\r\n    init3D: init_1.init3D,\r\n    start: init_1.start,\r\n    getQueryString: query_1.getQueryString,\r\n    env: env_1.default,\r\n    js: js_1.default,\r\n    bg: bg_1.default,\r\n    eft: eft_1.default,\r\n    screen: screen_1.default,\r\n    speaker: speaker_1.default,\r\n    audio: audio_1.default,\r\n    event: event_1.default,\r\n    runtime: runtime_1.default,\r\n    navigator: stack_1.default,\r\n    utils: utils_1.default,\r\n    popup: popupmanager_1.default,\r\n    toast: toastmanager_1.default,\r\n    message: message_1.default,\r\n    Activity: activity_1.default,\r\n    PopupView: popupview_1.default,\r\n    ToastView: toastview_1.default,\r\n    BaseView: baseview_1.default\r\n});\r\nif (typeof window !== \"undefined\") {\r\n    window.OHOGame = OHOGame;\r\n}\r\nmodule.exports = {\r\n    OHOGame: OHOGame\r\n};\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nrequire(\"./_transsion\");\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar hook_1 = require(\"../services/hook\");\r\n// loader\r\nif (Laya && Laya.Loader) {\r\n    var Handler = Laya.Handler;\r\n    var Loader = Laya.Loader;\r\n    var HttpRequest = Laya.HttpRequest;\r\n    var __proto = Loader.prototype;\r\n    __proto.load = function (url, type, cache, group, ignoreCache) {\r\n        (cache === void 0) && (cache = true);\r\n        (ignoreCache === void 0) && (ignoreCache = false);\r\n        this._url = url;\r\n        if (url.indexOf(\"data:image\") === 0)\r\n            this._type = type = \"image\";\r\n        else {\r\n            this._type = type || (type = this.getTypeFromUrl(url));\r\n            url = Laya.URL.formatURL(url);\r\n        }\r\n        this._cache = cache;\r\n        this._data = null;\r\n        if (!ignoreCache && Loader.loadedMap[url]) {\r\n            this._data = Loader.loadedMap[url];\r\n            this.event(/*laya.events.Event.PROGRESS*/ \"progress\", 1);\r\n            this.event(/*laya.events.Event.COMPLETE*/ \"complete\", this._data);\r\n            return;\r\n        }\r\n        if (group)\r\n            Loader.setGroup(url, group);\r\n        if (Loader.parserMap[type] != null) {\r\n            this._customParse = true;\r\n            if (((Loader.parserMap[type]) instanceof Handler))\r\n                Loader.parserMap[type].runWith(this);\r\n            else\r\n                Loader.parserMap[type].call(null, this);\r\n            return;\r\n        }\r\n        if (type === \"image\" || type === \"htmlimage\" || type === \"nativeimage\")\r\n            return this._loadImage(url);\r\n        if (type === \"sound\")\r\n            return this._loadSound(url);\r\n        if (type === \"ttf\")\r\n            return this._loadTTF(url);\r\n        try {\r\n            // \r\n            if (typeof loadRuntime !== 'undefined' && !url.startsWith(\"http\")) {\r\n                var that = this;\r\n                setTimeout(function () {\r\n                    if (url.startsWith('file://')) {\r\n                        url = url.substr('file://'.length);\r\n                    }\r\n                    var response;\r\n                    if (type == 'pkm' || type === \"arraybuffer\") {\r\n                        response = rt.getFileSystemManager().readFileSync(url);\r\n                    }\r\n                    else {\r\n                        response = rt.getFileSystemManager().readFileSync(url, \"utf8\");\r\n                        if ((type == 'atlas' || type == 'json') && typeof response !== \"undefined\") {\r\n                            response = JSON.parse(response);\r\n                        }\r\n                    }\r\n                    that.onLoaded(response);\r\n                }, 0);\r\n                return; // return\r\n            }\r\n        }\r\n        catch (error) {\r\n        }\r\n        //  laya \r\n        var contentType;\r\n        switch (type) {\r\n            case \"atlas\":\r\n            case \"plf\":\r\n                contentType = \"json\";\r\n                break;\r\n            case \"font\":\r\n                contentType = \"xml\";\r\n                break;\r\n            case \"pkm\":\r\n                contentType = \"arraybuffer\";\r\n                break;\r\n            default:\r\n                contentType = type;\r\n        }\r\n        if (Loader.preLoadedMap[url]) {\r\n            this.onLoaded(Loader.preLoadedMap[url]);\r\n        }\r\n        else {\r\n            if (!this._http) {\r\n                this._http = new HttpRequest();\r\n                this._http.on(/*laya.events.Event.PROGRESS*/ \"progress\", this, this.onProgress);\r\n                this._http.on(/*laya.events.Event.ERROR*/ \"error\", this, this.onError);\r\n                this._http.on(/*laya.events.Event.COMPLETE*/ \"complete\", this, this.onLoaded);\r\n            }\r\n            this._http.send(url, null, \"get\", contentType);\r\n        }\r\n    };\r\n}\r\n// ui\r\nhook_1.default.onInit(function (width, height) {\r\n    if (typeof window !== \"undefined\" && typeof window['getAdapterInfo'] !== \"undefined\") {\r\n        var stage = Laya.stage;\r\n        var info = window['getAdapterInfo']({ width: width, height: height, scaleMode: Laya.stage.scaleMode });\r\n        stage.width = info.rw;\r\n        stage.height = info.rh;\r\n    }\r\n});\r\n","if (typeof Object.assign != 'function') {\r\n    // Must be writable: true, enumerable: false, configurable: true\r\n    Object.defineProperty(Object, \"assign\", {\r\n        value: function assign(target, varArgs) {\r\n            'use strict';\r\n            if (target == null) { // TypeError if undefined or null\r\n                throw new TypeError('Cannot convert undefined or null to object');\r\n            }\r\n            var to = Object(target);\r\n            for (var index = 1; index < arguments.length; index++) {\r\n                var nextSource = arguments[index];\r\n                if (nextSource != null) { // Skip over if undefined or null\r\n                    for (var nextKey in nextSource) {\r\n                        // Avoid bugs when hasOwnProperty is shadowed\r\n                        if (Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {\r\n                            to[nextKey] = nextSource[nextKey];\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            return to;\r\n        },\r\n        writable: true,\r\n        configurable: true\r\n    });\r\n}\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar _dic = new Laya.Dictionary();\r\nvar _mcpool = new Laya.Dictionary();\r\nvar _inst = {};\r\nfunction onLoadComplet(path, mc, play, loop, loadComplet, thisRef) {\r\n    var arr = _dic[path].arr;\r\n    for (var i = 0; i < arr.length; i++) {\r\n        arr[i][0][\"_url\"] = path;\r\n        arr[i][0][\"_atlasPath\"] = path.split(\".swf\")[0] + \".json\";\r\n        arr[i][0][\"_onLoaded\"]();\r\n        if (arr[i][1])\r\n            arr[i][0].play(0, arr[i][2]);\r\n        else\r\n            arr[i][0].stop();\r\n        if (arr[i][3]) {\r\n            arr[i][3].apply(arr[i][4], [arr[i][0]]);\r\n        }\r\n    }\r\n    if (play) {\r\n        mc.play(0, loop);\r\n    }\r\n    else {\r\n        mc.stop();\r\n    }\r\n    if (loadComplet) {\r\n        loadComplet.apply(thisRef, [mc]);\r\n    }\r\n    _dic[path].arr = [];\r\n    mc.off(Laya.Event.LOADED, _inst, onLoadComplet);\r\n    _dic[path].load = true;\r\n}\r\nfunction remove(mc) {\r\n    if (!mc) {\r\n        return;\r\n    }\r\n    mc.scaleX = mc.scaleY = 1;\r\n    mc.pivotX = mc.pivotY = 0;\r\n    mc[\"anchorX\"] = mc[\"anchorY\"] = 0;\r\n    mc.alpha = 1;\r\n    Laya.Tween.clearAll(mc);\r\n    mc.stop();\r\n    if (mc.parent)\r\n        mc.parent.removeChild(mc);\r\n    _mcpool[mc[\"path\"]].push(mc);\r\n}\r\nfunction create(path, play, loop, loadComplet, thisRef) {\r\n    if (play === void 0) { play = true; }\r\n    if (loop === void 0) { loop = true; }\r\n    if (loadComplet === void 0) { loadComplet = null; }\r\n    if (thisRef === void 0) { thisRef = null; }\r\n    var mc;\r\n    if (!_mcpool[path])\r\n        _mcpool[path] = [];\r\n    if (_mcpool[path].length > 0) {\r\n        mc = _mcpool[path].shift();\r\n    }\r\n    else {\r\n        mc = new Laya.MovieClip();\r\n    }\r\n    mc[\"path\"] = path;\r\n    if (_dic[path]) {\r\n        if (_dic[path].load) {\r\n            mc[\"_url\"] = path;\r\n            mc[\"_atlasPath\"] = path.split(\".swf\")[0] + \".json\";\r\n            mc[\"_onLoaded\"]();\r\n            if (play)\r\n                mc.play(0, loop);\r\n            else\r\n                mc.stop();\r\n            if (loadComplet)\r\n                loadComplet.apply(thisRef, [mc]);\r\n        }\r\n        else {\r\n            _dic[path].arr.push([mc, play, loop, loadComplet, thisRef]);\r\n        }\r\n    }\r\n    else {\r\n        _dic[path] = { load: false, arr: [] };\r\n        mc.on(Laya.Event.LOADED, _inst, onLoadComplet, [path, mc, play, loop, loadComplet, thisRef]);\r\n        mc.load(path, true);\r\n    }\r\n    return mc;\r\n}\r\nexports.default = {\r\n    create: create,\r\n    remove: remove\r\n};\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar looper_1 = require(\"../../utils/looper\");\r\nvar _chancel_1 = require(\"./_chancel\");\r\nvar vowelsByFormantJP = [\"i\", \"u\", \"e\", \"o\", \"a\"];\r\nvar vowelFormantFloorJP = [0, 500, 600, 900, 1200];\r\nvar vowelsByFormantCN = [\"i\", \"v\", \"u\", \"e\", \"o\", \"a\"];\r\nvar vowelFormantFloorCN = [0, 200, 500, 600, 900, 1200];\r\nfunction getVowelByFormant(formantValue, language) {\r\n    var result = \"-\";\r\n    var currentVowels = vowelsByFormantCN;\r\n    var currentVowelFormantCeilValues = vowelFormantFloorCN;\r\n    if (language == 'jp' || language == 'japanese') {\r\n        currentVowels = vowelsByFormantJP;\r\n        currentVowelFormantCeilValues = vowelFormantFloorJP;\r\n    }\r\n    for (var m = 0; m < currentVowelFormantCeilValues.length; m++) {\r\n        if (formantValue > currentVowelFormantCeilValues[m]) {\r\n            result = currentVowels[m];\r\n        }\r\n    }\r\n    return result;\r\n}\r\nfunction fixWechatAudioPlay(callback) {\r\n    if (window && window['WeixinJSBridge']) {\r\n        try {\r\n            window['WeixinJSBridge'].invoke(\"getNetworkType\", {}, function () {\r\n                callback && callback();\r\n            });\r\n        }\r\n        catch (e) {\r\n            callback && callback();\r\n        }\r\n    }\r\n    else {\r\n        callback && callback();\r\n    }\r\n}\r\nvar SpeakerController = /** @class */ (function () {\r\n    function SpeakerController() {\r\n        this._onPlay = null;\r\n        this._onStop = null;\r\n        this._onError = null;\r\n        this._onProgress = null;\r\n        this._onComplete = null;\r\n        this._playTime = 0;\r\n        this._auidoUrl = null;\r\n        this._position = -1;\r\n        this._duration = -1;\r\n        this._formant = null;\r\n        this._speaking = false;\r\n        this._language = \"chinese\";\r\n        this._chancel = null;\r\n    }\r\n    SpeakerController.prototype._update = function () {\r\n        if (this._chancel) {\r\n            this._formant = this._chancel.formant;\r\n            this._position = this._chancel.position;\r\n            this._duration = this._chancel.duration;\r\n            if (!this._speaking && this._position > 0) {\r\n                this._speaking = true;\r\n                this._onPlay && this._onPlay();\r\n            }\r\n            if (this._speaking && this._duration > 0) {\r\n                if (this._position > this._duration) {\r\n                    this._onComplete && this._onComplete();\r\n                    this.stop();\r\n                }\r\n                else {\r\n                    this._onProgress && this._onProgress({\r\n                        position: this._position,\r\n                        duration: this._duration,\r\n                    });\r\n                }\r\n            }\r\n            else if (Date.now() - this._playTime > 2000) {\r\n                this._onError && this._onError();\r\n                this.stop();\r\n            }\r\n        }\r\n    };\r\n    Object.defineProperty(SpeakerController.prototype, \"url\", {\r\n        get: function () {\r\n            return this._auidoUrl;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(SpeakerController.prototype, \"position\", {\r\n        get: function () {\r\n            return this._position;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(SpeakerController.prototype, \"duration\", {\r\n        get: function () {\r\n            return this._duration;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    SpeakerController.prototype.onPlay = function (callback) {\r\n        this._onPlay = callback;\r\n    };\r\n    SpeakerController.prototype.onStop = function (callback) {\r\n        this._onStop = callback;\r\n    };\r\n    SpeakerController.prototype.onProgress = function (callback) {\r\n        this._onProgress = callback;\r\n    };\r\n    SpeakerController.prototype.onComplete = function (callback) {\r\n        this._onComplete = callback;\r\n    };\r\n    SpeakerController.prototype.onError = function (callback) {\r\n        this._onError = callback;\r\n    };\r\n    SpeakerController.prototype.getFormant = function () {\r\n        return this._formant;\r\n    };\r\n    SpeakerController.prototype.getVowel = function () {\r\n        return getVowelByFormant(this._formant, this._language);\r\n    };\r\n    SpeakerController.prototype.isSpeaking = function () {\r\n        return this._speaking;\r\n    };\r\n    SpeakerController.prototype.speak = function (url, language) {\r\n        var _this = this;\r\n        if (language === void 0) { language = 'chinese'; }\r\n        this._auidoUrl = url;\r\n        this._language = language;\r\n        fixWechatAudioPlay(function () {\r\n            if (_this._auidoUrl) {\r\n                _this.stop();\r\n                _this._playTime = Date.now();\r\n                _this._chancel = _chancel_1.default.playSpeak(_this._auidoUrl, _this._onError);\r\n                looper_1.default.loop(_this, _this._update);\r\n            }\r\n        });\r\n    };\r\n    SpeakerController.prototype.stop = function () {\r\n        if (!this._chancel) {\r\n            return;\r\n        }\r\n        if (!this._speaking) {\r\n            return;\r\n        }\r\n        this._onStop && this._onStop();\r\n        this._chancel.stop();\r\n        this._chancel = null;\r\n        this._speaking = false;\r\n        looper_1.default.clear(this, this._update);\r\n    };\r\n    return SpeakerController;\r\n}());\r\nfunction create() {\r\n    return new SpeakerController;\r\n}\r\nexports.default = {\r\n    create: create\r\n};\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar _peaks_1 = require(\"./_peaks\");\r\nvar _loadres_1 = require(\"./_loadres\");\r\nvar FixAudioContext = AudioContext || webkitAudioContext\r\n    || mozAudioContext || msAudioContext;\r\nvar _CHANCELS = [];\r\nvar SpeakerChancel = /** @class */ (function () {\r\n    function SpeakerChancel(url, onError) {\r\n        this._audioUrl = url;\r\n        this._onErrorCallback = onError;\r\n        this.amplitudeThreshold = 0.02;\r\n        this.audioCtx = new FixAudioContext({ sampleRate: 44100 });\r\n        this.sourceNode = this.audioCtx.createBufferSource();\r\n        this.analyserNode = this.audioCtx.createAnalyser();\r\n        this.analyserNode.fftSize = 2048;\r\n        this.windowSize = this.analyserNode.frequencyBinCount;\r\n        this.gaussianFilters = _peaks_1.default.generateGaussianFilter(7, 5);\r\n        this.sourceNode.disconnect();\r\n        this.sourceNode.connect(this.analyserNode);\r\n    }\r\n    Object.defineProperty(SpeakerChancel.prototype, \"url\", {\r\n        get: function () {\r\n            return this._audioUrl;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(SpeakerChancel.prototype, \"position\", {\r\n        get: function () {\r\n            return this.audioCtx && this.audioCtx.currentTime || 0;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(SpeakerChancel.prototype, \"duration\", {\r\n        get: function () {\r\n            return this.sourceNode\r\n                && this.sourceNode.buffer\r\n                && this.sourceNode.buffer.duration || 0;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(SpeakerChancel.prototype, \"formant\", {\r\n        get: function () {\r\n            var currentAudioData = new Uint8Array(this.windowSize);\r\n            this.analyserNode.getByteFrequencyData(currentAudioData);\r\n            var currentAudioSpectrum = _peaks_1.default.discreteCosineTransform(currentAudioData);\r\n            var amplitudeSum = 0.0;\r\n            for (var k = 0; k < currentAudioSpectrum.length; k++) {\r\n                amplitudeSum += currentAudioSpectrum[k];\r\n            }\r\n            if (amplitudeSum >= this.amplitudeThreshold) {\r\n                var formantArray = [];\r\n                var smoothedAudioSpectrum = _peaks_1.default.convoluteDataAndFilter(currentAudioSpectrum, this.gaussianFilters, \"Repet\");\r\n                var _a = _peaks_1.default.findLocalLargestPeaks(smoothedAudioSpectrum, 3), peakValues = _a.peakValues, peakPositions = _a.peakPositions;\r\n                var frequencyUnit = this.audioCtx.sampleRate / this.windowSize;\r\n                for (var i = 0; i < peakPositions.length; i++) {\r\n                    formantArray[i] = peakPositions[i] * (peakValues[i] / frequencyUnit);\r\n                }\r\n                var formantAverage_1 = 0;\r\n                formantArray.forEach(function (formantVal) {\r\n                    formantAverage_1 += formantVal;\r\n                });\r\n                return formantAverage_1 / formantArray.length;\r\n            }\r\n            return 0;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    SpeakerChancel.prototype.play = function () {\r\n        var _this = this;\r\n        _loadres_1.default.loadRes(this._audioUrl, function (audioData) {\r\n            _this.audioCtx.decodeAudioData(audioData, function (buffer) {\r\n                _this.sourceNode.buffer = buffer;\r\n                _this.sourceNode.connect(_this.analyserNode);\r\n                _this.sourceNode.connect(_this.audioCtx.destination);\r\n                _this.sourceNode.start();\r\n            }, function (e) {\r\n                var errorMsg = \"error decoding audio data: \" + _this._audioUrl;\r\n                _this._onErrorCallback && _this._onErrorCallback(errorMsg, e);\r\n            });\r\n        }, function () {\r\n            var errorMsg = \"load audio failure: \" + _this._audioUrl;\r\n            _this._onErrorCallback && _this._onErrorCallback(errorMsg);\r\n        });\r\n    };\r\n    SpeakerChancel.prototype.stop = function () {\r\n        var indexOf = _CHANCELS.indexOf(this);\r\n        if (indexOf >= 0) {\r\n            _CHANCELS.splice(indexOf, 1);\r\n        }\r\n        try {\r\n            if (this.sourceNode) {\r\n                this.sourceNode.stop();\r\n            }\r\n        }\r\n        catch (error) {\r\n        }\r\n    };\r\n    return SpeakerChancel;\r\n}());\r\nexports.SpeakerChancel = SpeakerChancel;\r\nfunction playSpeak(url, onError) {\r\n    var cancel = new SpeakerChancel(url, onError);\r\n    cancel.play();\r\n    _CHANCELS.push(cancel);\r\n    return cancel;\r\n}\r\nexports.default = {\r\n    playSpeak: playSpeak\r\n};\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nfunction getValueFromArray(data, index, paddleType) {\r\n    if (index >= 0 && index < data.length) {\r\n        return data[index];\r\n    }\r\n    else {\r\n        switch (paddleType) {\r\n            case \"Zero\":\r\n                return 0;\r\n            case \"Repeat\":\r\n                return index < 0 ? data[0] : data[data.length - 1];\r\n            case \"Loop\":\r\n                var actualIndex = index;\r\n                while (actualIndex < 0) {\r\n                    actualIndex += data.length;\r\n                }\r\n                actualIndex %= data.length;\r\n                return data[actualIndex];\r\n            default:\r\n                return 0;\r\n        }\r\n    }\r\n}\r\nfunction generateGaussianFilter(size, deviationSquare) {\r\n    var result = [];\r\n    var sum = 0;\r\n    var mu = (size - 1) / 2;\r\n    for (var i = 0; i < size; i++) {\r\n        var param = -((i - mu) * (i - mu)) / (2 * deviationSquare);\r\n        result[i] = Math.exp(param);\r\n        sum += result[i];\r\n    }\r\n    for (var j = 0; j < size; j++) {\r\n        result[j] /= sum;\r\n    }\r\n    return result;\r\n}\r\nfunction discreteCosineTransform(data) {\r\n    var result = [];\r\n    var sumCos = 0;\r\n    data.forEach(function (_, i) {\r\n        sumCos = 0;\r\n        data.forEach(function (d2, j) {\r\n            sumCos += d2 * Math.cos((Math.PI / data.length) * i * (j + 0.5));\r\n        });\r\n        result[i] = Math.abs(sumCos);\r\n    });\r\n    return result;\r\n}\r\n/**\r\n * Convolute data and filter. Result is sent to output, which must not be shorter than data.\r\n */\r\nfunction convoluteDataAndFilter(data, filter, paddleType) {\r\n    if (paddleType === void 0) { paddleType = \"Repeat\"; }\r\n    var output = [];\r\n    var filterMiddlePoint = Math.floor(filter.length / 2);\r\n    for (var n = 0; n < data.length; n++) {\r\n        output[n] = 0.0;\r\n        for (var m = 0; m < filter.length; m++) {\r\n            output[n] += getValueFromArray(data, n - filterMiddlePoint + m, paddleType) * filter[filter.length - m - 1];\r\n        }\r\n    }\r\n    return output;\r\n}\r\nfunction findLocalLargestPeaks(data, length) {\r\n    var peakNum = 0;\r\n    var lastPeak = 0;\r\n    var lastPeakPositions = 0;\r\n    var isIncreasing = false;\r\n    var isPeakIncreasing = false;\r\n    var peakValues = [];\r\n    var peakPositions = [];\r\n    for (var i = 0; i < data.length - 1; i++) {\r\n        if (data[i] < data[i + 1]) {\r\n            isIncreasing = true;\r\n        }\r\n        else {\r\n            if (isIncreasing == true) {\r\n                // Peak found.\r\n                if (lastPeak < data[i]) {\r\n                    isPeakIncreasing = true;\r\n                }\r\n                else {\r\n                    if (isPeakIncreasing == true) {\r\n                        // Local largest peak found.\r\n                        peakValues[peakNum] = lastPeak;\r\n                        peakPositions[peakNum] = lastPeakPositions;\r\n                        ++peakNum;\r\n                    }\r\n                    isPeakIncreasing = false;\r\n                }\r\n                lastPeak = data[i];\r\n                lastPeakPositions = i;\r\n            }\r\n            isIncreasing = false;\r\n        }\r\n        if (peakNum >= length) {\r\n            break;\r\n        }\r\n    }\r\n    return { peakValues: peakValues, peakPositions: peakPositions };\r\n}\r\nexports.default = {\r\n    generateGaussianFilter: generateGaussianFilter,\r\n    discreteCosineTransform: discreteCosineTransform,\r\n    convoluteDataAndFilter: convoluteDataAndFilter,\r\n    findLocalLargestPeaks: findLocalLargestPeaks\r\n};\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nfunction loadRes(url, callback, failure) {\r\n    var request = new XMLHttpRequest();\r\n    request.responseType = \"arraybuffer\";\r\n    request.open('GET', url, true);\r\n    request.onload = function () {\r\n        callback && callback(request.response);\r\n    };\r\n    request.onreadystatechange = function () {\r\n        if (request.readyState === 4) {\r\n            if (request.status !== 200) {\r\n                failure && failure();\r\n            }\r\n        }\r\n    };\r\n    request.send();\r\n}\r\nexports.default = {\r\n    loadRes: loadRes\r\n};\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar env_1 = require(\"./env\");\r\nvar looper_1 = require(\"../utils/looper\");\r\nfunction fixWechatAudioPlay(callback) {\r\n    if (window && window['WeixinJSBridge']) {\r\n        try {\r\n            window['WeixinJSBridge'].invoke(\"getNetworkType\", {}, function () {\r\n                callback && callback();\r\n            });\r\n        }\r\n        catch (e) {\r\n            callback && callback();\r\n        }\r\n    }\r\n    else {\r\n        callback && callback();\r\n    }\r\n}\r\nfunction fixAudioExtension(targetUrl, replaceExt) {\r\n    var ext = Laya.Utils.getFileExtension(targetUrl);\r\n    var searchExt = !!ext ? \".\" + ext : '';\r\n    if (env_1.default.isConchApp() && searchExt != \".wav\" && searchExt != \".ogg\") {\r\n        return targetUrl.substr(0, targetUrl.length - searchExt.length) + replaceExt;\r\n    }\r\n    return targetUrl;\r\n}\r\nvar AudioController = /** @class */ (function () {\r\n    function AudioController(isMusic) {\r\n        this._auidoUrl = '';\r\n        this._chancel = null;\r\n        this._playing = false;\r\n        this._onPlay = null;\r\n        this._onPause = null;\r\n        this._onStop = null;\r\n        this._onError = null;\r\n        this._onProgress = null;\r\n        this._onComplete = null;\r\n        this._position = -1;\r\n        this._duration = -1;\r\n        this._paused = false;\r\n        this._music = false;\r\n        this._playTime = 0;\r\n        this._music = isMusic;\r\n        if (!isMusic) {\r\n            AudioController._soundList.push(this);\r\n        }\r\n    }\r\n    AudioController.stopAll = function () {\r\n        var soundList = AudioController._soundList.splice(0, AudioController._soundList.length);\r\n        soundList.forEach(function (item) {\r\n            item && item.stop();\r\n        });\r\n    };\r\n    AudioController.prototype._update = function () {\r\n        if (this._chancel) {\r\n            this._position = this._chancel.position;\r\n            this._duration = this._chancel.duration;\r\n            if (!this._playing && this._position > 0) {\r\n                this._playing = true;\r\n                this._onPlay && this._onPlay();\r\n            }\r\n            if (this._playing && this._duration > 0) {\r\n                this._onProgress && this._onProgress({\r\n                    position: this.position,\r\n                    duration: this.duration,\r\n                });\r\n            }\r\n            else if (Date.now() - this._playTime > 2000) {\r\n                this._onError && this._onError();\r\n                this.stop();\r\n            }\r\n        }\r\n    };\r\n    AudioController.prototype.onPlay = function (callback) {\r\n        this._onPlay = callback;\r\n    };\r\n    AudioController.prototype.onStop = function (callback) {\r\n        this._onStop = callback;\r\n    };\r\n    AudioController.prototype.onPause = function (callback) {\r\n        this._onPause = callback;\r\n    };\r\n    AudioController.prototype.onProgress = function (callback) {\r\n        this._onProgress = callback;\r\n    };\r\n    AudioController.prototype.onComplete = function (callback) {\r\n        this._onComplete = callback;\r\n    };\r\n    AudioController.prototype.onError = function (callback) {\r\n        this._onError = callback;\r\n    };\r\n    Object.defineProperty(AudioController.prototype, \"url\", {\r\n        get: function () {\r\n            return this._auidoUrl;\r\n        },\r\n        set: function (url) {\r\n            if (this._auidoUrl != url) {\r\n                this._auidoUrl = url;\r\n                this.stop();\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AudioController.prototype, \"position\", {\r\n        get: function () {\r\n            return this._position;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AudioController.prototype, \"duration\", {\r\n        get: function () {\r\n            return this._duration;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    AudioController.prototype.isMusic = function () {\r\n        return this._music;\r\n    };\r\n    AudioController.prototype.isPaused = function () {\r\n        return this._paused;\r\n    };\r\n    AudioController.prototype.isPlaying = function () {\r\n        return this._playing;\r\n    };\r\n    AudioController.prototype.play = function (loops) {\r\n        var _this = this;\r\n        if (loops === void 0) { loops = 1; }\r\n        fixWechatAudioPlay(function () {\r\n            if (_this._auidoUrl) {\r\n                _this.stop();\r\n                var playUrl = fixAudioExtension(_this._auidoUrl, '.ogg');\r\n                _this._playTime = Date.now();\r\n                if (_this._music) {\r\n                    _this._chancel = Laya.SoundManager.playMusic(playUrl, loops, Laya.Handler.create(_this, function () {\r\n                        _this._onComplete && _this._onComplete();\r\n                        _this.stop();\r\n                    }), 0);\r\n                }\r\n                else {\r\n                    _this._chancel = Laya.SoundManager.playSound(playUrl, loops, Laya.Handler.create(_this, function () {\r\n                        _this._onComplete && _this._onComplete();\r\n                        _this.stop();\r\n                    }), null, 0);\r\n                }\r\n                looper_1.default.loop(_this, _this._update);\r\n            }\r\n        });\r\n    };\r\n    AudioController.prototype.pause = function () {\r\n        if (this._chancel && this._playing) {\r\n            this._onPause && this._onPause();\r\n            this._chancel.pause();\r\n            this._paused = true;\r\n            this._playing = false;\r\n            looper_1.default.clear(this, this._update);\r\n        }\r\n    };\r\n    AudioController.prototype.resume = function () {\r\n        if (this._chancel && this._paused) {\r\n            this._paused = false;\r\n            this._chancel.resume();\r\n            looper_1.default.loop(this, this._update);\r\n        }\r\n    };\r\n    AudioController.prototype.stop = function () {\r\n        if (this._chancel) {\r\n            this._onStop && this._onStop();\r\n            this._chancel.stop();\r\n            this._paused = false;\r\n            this._playing = false;\r\n            if (this._music) {\r\n                Laya.SoundManager.stopMusic();\r\n            }\r\n            else {\r\n                Laya.SoundManager.stopSound(this._auidoUrl);\r\n            }\r\n            Laya.SoundManager.removeChannel(this._chancel);\r\n            looper_1.default.clear(this, this._update);\r\n            this._chancel = null;\r\n        }\r\n    };\r\n    AudioController.prototype.destroy = function () {\r\n        this.stop();\r\n        this._onComplete = null;\r\n        this._onProgress = null;\r\n        this._onPlay = null;\r\n        this._onStop = null;\r\n        this._onPause = null;\r\n    };\r\n    AudioController._soundList = [];\r\n    return AudioController;\r\n}());\r\nvar _musicAudio = new AudioController(true);\r\nfunction playMusic(url, loops) {\r\n    if (loops === void 0) { loops = 1; }\r\n    _musicAudio.url = url;\r\n    _musicAudio.play(loops);\r\n    return _musicAudio;\r\n}\r\nfunction playSound(url, loops) {\r\n    if (loops === void 0) { loops = 1; }\r\n    var audio = new AudioController(false);\r\n    audio.url = url;\r\n    audio.play(loops);\r\n    return audio;\r\n}\r\nfunction stopMusic() {\r\n    _musicAudio.stop();\r\n}\r\nfunction stopAllSound() {\r\n    AudioController.stopAll();\r\n}\r\nfunction stopAll() {\r\n    stopMusic();\r\n    stopAllSound();\r\n}\r\nfunction setMusicVolume(volume) {\r\n    Laya.SoundManager.setMusicVolume(volume);\r\n}\r\nfunction setSoundVolume(volume) {\r\n    Laya.SoundManager.setSoundVolume(volume);\r\n}\r\nexports.default = {\r\n    playMusic: playMusic,\r\n    playSound: playSound,\r\n    stopAll: stopAll,\r\n    stopMusic: stopMusic,\r\n    stopAllSound: stopAllSound,\r\n    setMusicVolume: setMusicVolume,\r\n    setSoundVolume: setSoundVolume,\r\n};\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar onload_1 = require(\"../utils/onload\");\r\nfunction _loadJS(jspath, options, callback) {\r\n    try {\r\n        var _protocol = location.protocol != 'file:' ? location.protocol : 'http:';\r\n        var _script = document.createElement(\"script\");\r\n        Object.keys(options).forEach(function (key) {\r\n            _script.setAttribute(key, options[key]);\r\n        });\r\n        _script.type = \"text/javascript\";\r\n        if (jspath.indexOf('//') == 0) {\r\n            _script.src = _protocol + jspath;\r\n        }\r\n        else {\r\n            _script.src = jspath;\r\n        }\r\n        document.body.appendChild(_script);\r\n        _script.onerror = function (err) {\r\n            callback && callback(_script, err);\r\n        };\r\n        _script.onload = function () {\r\n            callback && callback(_script, null);\r\n        };\r\n    }\r\n    catch (error) {\r\n        callback && callback(undefined, error);\r\n    }\r\n}\r\nfunction loadJs(jspath, options) {\r\n    if (options === void 0) { options = {}; }\r\n    return onload_1.onload().then(function () {\r\n        return new Promise(function (resolve) {\r\n            if (!jspath) {\r\n                return resolve && resolve(undefined);\r\n            }\r\n            var index = 0;\r\n            var jsList = jspath.split(',');\r\n            var nodeList = [];\r\n            jsList.forEach(function (js) {\r\n                _loadJS(js, options, function (node, err) {\r\n                    nodeList[index] = { node: node, err: err };\r\n                    index++;\r\n                    if (index == jsList.length) {\r\n                        resolve && resolve(nodeList);\r\n                    }\r\n                });\r\n            });\r\n        });\r\n    });\r\n}\r\nexports.default = {\r\n    loadJs: loadJs\r\n};\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar _ready = null;\r\nfunction onload() {\r\n    if (!_ready) {\r\n        _ready = new Promise(function (reslove, reject) {\r\n            var _timer;\r\n            var _pollingDocument = function () {\r\n                if (!!document && document.readyState == 'complete') {\r\n                    _timer && clearTimeout(_timer);\r\n                    reslove(Date.now());\r\n                }\r\n                else {\r\n                    _timer = setTimeout(_pollingDocument, 1);\r\n                }\r\n            };\r\n            _timer = setTimeout(_pollingDocument, 1);\r\n        });\r\n    }\r\n    return _ready;\r\n}\r\nexports.onload = onload;\r\n","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Event = /** @class */ (function (_super) {\r\n    __extends(Event, _super);\r\n    function Event() {\r\n        var _this = _super.call(this) || this;\r\n        _this._dic = new Laya.Dictionary();\r\n        return _this;\r\n    }\r\n    Event.prototype.registeredEvent = function (type, fun, thisRef, index) {\r\n        if (index === void 0) { index = 1; }\r\n        var arr = [];\r\n        if (index == null)\r\n            index = 1;\r\n        if (this._dic[type]) {\r\n            arr = this._dic[type];\r\n            for (var i = 0; i < arr.length; i++) {\r\n                if (arr[i].fun == fun && arr[i].thisRef == thisRef) {\r\n                    if (index != arr[i].index) {\r\n                        arr[i].index = index;\r\n                        arr.sort(function (a, b) { return b.index - a.index; });\r\n                        this._dic[type] = arr;\r\n                    }\r\n                    return;\r\n                }\r\n            }\r\n        }\r\n        arr.push({ fun: fun, thisRef: thisRef, index: index });\r\n        arr.sort(function (a, b) { return b.index - a.index; });\r\n        this._dic[type] = arr;\r\n    };\r\n    Event.prototype.removeEvent = function (type, fun, thisRef) {\r\n        if (this._dic[type]) {\r\n            var arr = this._dic[type];\r\n            for (var i = 0; i < arr.length; i++) {\r\n                if (arr[i].fun == fun && arr[i].thisRef == thisRef) {\r\n                    arr[i] = null;\r\n                    arr.splice(i, 1);\r\n                    this._dic[type] = arr;\r\n                    return;\r\n                }\r\n            }\r\n        }\r\n    };\r\n    Event.prototype.sendEvent = function (type, args) {\r\n        if (args === void 0) { args = null; }\r\n        if (this._dic[type]) {\r\n            var arr = this._dic[type];\r\n            for (var i = 0; i < arr.length; i++) {\r\n                arr[i].fun.apply(arr[i].thisRef, args);\r\n            }\r\n        }\r\n    };\r\n    return Event;\r\n}(Laya.EventDispatcher));\r\nexports.default = new Event();\r\n","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar runtime;\r\n(function (runtime) {\r\n    runtime.clickSound = null;\r\n    runtime.clickAnimDuration = 100;\r\n    runtime.clickNormalProps = { scaleX: 1, scaleY: 1 };\r\n    runtime.clickDownProps = { scaleX: 1.2, scaleY: 1.2 };\r\n    function pivotCenter(view) {\r\n        view.x = view.x + view.width / 2 - view.pivotX;\r\n        view.y = view.y + view.height / 2 - view.pivotY;\r\n        view.pivot(view.width / 2, view.height / 2);\r\n    }\r\n    function setViewProps(view, props, duration) {\r\n        pivotCenter(view);\r\n        Laya.Tween.to(view, props, duration);\r\n    }\r\n    function playClickSound(sound) {\r\n        if (sound) {\r\n            sound != 'none' && Laya.SoundManager.playSound(sound, 1);\r\n        }\r\n        else if (runtime.clickSound) {\r\n            runtime.clickSound != 'none' && Laya.SoundManager.playSound(runtime.clickSound, 1);\r\n        }\r\n    }\r\n    function bindClick(view, onClick, onDown, onUp, onOut) {\r\n        pivotCenter(view);\r\n        view.offAll();\r\n        view.on(Laya.Event.CLICK, view, function () {\r\n            onClick && onClick();\r\n            playClickSound(view.clickSound);\r\n        });\r\n        view.on(Laya.Event.MOUSE_DOWN, view, function () {\r\n            setViewProps(view, view.clickDownProps || runtime.clickDownProps, view.clickAnimDuration || runtime.clickAnimDuration);\r\n            onDown && onDown();\r\n        });\r\n        view.on(Laya.Event.MOUSE_UP, view, function () {\r\n            setViewProps(view, view.clickNormalProps || runtime.clickNormalProps, view.clickAnimDuration || runtime.clickAnimDuration);\r\n            onUp && onUp();\r\n        });\r\n        view.on(Laya.Event.MOUSE_OUT, view, function () {\r\n            setViewProps(view, view.clickNormalProps || runtime.clickNormalProps, view.clickAnimDuration || runtime.clickAnimDuration);\r\n            onOut && onOut();\r\n        });\r\n    }\r\n    runtime.bindClick = bindClick;\r\n    var btn = /** @class */ (function (_super) {\r\n        __extends(btn, _super);\r\n        function btn() {\r\n            var _this = _super.call(this) || this;\r\n            _this.clickAnimDuration = null;\r\n            _this.clickDownProps = null;\r\n            _this.clickNormalProps = null;\r\n            _this.clickSound = null;\r\n            bindClick(_this);\r\n            return _this;\r\n        }\r\n        return btn;\r\n    }(Laya.Button));\r\n    runtime.btn = btn;\r\n    var btn_img = /** @class */ (function (_super) {\r\n        __extends(btn_img, _super);\r\n        function btn_img() {\r\n            var _this = _super.call(this) || this;\r\n            _this.clickAnimDuration = null;\r\n            _this.clickDownProps = null;\r\n            _this.clickNormalProps = null;\r\n            _this.clickSound = null;\r\n            bindClick(_this);\r\n            return _this;\r\n        }\r\n        return btn_img;\r\n    }(Laya.Image));\r\n    runtime.btn_img = btn_img;\r\n    var btn_label = /** @class */ (function (_super) {\r\n        __extends(btn_label, _super);\r\n        function btn_label() {\r\n            var _this = _super.call(this) || this;\r\n            _this.clickAnimDuration = null;\r\n            _this.clickDownProps = null;\r\n            _this.clickNormalProps = null;\r\n            _this.clickSound = null;\r\n            bindClick(_this);\r\n            return _this;\r\n        }\r\n        return btn_label;\r\n    }(Laya.Label));\r\n    runtime.btn_label = btn_label;\r\n    var btn_sprite = /** @class */ (function (_super) {\r\n        __extends(btn_sprite, _super);\r\n        function btn_sprite() {\r\n            var _this = _super.call(this) || this;\r\n            _this.clickAnimDuration = null;\r\n            _this.clickDownProps = null;\r\n            _this.clickNormalProps = null;\r\n            _this.clickSound = null;\r\n            bindClick(_this);\r\n            return _this;\r\n        }\r\n        return btn_sprite;\r\n    }(Laya.Sprite));\r\n    runtime.btn_sprite = btn_sprite;\r\n    var btn_box = /** @class */ (function (_super) {\r\n        __extends(btn_box, _super);\r\n        function btn_box() {\r\n            var _this = _super.call(this) || this;\r\n            _this.clickAnimDuration = null;\r\n            _this.clickDownProps = null;\r\n            _this.clickNormalProps = null;\r\n            _this.clickSound = null;\r\n            bindClick(_this);\r\n            return _this;\r\n        }\r\n        return btn_box;\r\n    }(Laya.Box));\r\n    runtime.btn_box = btn_box;\r\n    var page_list = /** @class */ (function (_super) {\r\n        __extends(page_list, _super);\r\n        function page_list() {\r\n            var _this = _super.call(this) || this;\r\n            _this._isDown = false;\r\n            _this._onLoadMoreHandler = null;\r\n            _this._loading = false;\r\n            _this._preCount = 5;\r\n            _this.on(Laya.Event.MOUSE_UP, _this, _this.onMouseUp);\r\n            _this.on(Laya.Event.MOUSE_OUT, _this, _this.onMouseOut);\r\n            _this.on(Laya.Event.MOUSE_DOWN, _this, _this.onMouseDown);\r\n            _this.renderHandler = Laya.Handler.create(_this, _this.renderItem);\r\n            return _this;\r\n        }\r\n        page_list.prototype.destroy = function () {\r\n            this.off(Laya.Event.MOUSE_UP, this, this.onMouseUp);\r\n            this.off(Laya.Event.MOUSE_OUT, this, this.onMouseOut);\r\n        };\r\n        page_list.prototype.refresh = function () {\r\n            _super.prototype.refresh.call(this);\r\n            this._updatePage();\r\n        };\r\n        page_list.prototype.onMouseDown = function () {\r\n            this._isDown = true;\r\n        };\r\n        page_list.prototype.onMouseUp = function (event) {\r\n            this._updatePage();\r\n            this._isDown = false;\r\n        };\r\n        page_list.prototype.onMouseOut = function (event) {\r\n            this._updatePage();\r\n            this._isDown = false;\r\n        };\r\n        Object.defineProperty(page_list.prototype, \"preCount\", {\r\n            get: function () {\r\n                return this._preCount;\r\n            },\r\n            set: function (count) {\r\n                this._preCount = count;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(page_list.prototype, \"loading\", {\r\n            get: function () {\r\n                return this._loading;\r\n            },\r\n            set: function (loading) {\r\n                this._loading = loading;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(page_list.prototype, \"onLoadMoreHandler\", {\r\n            get: function () {\r\n                return this._onLoadMoreHandler;\r\n            },\r\n            set: function (handler) {\r\n                this._onLoadMoreHandler = handler;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        page_list.prototype._updatePage = function () {\r\n            if (!this._isDown) {\r\n                return;\r\n            }\r\n            var length = this._array.length;\r\n            var maxHeight = length * this._cellSize;\r\n            var currentPos = this._cellOffset + this.scrollBar.value + this.height;\r\n            var lastCount = Math.floor((maxHeight - currentPos) / this._cellSize);\r\n            if (lastCount < 0) {\r\n                lastCount = 0;\r\n            }\r\n            if (!this._loading && this.preCount >= lastCount) {\r\n                this._onLoadMoreHandler && this._onLoadMoreHandler(lastCount);\r\n            }\r\n        };\r\n        return page_list;\r\n    }(Laya.List));\r\n    runtime.page_list = page_list;\r\n    var page_view = /** @class */ (function (_super) {\r\n        __extends(page_view, _super);\r\n        function page_view() {\r\n            var _this = _super.call(this) || this;\r\n            _this._isDown = false;\r\n            _this._currentPage = 0;\r\n            _this._onPageChange = null;\r\n            _this.on(Laya.Event.MOUSE_UP, _this, _this.onMouseUp);\r\n            _this.on(Laya.Event.MOUSE_OUT, _this, _this.onMouseOut);\r\n            _this.on(Laya.Event.MOUSE_DOWN, _this, _this.onMouseDown);\r\n            _this.renderHandler = Laya.Handler.create(_this, _this.renderItem);\r\n            return _this;\r\n        }\r\n        page_view.prototype.destroy = function () {\r\n            this.off(Laya.Event.MOUSE_UP, this, this.onMouseUp);\r\n            this.off(Laya.Event.MOUSE_OUT, this, this.onMouseOut);\r\n        };\r\n        Object.defineProperty(page_view.prototype, \"pageId\", {\r\n            get: function () {\r\n                return this._currentPage;\r\n            },\r\n            set: function (n) {\r\n                this._currentPage = n;\r\n                if (this._currentPage < 0) {\r\n                    this._currentPage = 0;\r\n                }\r\n                this.tweenTo(n);\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(page_view.prototype, \"onPageChangeHandler\", {\r\n            get: function () {\r\n                return this._onPageChange;\r\n            },\r\n            set: function (handler) {\r\n                this._onPageChange = handler;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        page_view.prototype.onMouseDown = function () {\r\n            this._isDown = true;\r\n        };\r\n        page_view.prototype.onMouseUp = function (event) {\r\n            this._updatePage();\r\n            this._isDown = false;\r\n        };\r\n        page_view.prototype.onMouseOut = function (event) {\r\n            this._updatePage();\r\n            this._isDown = false;\r\n        };\r\n        page_view.prototype._updatePage = function () {\r\n            if (!this._isDown) {\r\n                return;\r\n            }\r\n            this.scrollBar.stopScroll();\r\n            var total = this._cellOffset > 0 ? this.totalPage + 1 : this.totalPage;\r\n            if (total > 1) {\r\n                var changeSize = this._cellSize / 6;\r\n                var sss = this._currentPage * this._cellSize;\r\n                if (Math.abs(this.scrollBar.value - sss) > changeSize) {\r\n                    if (this.scrollBar.value > sss) {\r\n                        this._currentPage++;\r\n                    }\r\n                    else {\r\n                        this._currentPage--;\r\n                    }\r\n                }\r\n                if (this._currentPage > total) {\r\n                    this._currentPage = total + 1;\r\n                }\r\n                if (this._currentPage < 0) {\r\n                    this._currentPage = 0;\r\n                }\r\n            }\r\n            this.tweenTo(this._currentPage);\r\n            if (this._onPageChange) {\r\n                this._onPageChange(this._currentPage);\r\n            }\r\n        };\r\n        return page_view;\r\n    }(Laya.List));\r\n    runtime.page_view = page_view;\r\n})(runtime || (runtime = {}));\r\nexports.default = runtime;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar env_1 = require(\"./env\");\r\nvar any_1 = require(\"../utils/any\");\r\nvar _listeners = [];\r\nfunction onMessage(callback) {\r\n    if (callback && typeof callback == \"function\" && _listeners.indexOf(callback) < 0) {\r\n        _listeners.push(callback);\r\n    }\r\n}\r\nfunction postMessage(data) {\r\n    if (data === void 0) { data = {}; }\r\n    if (env_1.default.isConchApp()) {\r\n        Laya.conchMarket.sendMessageToPlatform(any_1.toAny(data, \"{}\"), function (resp) {\r\n            env_1.default.printDebug(\"conch message callback: \", resp);\r\n        });\r\n    }\r\n    else {\r\n        window.parent.postMessage(any_1.toAny(data, {}), '*');\r\n    }\r\n}\r\nfunction _initMessage() {\r\n    var name = \"__dispatchMessage__\";\r\n    if (typeof window !== \"undefined\") {\r\n        window[name] = function (data) {\r\n            if (data) {\r\n                _listeners.forEach(function (callback) { return callback(any_1.toAny(data, {})); });\r\n            }\r\n        };\r\n    }\r\n    window.addEventListener(\"message\", function (msg) {\r\n        if (msg && msg.data) {\r\n            _listeners.forEach(function (callback) { return callback(any_1.toAny(msg.data, {})); });\r\n        }\r\n    });\r\n}\r\n(function () {\r\n    _initMessage();\r\n})();\r\nexports.default = {\r\n    postMessage: postMessage,\r\n    onMessage: onMessage\r\n};\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar any_1 = require(\"../utils/any\");\r\nvar json_1 = require(\"../utils/json\");\r\nfunction randomUUID() {\r\n    var _s4 = function () { return (((1 + Math.random()) * 0x10000) | 0).toString(16).substring(1); };\r\n    return (_s4() + _s4() + \"-\" + _s4() + \"-\" + _s4() + \"-\" + _s4() + \"-\" + _s4() + _s4() + _s4());\r\n}\r\nfunction randomNumber(minNum, maxNum) {\r\n    switch (arguments.length) {\r\n        case 1:\r\n            return Math.random() * minNum + 1;\r\n        case 2:\r\n            return Math.random() * (maxNum - minNum + 1) + minNum;\r\n        default:\r\n            return 0;\r\n    }\r\n}\r\nfunction randomInteger(minNum, maxNum) {\r\n    switch (arguments.length) {\r\n        case 1:\r\n            return Math.floor(Math.random() * minNum + 1);\r\n        case 2:\r\n            return Math.floor(Math.random() * (maxNum - minNum + 1) + minNum);\r\n        default:\r\n            return 0;\r\n    }\r\n}\r\nfunction randomArray(source, length) {\r\n    if (length === void 0) { length = -1; }\r\n    var randomLength = length == -1 ? source.length : length;\r\n    randomLength = Math.min(randomLength, source.length);\r\n    var copy = source.concat([]);\r\n    var result = [];\r\n    while (result.length < randomLength) {\r\n        var randomObj = randomArrayItem(copy);\r\n        result.push(randomObj);\r\n        copy.splice(copy.indexOf(randomLength), 1);\r\n    }\r\n    return result;\r\n}\r\nfunction randomArrayItem(source) {\r\n    if (source.length > 0) {\r\n        return source[Math.floor(Math.random() * source.length)];\r\n    }\r\n    return undefined;\r\n}\r\nexports.default = {\r\n    randomUUID: randomUUID,\r\n    randomInteger: randomInteger,\r\n    randomNumber: randomNumber,\r\n    randomArray: randomArray,\r\n    randomArrayItem: randomArrayItem,\r\n    loadJson: json_1.loadJson,\r\n    toAny: any_1.toAny\r\n};\r\n","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar stack_1 = require(\"../navigator/stack\");\r\nvar screen_1 = require(\"../manager/screen\");\r\nvar component_1 = require(\"./component\");\r\nvar Activity = /** @class */ (function (_super) {\r\n    __extends(Activity, _super);\r\n    function Activity(options) {\r\n        var _this = _super.call(this, function () { _this.back(); }) || this;\r\n        _this.page = null;\r\n        _this.params = {};\r\n        _this.duration = 0;\r\n        _this.easeIn = null;\r\n        _this.easeOut = null;\r\n        _this.fromProps = null;\r\n        _this.toProps = null;\r\n        _this.exitProps = null;\r\n        _this.ui = new Laya.Component;\r\n        _this.width = screen_1.default.getDesignWidth();\r\n        _this.height = screen_1.default.getDesignHeight();\r\n        _this.params = Object.assign({}, options.params || {});\r\n        _this.page = options.page;\r\n        return _this;\r\n    }\r\n    Activity.create = function (opts) {\r\n        var NewAct = /** @class */ (function (_super) {\r\n            __extends(NewAct, _super);\r\n            function NewAct(options) {\r\n                var _this = _super.call(this, options) || this;\r\n                _this.opts = null;\r\n                _this.opts = opts || {};\r\n                Object.assign(_this, _this.opts);\r\n                NewAct.single = _this.opts.single;\r\n                NewAct.res = _this.opts.res;\r\n                return _this;\r\n            }\r\n            NewAct.prototype.onCreate = function () {\r\n                this.opts.onCreate && this.opts.onCreate();\r\n            };\r\n            NewAct.prototype.onPause = function () {\r\n                this.opts.onPause && this.opts.onPause();\r\n            };\r\n            NewAct.prototype.onResume = function () {\r\n                this.opts.onResume && this.opts.onResume();\r\n            };\r\n            NewAct.prototype.onDestroy = function () {\r\n                this.opts.onDestroy && this.opts.onDestroy();\r\n            };\r\n            NewAct.prototype.onFocus = function (focus) {\r\n                this.opts.onFocus && this.opts.onFocus(focus);\r\n            };\r\n            NewAct.prototype.onNextProgress = function (progress) {\r\n                this.opts.onNextProgress && this.opts.onNextProgress(progress);\r\n            };\r\n            return NewAct;\r\n        }(Activity));\r\n        return NewAct;\r\n    };\r\n    Activity.open = function (params, action) {\r\n        stack_1.default.navigate(this, params, action);\r\n    };\r\n    Activity.finish = function () {\r\n        stack_1.default.finish(this);\r\n    };\r\n    //////////////////////////\r\n    /// navigator function\r\n    //////////////////////////\r\n    Activity.prototype.redirectTo = function (page, params, action, single) {\r\n        var _this = this;\r\n        if (params === void 0) { params = {}; }\r\n        if (action === void 0) { action = null; }\r\n        if (single === void 0) { single = false; }\r\n        this.navigate(page, params, function () {\r\n            _this.back();\r\n            action && action();\r\n        }, single);\r\n    };\r\n    Activity.prototype.navigate = function (page, params, action, single) {\r\n        if (params === void 0) { params = {}; }\r\n        if (action === void 0) { action = null; }\r\n        if (single === void 0) { single = false; }\r\n        stack_1.default.navigate(page, params, action, single);\r\n    };\r\n    Activity.prototype.back = function () {\r\n        stack_1.default.finish(this.page, this);\r\n    };\r\n    Activity.prototype.finish = function (page, instance) {\r\n        if (page === void 0) { page = this.page; }\r\n        if (instance === void 0) { instance = null; }\r\n        stack_1.default.finish(page, instance);\r\n    };\r\n    Activity.prototype.pop = function (number) {\r\n        if (number === void 0) { number = 1; }\r\n        stack_1.default.pop(number);\r\n    };\r\n    Activity.prototype.popToTop = function () {\r\n        stack_1.default.popToTop();\r\n    };\r\n    Activity.res = [];\r\n    Activity.unpackFile = null;\r\n    Activity.single = false;\r\n    return Activity;\r\n}(component_1.default));\r\nexports.default = Activity;\r\n","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar popupmanager_1 = require(\"./popupmanager\");\r\nvar screen_1 = require(\"../manager/screen\");\r\nvar pipeline_1 = require(\"../pipeline\");\r\nvar component_1 = require(\"./component\");\r\nvar PopupView = /** @class */ (function (_super) {\r\n    __extends(PopupView, _super);\r\n    function PopupView() {\r\n        var _this = _super.call(this, function () {\r\n            _this.hide();\r\n        }) || this;\r\n        _this.duration = 300;\r\n        _this.easeIn = null;\r\n        _this.easeOut = null;\r\n        _this.fromProps = null;\r\n        _this.toProps = null;\r\n        _this.exitProps = null;\r\n        _this.uiDuration = 300;\r\n        _this.uiEaseIn = null;\r\n        _this.uiEaseOut = null;\r\n        _this.uiFromProps = null;\r\n        _this.uiToProps = null;\r\n        _this.uiExitProps = null;\r\n        _this.topLevel = false;\r\n        _this.isTranslucent = false;\r\n        _this.canceledOnTouchOutside = false;\r\n        _this.nonPenetrating = true;\r\n        _this.width = screen_1.default.getDesignWidth();\r\n        _this.height = screen_1.default.getDesignHeight();\r\n        return _this;\r\n    }\r\n    PopupView.show = function (params, onHide, alias) {\r\n        popupmanager_1.default.showPopup(this, params, onHide, alias);\r\n    };\r\n    PopupView.signleShow = function (params, onHide, alias) {\r\n        popupmanager_1.default.hidePopup(this, null, null, alias);\r\n        popupmanager_1.default.showPopup(this, params, onHide, alias);\r\n    };\r\n    PopupView.pipeShow = function (params, onHide, alias) {\r\n        var _this = this;\r\n        pipeline_1.default.put(\"popup\", function () {\r\n            popupmanager_1.default.showPopup(_this, params, function () {\r\n                var args = [];\r\n                for (var _i = 0; _i < arguments.length; _i++) {\r\n                    args[_i] = arguments[_i];\r\n                }\r\n                onHide && onHide.apply(void 0, args);\r\n                pipeline_1.default.next(\"popup\");\r\n            }, alias);\r\n        });\r\n    };\r\n    PopupView.hide = function (result, alias) {\r\n        popupmanager_1.default.hidePopup(this, null, result, alias);\r\n    };\r\n    PopupView.prototype.hide = function (result) {\r\n        if (result === void 0) { result = null; }\r\n        popupmanager_1.default.hidePopup(this.popup, this, result, this.alias);\r\n    };\r\n    return PopupView;\r\n}(component_1.default));\r\nexports.default = PopupView;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar env_1 = require(\"./env\");\r\nvar _pipeline_map = {};\r\nfunction _check(type) {\r\n    if (_pipeline_map[type]) {\r\n        var pipe = _pipeline_map[type];\r\n        if (pipe.funcs.length <= 0) {\r\n            return;\r\n        }\r\n        if (pipe.padding) {\r\n            setTimeout(function () {\r\n                _check(type);\r\n            }, 500);\r\n            return;\r\n        }\r\n        var func = pipe.funcs.shift();\r\n        func && func();\r\n        pipe.padding = true;\r\n        _check(type);\r\n    }\r\n}\r\nfunction put(type, func) {\r\n    if (type && typeof func === \"function\") {\r\n        env_1.default.printDebug(\"put pipe to : \", type);\r\n        if (_pipeline_map[type]) {\r\n            _pipeline_map[type].funcs.push(func);\r\n        }\r\n        else {\r\n            _pipeline_map[type] = { padding: false, funcs: [func] };\r\n        }\r\n        _check(type);\r\n    }\r\n}\r\nfunction next(type) {\r\n    if (_pipeline_map[type]) {\r\n        env_1.default.printDebug(\"next pipe as : \", type);\r\n        _pipeline_map[type].padding = false;\r\n        _check(type);\r\n    }\r\n}\r\nexports.default = {\r\n    put: put,\r\n    next: next,\r\n};\r\n","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar toastmanager_1 = require(\"./toastmanager\");\r\nvar screen_1 = require(\"../manager/screen\");\r\nvar component_1 = require(\"./component\");\r\nvar ToastView = /** @class */ (function (_super) {\r\n    __extends(ToastView, _super);\r\n    function ToastView() {\r\n        var _this = _super.call(this, function () { _this.hide(); }) || this;\r\n        _this.duration = 200;\r\n        _this.displayDuration = 1000;\r\n        _this.easeIn = null;\r\n        _this.easeOut = null;\r\n        _this.fromProps = null;\r\n        _this.toProps = null;\r\n        _this.exitProps = null;\r\n        _this.topLevel = true;\r\n        _this.width = screen_1.default.getDesignWidth();\r\n        _this.height = screen_1.default.getDesignHeight();\r\n        return _this;\r\n    }\r\n    ToastView.show = function (params, onHide) {\r\n        toastmanager_1.default.showToast(this, params, onHide);\r\n    };\r\n    ToastView.hide = function () {\r\n        toastmanager_1.default.hideToast(this);\r\n    };\r\n    ToastView.prototype.hide = function () {\r\n        toastmanager_1.default.hideToast(this.toast, this);\r\n    };\r\n    return ToastView;\r\n}(component_1.default));\r\nexports.default = ToastView;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nfunction stringifyQuery(query) {\r\n    return Object.keys(query).map(function (key) {\r\n        var value = query[key];\r\n        return key + \"=\" + encodeURIComponent(value);\r\n    }).join('&');\r\n}\r\nexports.stringifyQuery = stringifyQuery;\r\nfunction decodeQuery(query) {\r\n    return Object.keys(query).reduce(function (result, key) {\r\n        var value = query[key];\r\n        result[key] = decodeURIComponent(value);\r\n        return result;\r\n    }, {});\r\n}\r\nexports.decodeQuery = decodeQuery;\r\nfunction parseQueryParams(path) {\r\n    var url = '';\r\n    var params = {};\r\n    if (!path || typeof path !== 'string') {\r\n        return { url: url, params: params };\r\n    }\r\n    var queryString = '';\r\n    var indexE = path.indexOf('?');\r\n    var indexW = path.indexOf('#');\r\n    var indexQ = path.indexOf('=');\r\n    if (indexE >= 0) {\r\n        url = path.substring(0, indexE);\r\n        queryString = path.substring(indexE + 1, indexW > 0 ? indexW : path.length);\r\n    }\r\n    else if (indexQ >= 0) {\r\n        url = '';\r\n        queryString = path;\r\n    }\r\n    else {\r\n        url = path;\r\n        queryString = '';\r\n    }\r\n    queryString.split('&').map(function (item) {\r\n        var index = item.indexOf(\"=\");\r\n        if (index > 0) {\r\n            var key = item.substring(0, index);\r\n            var value = item.substring(index + 1);\r\n            params[key] = decodeURIComponent(value);\r\n        }\r\n    });\r\n    return { url: url, params: params };\r\n}\r\nexports.parseQueryParams = parseQueryParams;\r\nfunction appendQueryParams(path, query) {\r\n    if (query === void 0) { query = {}; }\r\n    var _a = parseQueryParams(path), url = _a.url, params = _a.params;\r\n    Object.keys(query).forEach(function (key) {\r\n        var value = query[key];\r\n        if (value !== undefined && value !== null) {\r\n            params[key] = value;\r\n        }\r\n        else {\r\n            delete params[key];\r\n        }\r\n    });\r\n    var queryString = Object.keys(params).map(function (key) {\r\n        var value = params[key];\r\n        return key + \"=\" + encodeURIComponent(value);\r\n    }).join('&');\r\n    ;\r\n    if (!url) {\r\n        return queryString;\r\n    }\r\n    if (!queryString) {\r\n        return url;\r\n    }\r\n    return url + \"?\" + queryString;\r\n}\r\nexports.appendQueryParams = appendQueryParams;\r\nfunction getQueryString(key, def) {\r\n    if (typeof window !== \"undefined\" && window.location) {\r\n        var search = window.location.search || '';\r\n        var reg = new RegExp(\"(^|&)\" + key + \"=([^&]*)(&|$)\");\r\n        var r = search.substr(1).match(reg);\r\n        if (r != null) {\r\n            return decodeURIComponent(unescape(r[2]));\r\n        }\r\n    }\r\n    return def;\r\n}\r\nexports.getQueryString = getQueryString;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar env_1 = require(\"./env\");\r\nvar screen_1 = require(\"./manager/screen\");\r\nvar init_1 = require(\"./navigator/init\");\r\nvar hook_1 = require(\"./hook\");\r\nvar _inited = false;\r\nvar _transparent = false;\r\nvar _adapterInfo = null;\r\nfunction handleAdapter() {\r\n    try {\r\n        if (_adapterInfo) {\r\n            var stage = Laya.stage;\r\n            stage.width = _adapterInfo.width;\r\n            stage.height = _adapterInfo.height;\r\n            stage.scale(_adapterInfo.scaleX, _adapterInfo.scaleY);\r\n        }\r\n    }\r\n    catch (error) {\r\n    }\r\n}\r\nfunction setTransparent(transparent) {\r\n    _transparent = transparent;\r\n}\r\nexports.setTransparent = setTransparent;\r\nfunction setAdapterInfo(adapterInfo) {\r\n    _adapterInfo = adapterInfo;\r\n}\r\nexports.setAdapterInfo = setAdapterInfo;\r\nfunction init(width, height) {\r\n    var options = [];\r\n    for (var _i = 2; _i < arguments.length; _i++) {\r\n        options[_i - 2] = arguments[_i];\r\n    }\r\n    if (_inited) {\r\n        return;\r\n    }\r\n    if (!env_1.default.isLayaApp()) {\r\n        env_1.default.printError('Please ensure that the \\'Laya\\' library has been introduced.');\r\n        return;\r\n    }\r\n    screen_1.initScreen.apply(void 0, [false, _transparent, width, height].concat(options));\r\n    hook_1.callHookInit.apply(void 0, [width, height].concat(options));\r\n    handleAdapter();\r\n    _inited = true;\r\n    env_1.default.printDebug(\"init...\");\r\n    env_1.default.printDebug(\"offest: \" + screen_1.default.getOffestX() + \", \" + screen_1.default.getOffestY());\r\n    env_1.default.printDebug(\"app_version: \" + env_1.default.getAppVersion());\r\n    env_1.default.printDebug(\"version: \" + env_1.default.getVersion());\r\n    env_1.default.printDebug(\"debug: \" + env_1.default.isDebug());\r\n    env_1.default.printDebug(\"env: \" + env_1.default.getEnv());\r\n}\r\nexports.init = init;\r\nfunction init3D(width, height) {\r\n    var options = [];\r\n    for (var _i = 2; _i < arguments.length; _i++) {\r\n        options[_i - 2] = arguments[_i];\r\n    }\r\n    if (_inited) {\r\n        return;\r\n    }\r\n    if (!env_1.default.isLayaApp()) {\r\n        env_1.default.printError('Please ensure that the \\'Laya\\' library has been introduced.');\r\n        return;\r\n    }\r\n    screen_1.initScreen.apply(void 0, [true, _transparent, width, height].concat(options));\r\n    handleAdapter();\r\n    hook_1.callHookInit.apply(void 0, [width, height].concat(options));\r\n    _inited = true;\r\n    env_1.default.printDebug(\"init3D...\");\r\n    env_1.default.printDebug(\"offest: \" + screen_1.default.getOffestX() + \", \" + screen_1.default.getOffestY());\r\n    env_1.default.printDebug(\"app_version: \" + env_1.default.getAppVersion());\r\n    env_1.default.printDebug(\"version: \" + env_1.default.getVersion());\r\n    env_1.default.printDebug(\"debug: \" + env_1.default.isDebug());\r\n    env_1.default.printDebug(\"env: \" + env_1.default.getEnv());\r\n}\r\nexports.init3D = init3D;\r\nfunction start(options, onLoaded, onLoadProgress) {\r\n    if (onLoaded === void 0) { onLoaded = null; }\r\n    if (onLoadProgress === void 0) { onLoadProgress = null; }\r\n    if (!_inited) {\r\n        env_1.default.printError('Please complete the initialization of Tape first.');\r\n        return;\r\n    }\r\n    if (!options) {\r\n        options = {};\r\n    }\r\n    var newOptions = {\r\n        mainPage: options.mainPage || null,\r\n        commonRes: options.commonRes || [],\r\n        fileVersion: options.fileVersion,\r\n        onLoadProgress: function (progress) {\r\n            options.onLoadProgress && options.onLoadProgress(progress);\r\n            onLoadProgress && onLoadProgress(progress);\r\n        },\r\n        onLoaded: function () {\r\n            onLoaded && onLoaded();\r\n            options.onLoaded && options.onLoaded();\r\n        }\r\n    };\r\n    init_1.initNavigator(newOptions);\r\n    init_1.setNavigatorReady();\r\n}\r\nexports.start = start;\r\n"],"sourceRoot":""}