{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap","webpack:///./src/services/manager/screen.ts","webpack:///./src/services/env.ts","webpack:///./src/services/manager/uimgr.ts","webpack:///./src/services/navigator/stack.ts","webpack:///./src/services/display/component.ts","webpack:///./src/services/hook.ts","webpack:///./src/services/display/background.ts","webpack:///./src/services/navigator/loader.ts","webpack:///./src/services/navigator/init.ts","webpack:///./src/utils/json.ts","webpack:///./src/utils/looper.ts","webpack:///./src/utils/any.ts","webpack:///./src/services/display/popupmanager.ts","webpack:///./src/services/display/toastmanager.ts","webpack:///./src/services/display/baseview.ts","webpack:///./src/index.ts","webpack:///./src/adapter/index.ts","webpack:///./src/adapter/_transsion.ts","webpack:///./src/polyfill.ts","webpack:///./src/services/manager/eft.ts","webpack:///./src/utils/resize.ts","webpack:///./src/utils/event.ts","webpack:///./src/services/speaker/index.ts","webpack:///./src/services/speaker/_chancel.ts","webpack:///./src/services/speaker/_peaks.ts","webpack:///./src/services/speaker/_loadres.ts","webpack:///./src/services/audio.ts","webpack:///./src/services/js.ts","webpack:///./src/utils/onload.ts","webpack:///./src/services/event.ts","webpack:///./src/services/runtime.ts","webpack:///./src/services/message.ts","webpack:///./src/services/utils.ts","webpack:///./src/services/display/activity.ts","webpack:///./src/services/display/popupview.ts","webpack:///./src/services/pipeline.ts","webpack:///./src/services/display/toastview.ts","webpack:///./src/utils/query.ts","webpack:///./src/services/init.ts"],"names":["root","factory","exports","module","define","amd","a","i","this","installedModules","__webpack_require__","moduleId","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","background_1","uimgr_1","_background","_padding_left","_padding_right","_padding_top","_padding_bottom","_design_width","_design_height","_deviation","_autoAdaption","_autoDirection","size","paddingWidth","paddingHeight","clientWidth","window","innerWidth","laya","utils","Browser","clientHeight","innerHeight","initWidth","initHeight","screenRatio","initRatio","Math","abs","getWidth","Laya","stage","width","getHeight","height","getContentWidth","getContentHeight","getDesignWidth","getDesignHeight","getScale","designWidth","designHeight","min","initScreen","is3D","isAlpha","options","_i","arguments","length","_a","Config","Laya3D","init","apply","concat","scaleMode","Stage","SCALE_EXACTFIT","screenMode","SCREEN_HORIZONTAL","SCREEN_VERTICAL","alignH","ALIGN_CENTER","alignV","ALIGN_MIDDLE","bgColor","default","addChild","resize","initUI","getBg","getOffestX","scale","getOffestY","setDeviation","deviation","setPaddingLeft","padding","getPaddingLeft","setPaddingRight","getPaddingRight","setPaddingTop","getPaddingTop","setPaddingBottom","getPaddingBottom","setAutoDirection","auto","setAutoAdaption","adaption","_app_version","_debugOn","isDebug","indexOf","_env","classNameMap","getClassName","obj","str","toString","arr","charAt","match","name_1","e","isLayaApp","isConchApp","getVersion","setAppVersion","version","getAppVersion","setDebug","debug","printError","message","console","error","printDebug","log","getEnv","setEnv","env","_uiManager","_mainUILayer","_topUILayer","stack_1","resize_1","loader_1","screen_1","_inited","_checkInit","Sprite","mouseThrough","on","Event","RESIZE","_resizeUI","onResize","x","y","scaleX","scaleY","index","numChildren","ui","getChildAt","_callOnResize","checkFocus","setFocus","moveTopToMainLayer","view","parent","removeChild","addViewToMainLayer","addViewTopLayer","_loaders","_all","_length","_getStack","len","_showStack","anim","callback","stack","show","_refreshStack","hide","_popStack","count","splice","forEach","exit","focus","navigate","page","params","action","single","open","onShow","onLoaded","loader","push","onLoadProgress","progress","nextProgress","stacks","filter","pop","number","popToTop","finish","instance","_finishStack","extendStatics","__extends","setPrototypeOf","__proto__","Array","b","__","constructor","Component","_super","handleOnTouchOutside","_this","_bgAlpha","_bgColor","_isTranslucent","_handleOnTouchOutside","_canceledOnTouchOutside","_nonPenetrating","_onEvent","_isShow","isShow","canceledOnTouchOutside","stopPropagation","bg","_refreshBg","configurable","set","bgAlpha","isTranslucent","_refreshCanceledOnTouchOutside","nonPenetrating","offAll","CLICK","setBgAlpha","setBgColor","visible","_inits","callHookInit","onInit","Background","_onResize","_bgSprite","_bgImage","_bgSkin","_bgSizeGrid","_bgTexture","_bgType","Image","_drawBg","alpha","graphics","clear","drawRect","skin","sizeGrid","load","Handler","texture","fillTexture","color","setBgSkin","url","setBgTexture","getBgSprite","env_1","init_1","json_1","_indexID","default_1","unpackFile","res","_options","_activity","_isFocus","_pageName","_getPageName","loadJson","catch","then","data","map","item","tyep","Loader","IMAGE","Promise","resolve","_newActivity","setTimeout","_onLoaded","_onLoadProgress","assign","onNavigatorReady","onCreate","onNextProgress","activity","easeIn","Ease","linearIn","duration","fromProps","toProps","onResume","Tween","to","easeOut","exitProps","onPause","onDestroy","destroy","onFocus","_isReady","_readyResolve","_readyPromise","_beginLoadStaticRes","commonRes","_onStaticResLoaded","mainPage","initNavigator","fileVersion","ResourceVersion","type","FILENAME_VERSION","enable","setNavigatorReady","_temp","_reject","_listener","force","ERROR","_initListener","reject","JSON","val","getRes","Looper","_tasks","_hasLoop","_checkLoop","timer","frameLoop","task","caller","clearAll","loop","array","where","removeIndexArray_1","reverse","removeItemForWhere","toAny","def","parse","ex","parseFloat","isNaN","_inferType","_toNumber_","_toBoolean_","_toObject_","stringify","_toString_","_popups","_fromProps","_toProps","_exitProps","_hidePopup","result","popupView","cb","uiDuration","uiToProps","uiExitProps","uiEaseOut","linearOut","max","_hidePopupAnim","_onHide","popup","onHide","removeSelf","_showPopup","uiFromProps","uiEaseIn","from","_showPopupAnim","showPopup","alias","mapKey","views","topLevel","hidePopup","v","close","_toasts","_popToast","toast","showToast","_on_hide","displayDuration","_pushToast","hideToast","BaseView","getChildByName","removeChildByName","eft_1","speaker_1","audio_1","js_1","event_1","runtime_1","message_1","utils_1","popupmanager_1","toastmanager_1","activity_1","popupview_1","toastview_1","baseview_1","query_1","OHOGame","init3D","start","getQueryString","setTransparent","setAdapterInfo","js","eft","screen","speaker","audio","event","runtime","navigator","Activity","PopupView","ToastView","hook_1","HttpRequest","cache","group","ignoreCache","_url","_type","getTypeFromUrl","URL","formatURL","_cache","_data","loadedMap","setGroup","parserMap","_customParse","runWith","_loadImage","_loadSound","_loadTTF","loadRuntime","startsWith","that","response","substr","rt","getFileSystemManager","readFileSync","contentType","preLoadedMap","_http","onProgress","onError","send","info","rw","rh","target","varArgs","TypeError","nextSource","nextKey","writable","_dic","Dictionary","_mcpool","_inst","onLoadComplet","path","mc","play","loadComplet","thisRef","split","stop","off","LOADED","shift","MovieClip","remove","pivotX","pivotY","_initialized","_callbacks","_handleChanged","offResize","onAttachEvent","document","elem","fn","addEventListener","attachEvent","looper_1","_chancel_1","vowelsByFormantJP","vowelFormantFloorJP","vowelsByFormantCN","vowelFormantFloorCN","SpeakerController","_onPlay","_onStop","_onError","_onProgress","_onComplete","_playTime","_auidoUrl","_position","_duration","_formant","_speaking","_language","_chancel","_update","formant","position","Date","now","onPlay","onStop","onComplete","getFormant","isSpeaking","getVowel","formantValue","language","currentVowels","currentVowelFormantCeilValues","getVowelByFormant","speak","invoke","fixWechatAudioPlay","playSpeak","_peaks_1","_loadres_1","FixAudioContext","AudioContext","webkitAudioContext","mozAudioContext","msAudioContext","_CHANCELS","SpeakerChancel","stopped","_audioUrl","_onErrorCallback","amplitudeThreshold","audioCtx","sampleRate","sourceNode","createBufferSource","analyserNode","createAnalyser","fftSize","windowSize","frequencyBinCount","gaussianFilters","generateGaussianFilter","disconnect","connect","currentTime","buffer","currentAudioData","Uint8Array","getByteFrequencyData","currentAudioSpectrum","discreteCosineTransform","amplitudeSum","k","formantArray","smoothedAudioSpectrum","convoluteDataAndFilter","findLocalLargestPeaks","peakValues","peakPositions","frequencyUnit","formantAverage_1","formantVal","loadAudioRes","loadPromise","loadRes","audioData","decodeAudioData","destination","errorMsg","cancel","getValueFromArray","paddleType","actualIndex","deviationSquare","sum","mu","param","exp","j","sumCos","_","d2","cos","PI","output","filterMiddlePoint","floor","peakNum","lastPeak","lastPeakPositions","isIncreasing","isPeakIncreasing","failure","request","XMLHttpRequest","responseType","onload","onreadystatechange","readyState","status","AudioController","isMusic","_playing","_onPause","_paused","_music","_soundList","stopAll","isPaused","isPlaying","loops","playUrl","targetUrl","replaceExt","ext","Utils","getFileExtension","searchExt","SoundManager","playMusic","playSound","pause","resume","removeChannel","_musicAudio","stopMusic","stopAllSound","setMusicVolume","volume","setSoundVolume","onload_1","loadJs","jspath","undefined","jsList","nodeList","_protocol","location","protocol","_script","createElement","keys","setAttribute","src","body","appendChild","onerror","err","_loadJS","node","_ready","reslove","_timer","_pollingDocument","clearTimeout","registeredEvent","fun","sort","removeEvent","sendEvent","args","EventDispatcher","pivotCenter","pivot","setViewProps","props","bindClick","onClick","onDown","onUp","onOut","sound","clickSound","MOUSE_DOWN","clickDownProps","clickAnimDuration","MOUSE_UP","clickNormalProps","MOUSE_OUT","btn","Button","btn_img","btn_label","Label","btn_sprite","btn_box","Box","page_list","_isDown","_onLoadMoreHandler","_loading","_preCount","onMouseUp","onMouseOut","onMouseDown","renderHandler","renderItem","refresh","_updatePage","loading","handler","maxHeight","_array","_cellSize","currentPos","_cellOffset","scrollBar","lastCount","preCount","List","page_view","_currentPage","_onPageChange","tweenTo","stopScroll","total","totalPage","changeSize","sss","any_1","_listeners","msg","postMessage","conchMarket","sendMessageToPlatform","resp","onMessage","randomArrayItem","source","random","randomUUID","_s4","substring","randomInteger","minNum","maxNum","randomNumber","randomArray","randomLength","copy","randomObj","back","opts","NewAct","redirectTo","pipeline_1","signleShow","pipeShow","put","next","_pipeline_map","_check","pipe","funcs","func","parseQueryParams","queryString","indexE","indexW","indexQ","decodeURIComponent","stringifyQuery","query","encodeURIComponent","join","decodeQuery","reduce","appendQueryParams","search","reg","RegExp","unescape","_transparent","_adapterInfo","handleAdapter","transparent","adapterInfo","newOptions"],"mappings":"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","file":"index.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(this, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 15);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar background_1 = require(\"../display/background\");\nvar uimgr_1 = require(\"./uimgr\");\nvar _background = null;\nvar _padding_left = 0;\nvar _padding_right = 0;\nvar _padding_top = 0;\nvar _padding_bottom = 0;\nvar _design_width = 0;\nvar _design_height = 0;\nvar _deviation = 0;\nvar _autoAdaption = true;\nvar _autoDirection = false;\nfunction size() {\n    var paddingWidth = _padding_left + _padding_right;\n    var paddingHeight = _padding_top + _padding_bottom;\n    var clientWidth = window.innerWidth || laya.utils.Browser.clientWidth;\n    var clientHeight = window.innerHeight || laya.utils.Browser.clientHeight;\n    var initWidth = _design_width;\n    var initHeight = _design_height;\n    var screenRatio = 1;\n    var initRatio = 1;\n    if (!_autoDirection) {\n        screenRatio = clientHeight / clientWidth;\n        initRatio = initHeight / initWidth;\n        if (Math.abs(screenRatio / initRatio - 1) > _deviation) {\n            if (screenRatio > initRatio) {\n                initHeight = initWidth * screenRatio;\n            }\n            else if (screenRatio < initRatio) {\n                initWidth = initHeight / screenRatio;\n            }\n        }\n    }\n    else if (initWidth < initHeight && clientWidth < clientHeight) { // \n        screenRatio = clientHeight / clientWidth;\n        initRatio = initHeight / initWidth;\n        if (Math.abs(screenRatio / initRatio - 1) > _deviation) {\n            if (screenRatio > initRatio) {\n                initHeight = initWidth * screenRatio;\n            }\n            else if (screenRatio < initRatio) {\n                initWidth = initHeight / screenRatio;\n            }\n        }\n    }\n    else if (initWidth < initHeight && clientWidth >= clientHeight) { // \n        screenRatio = clientHeight / clientWidth;\n        initRatio = initWidth / initHeight;\n        if (Math.abs(screenRatio / initRatio - 1) > _deviation) {\n            if (screenRatio > initRatio) {\n                initWidth = initHeight * screenRatio;\n            }\n            else if (screenRatio < initRatio) {\n                initHeight = initWidth / screenRatio;\n            }\n        }\n    }\n    else if (initWidth >= initHeight && clientWidth >= clientHeight) { // \n        screenRatio = clientHeight / clientWidth;\n        initRatio = initHeight / initWidth;\n        if (Math.abs(screenRatio / initRatio - 1) > _deviation) {\n            if (screenRatio > initRatio) {\n                initHeight = initWidth * screenRatio;\n            }\n            else if (screenRatio < initRatio) {\n                initWidth = initHeight / screenRatio;\n            }\n        }\n    }\n    else if (initWidth >= initHeight && clientWidth < clientHeight) { // \n        screenRatio = clientHeight / clientWidth;\n        initRatio = initWidth / initHeight;\n        if (Math.abs(screenRatio / initRatio - 1) > _deviation) {\n            if (screenRatio > initRatio) {\n                initWidth = initHeight * screenRatio;\n            }\n            else if (screenRatio < initRatio) {\n                initHeight = initWidth / screenRatio;\n            }\n        }\n    }\n    return {\n        initHeight: initHeight + paddingWidth,\n        initWidth: initWidth + paddingHeight\n    };\n}\nfunction initScreen(is3D, isAlpha, width, height) {\n    var options = [];\n    for (var _i = 4; _i < arguments.length; _i++) {\n        options[_i - 4] = arguments[_i];\n    }\n    _design_width = width;\n    _design_height = height;\n    if (_autoAdaption) {\n        var _a = size(), initHeight = _a.initHeight, initWidth = _a.initWidth;\n        Config.isAlpha = isAlpha;\n        if (is3D) {\n            Laya3D.init.apply(this, [initWidth, initHeight].concat(options));\n        }\n        else {\n            Laya.init.apply(this, [initWidth, initHeight].concat(options));\n        }\n        Laya.stage.scaleMode = Laya.Stage.SCALE_EXACTFIT;\n        if (_autoDirection) {\n            if (initWidth > initHeight) {\n                Laya.stage.screenMode = Laya.Stage.SCREEN_HORIZONTAL;\n            }\n            else {\n                Laya.stage.screenMode = Laya.Stage.SCREEN_VERTICAL;\n            }\n        }\n        Laya.stage.alignH = Laya.Stage.ALIGN_CENTER;\n        Laya.stage.alignV = Laya.Stage.ALIGN_MIDDLE;\n        if (isAlpha) {\n            Laya.stage.bgColor = \"none\";\n        }\n    }\n    else {\n        if (is3D) {\n            Laya3D.init.apply(this, [width, height].concat(options));\n        }\n        else {\n            Laya.init.apply(this, [width, height].concat(options));\n        }\n    }\n    _background = new background_1.default;\n    Laya.stage.addChild(_background);\n    _background.resize();\n    uimgr_1.initUI();\n}\nexports.initScreen = initScreen;\nfunction resize() {\n    var _a = size(), initHeight = _a.initHeight, initWidth = _a.initWidth;\n    Laya.stage.width = initWidth;\n    Laya.stage.height = initHeight;\n    _background && _background.resize();\n}\nfunction getBg() {\n    return _background;\n}\nfunction getWidth() {\n    return Laya.stage.width;\n}\nfunction getHeight() {\n    return Laya.stage.height;\n}\nfunction getContentWidth() {\n    return getWidth() - _padding_left - _padding_right;\n}\nfunction getContentHeight() {\n    return getHeight() - _padding_top - _padding_bottom;\n}\nfunction setPaddingLeft(padding) {\n    _padding_left = padding;\n}\nfunction getPaddingLeft() {\n    return _padding_left;\n}\nfunction setPaddingRight(padding) {\n    _padding_right = padding;\n}\nfunction getPaddingRight() {\n    return _padding_right;\n}\nfunction setPaddingTop(padding) {\n    _padding_top = padding;\n}\nfunction getPaddingTop() {\n    return _padding_top;\n}\nfunction setPaddingBottom(padding) {\n    _padding_bottom = padding;\n}\nfunction getPaddingBottom() {\n    return _padding_bottom;\n}\nfunction getDesignWidth() {\n    return _design_width;\n}\nfunction getDesignHeight() {\n    return _design_height;\n}\nfunction getScale() {\n    var width = getContentWidth();\n    var height = getContentHeight();\n    var designWidth = getDesignWidth();\n    var designHeight = getDesignHeight();\n    return Math.min(width / designWidth, height / designHeight);\n}\nfunction getOffestX() {\n    if (!_autoAdaption) {\n        return _padding_left;\n    }\n    var scale = getScale();\n    var width = getContentWidth();\n    return (width - _design_width * scale) / 2 + _padding_left;\n}\nfunction getOffestY() {\n    if (!_autoAdaption) {\n        return _padding_top;\n    }\n    var scale = getScale();\n    var height = getContentHeight();\n    return (height - _design_height * scale) / 2 + _padding_top;\n}\nfunction setDeviation(deviation) {\n    _deviation = deviation;\n}\nfunction setAutoDirection(auto) {\n    _autoDirection = auto;\n}\nfunction setAutoAdaption(adaption) {\n    _autoAdaption = adaption;\n}\nexports.default = {\n    resize: resize,\n    getBg: getBg,\n    getWidth: getWidth,\n    getHeight: getHeight,\n    getScale: getScale,\n    getOffestX: getOffestX,\n    getOffestY: getOffestY,\n    getContentWidth: getContentWidth,\n    getContentHeight: getContentHeight,\n    getDesignWidth: getDesignWidth,\n    getDesignHeight: getDesignHeight,\n    setDeviation: setDeviation,\n    setPaddingLeft: setPaddingLeft,\n    getPaddingLeft: getPaddingLeft,\n    setPaddingRight: setPaddingRight,\n    getPaddingRight: getPaddingRight,\n    setPaddingTop: setPaddingTop,\n    getPaddingTop: getPaddingTop,\n    setPaddingBottom: setPaddingBottom,\n    getPaddingBottom: getPaddingBottom,\n    setAutoDirection: setAutoDirection,\n    setAutoAdaption: setAutoAdaption,\n};\n","\"use strict\";\n//////////////////////////\n/////  Env\n//////////////////////////\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar isLayaApp = function () {\n    if (typeof window !== \"undefined\") {\n        return window.hasOwnProperty(\"Laya\");\n    }\n    return false;\n};\nvar isConchApp = function () {\n    if (typeof window !== \"undefined\") {\n        return window.hasOwnProperty(\"conch\");\n    }\n    return false;\n};\n//////////////////////////\n/////  Version\n//////////////////////////\nvar _app_version = \"${app_version}\";\nfunction getAppVersion() {\n    if (typeof _app_version === \"string\" && _app_version.indexOf('${') === 0) {\n        return;\n    }\n    return _app_version;\n}\nfunction setAppVersion(version) {\n    _app_version = version;\n}\n//////////////////////////\n/////  Version\n//////////////////////////\nvar _lib_version = \"1.1.14.1217.1726\";\nfunction getVersion() {\n    if (typeof _lib_version === \"string\" && _lib_version.indexOf('${') === 0) {\n        return '1.0.0';\n    }\n    return _lib_version;\n}\n//////////////////////////\n/////  Debug\n//////////////////////////\nvar _debugOn = '${debug}';\nfunction isDebug() {\n    if (typeof _debugOn === \"string\" && _debugOn.indexOf('${') === 0) {\n        return false;\n    }\n    if (_debugOn == \"false\" || _debugOn == \"0\") {\n        return false;\n    }\n    return !!_debugOn;\n}\nfunction setDebug(debug) {\n    _debugOn = debug;\n}\nfunction printDebug(message) {\n    var options = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        options[_i - 1] = arguments[_i];\n    }\n    if (isDebug()) {\n        console.log.apply(console, [\"[ohosdk]\", \"[OHOGame]\", message].concat(options));\n    }\n}\nfunction printError(message) {\n    var options = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        options[_i - 1] = arguments[_i];\n    }\n    if (isDebug()) {\n        console.error.apply(console, [\"[ohosdk]\", \"[OHOGame]\", message].concat(options));\n    }\n}\n//////////////////////////\n/////  Env\n//////////////////////////\nvar _env = '${env}';\nfunction setEnv(env) {\n    _env = env;\n}\nfunction getEnv() {\n    if (typeof _env === \"string\" && _env.indexOf('${') === 0) {\n        return;\n    }\n    return _env;\n}\n//////////////////////////\n/////  getClassName\n//////////////////////////\nvar classNameMap = {};\nfunction getClassName(obj) {\n    try {\n        if (obj) {\n            if (obj.name) {\n                return obj.name;\n            }\n            if (classNameMap[obj]) {\n                return classNameMap[obj];\n            }\n            var str = obj.toString();\n            var arr = void 0;\n            if (str.charAt(0) == '[') {\n                arr = str.match(/\\w+\\s(\\w+)\\w+\\s(\\w+)/);\n            }\n            else {\n                arr = str.match(/function\\s*(\\w+)/);\n            }\n            var name_1 = \"\";\n            if (arr && arr.length == 2) {\n                name_1 = arr[1];\n            }\n            classNameMap[obj] = name_1;\n            return name_1;\n        }\n    }\n    catch (e) {\n    }\n    return undefined;\n}\nexports.getClassName = getClassName;\nexports.default = {\n    isLayaApp: isLayaApp,\n    isConchApp: isConchApp,\n    getVersion: getVersion,\n    setAppVersion: setAppVersion,\n    getAppVersion: getAppVersion,\n    isDebug: isDebug,\n    setDebug: setDebug,\n    printError: printError,\n    printDebug: printDebug,\n    getEnv: getEnv,\n    setEnv: setEnv\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar stack_1 = require(\"../navigator/stack\");\nvar resize_1 = require(\"../../utils/resize\");\nvar loader_1 = require(\"../navigator/loader\");\nvar screen_1 = require(\"./screen\");\nvar _inited = false;\nvar _uiManager;\nvar _mainUILayer;\nvar _topUILayer;\nfunction _checkInit() {\n    if (!_inited) {\n        _inited = true;\n        _uiManager = new Laya.Sprite();\n        _uiManager.mouseThrough = true;\n        _uiManager.name = '_tape_stage';\n        _mainUILayer = new Laya.Sprite();\n        _mainUILayer.name = '_tape_main_layer';\n        _mainUILayer.mouseThrough = true;\n        _topUILayer = new Laya.Sprite();\n        _topUILayer.name = '_tape_top_layer';\n        _topUILayer.mouseThrough = true;\n        _uiManager.addChild(_mainUILayer);\n        _uiManager.addChild(_topUILayer);\n        Laya.stage.addChild(_uiManager);\n        Laya.stage.on(Laya.Event.RESIZE, null, function () {\n            _resizeUI();\n        });\n        resize_1.onResize(function () {\n            screen_1.default.resize();\n        });\n    }\n    _resizeUI();\n}\nfunction _resizeUI() {\n    if (_mainUILayer) {\n        _mainUILayer.width = screen_1.default.getDesignWidth();\n        _mainUILayer.height = screen_1.default.getDesignHeight();\n        _mainUILayer.x = screen_1.default.getOffestX();\n        _mainUILayer.y = screen_1.default.getOffestY();\n    }\n    if (_topUILayer) {\n        _topUILayer.width = screen_1.default.getDesignWidth();\n        _topUILayer.height = screen_1.default.getDesignHeight();\n        _topUILayer.x = screen_1.default.getOffestX();\n        _topUILayer.y = screen_1.default.getOffestY();\n    }\n    _uiManager.scaleX = screen_1.default.getScale();\n    _uiManager.scaleY = screen_1.default.getScale();\n    for (var index = 0; index < _mainUILayer.numChildren; index++) {\n        var ui = _mainUILayer.getChildAt(index);\n        if (ui && typeof ui._callOnResize == 'function') {\n            ui._callOnResize && ui._callOnResize();\n        }\n    }\n    for (var index = 0; index < _topUILayer.numChildren; index++) {\n        var ui = _topUILayer.getChildAt(index);\n        if (ui && typeof ui._callOnResize == 'function') {\n            ui._callOnResize && ui._callOnResize();\n        }\n    }\n}\nfunction initUI() {\n    _checkInit();\n}\nexports.initUI = initUI;\nfunction checkFocus() {\n    if (_mainUILayer.numChildren > 0) {\n        var last = _mainUILayer.getChildAt(_mainUILayer.numChildren - 1);\n        if (last instanceof loader_1.default) {\n            stack_1.setFocus(true);\n            return;\n        }\n    }\n    stack_1.setFocus(false);\n}\nfunction moveTopToMainLayer(view) {\n    _checkInit();\n    if (view && view.parent == _mainUILayer) {\n        _mainUILayer.removeChild(view);\n        _mainUILayer.addChild(view);\n    }\n    checkFocus();\n}\nfunction addViewToMainLayer(view) {\n    _checkInit();\n    view && _mainUILayer.addChild(view);\n    checkFocus();\n}\nfunction addViewTopLayer(view) {\n    _checkInit();\n    view && _topUILayer.addChild(view);\n    checkFocus();\n}\nexports.default = {\n    checkFocus: checkFocus,\n    moveTopToMainLayer: moveTopToMainLayer,\n    addViewToMainLayer: addViewToMainLayer,\n    addViewTopLayer: addViewTopLayer,\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar loader_1 = require(\"./loader\");\nvar uimgr_1 = require(\"../manager/uimgr\");\nvar _loaders = [];\nfunction _all() {\n    return _loaders;\n}\nfunction _length() {\n    return _loaders.length;\n}\nfunction _getStack(index) {\n    if (index === void 0) { index = 0; }\n    var len = _length();\n    return len > index ? _loaders[len - 1 - index] : null;\n}\nfunction _showStack(index, anim, callback) {\n    if (index === void 0) { index = 0; }\n    if (anim === void 0) { anim = false; }\n    if (callback === void 0) { callback = null; }\n    var stack = _getStack(index);\n    if (!stack) {\n        return;\n    }\n    stack.show(anim && _length() > 1, callback);\n}\nfunction _pushStack(stack) {\n    _loaders.push(stack);\n}\nfunction _topStack(stack) {\n    var index = _loaders.indexOf(stack);\n    if (index >= 0) {\n        _loaders.splice(index, 1);\n        _loaders.push(stack);\n        _refreshStack(null);\n        uimgr_1.default.moveTopToMainLayer(stack);\n    }\n}\nfunction _refreshStack(callback) {\n    _showStack(0, true, function () {\n        var stack = _getStack(1);\n        if (!stack) {\n            return;\n        }\n        stack.hide();\n        callback && callback();\n    });\n}\nfunction _finishStack(stacks) {\n    if (!stacks || stacks.length <= 0) {\n        return;\n    }\n    for (var i = 0; _length() > 1 && i < stacks.length; i++) {\n        var stack = stacks[i];\n        _loaders.splice(_loaders.indexOf(stack), 1);\n        stack.hide(true, function () {\n            stack.exit();\n        });\n    }\n    _showStack(0);\n}\nfunction _popStack(count) {\n    if (count >= _length()) {\n        count = _length() - 1;\n    }\n    if (count <= 0) {\n        return;\n    }\n    var pops = _loaders.splice(_length() - count, count);\n    pops.forEach(function (stack) {\n        stack.hide(true, function () {\n            stack.exit();\n        });\n    });\n    _showStack(0);\n}\nfunction setFocus(focus) {\n    var stack = _getStack();\n    if (stack) {\n        stack.focus(focus);\n    }\n}\nexports.setFocus = setFocus;\nfunction navigate(page, params, action, single) {\n    if (params === void 0) { params = null; }\n    if (action === void 0) { action = null; }\n    if (single === void 0) { single = false; }\n    if (!params) {\n        params = {};\n    }\n    var open = function () {\n        new loader_1.default({\n            page: page,\n            params: params,\n            onShow: function () {\n                _refreshStack(function () {\n                    action && action(true);\n                });\n            },\n            onLoaded: function (loader) {\n                uimgr_1.default.addViewToMainLayer(loader);\n                _pushStack(loader);\n            },\n            onLoadProgress: function (loader, progress) {\n                var stack = _getStack();\n                stack && stack.nextProgress(progress);\n            }\n        });\n    };\n    if (single || page.single) {\n        var stacks = [];\n        _all().forEach(function (stack) {\n            if (stack.filter(page)) {\n                stacks.push(stack);\n            }\n        });\n        stacks.length > 0 ? _topStack(stacks.pop()) : open();\n    }\n    else {\n        open();\n    }\n}\nfunction popToTop() {\n    _popStack(_length());\n}\nfunction pop(number) {\n    if (number === void 0) { number = 1; }\n    _popStack(number);\n}\nfunction finish(page, instance) {\n    if (instance === void 0) { instance = null; }\n    var stacks = [];\n    _all().forEach(function (stack) {\n        if (stack.filter(page, instance)) {\n            stacks.push(stack);\n        }\n    });\n    _finishStack(stacks);\n}\nexports.default = {\n    navigate: navigate,\n    pop: pop,\n    popToTop: popToTop,\n    finish: finish,\n};\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar screen_1 = require(\"../manager/screen\");\nvar background_1 = require(\"./background\");\nvar baseview_1 = require(\"./baseview\");\nvar Component = /** @class */ (function (_super) {\n    __extends(Component, _super);\n    function Component(handleOnTouchOutside) {\n        if (handleOnTouchOutside === void 0) { handleOnTouchOutside = null; }\n        var _this = _super.call(this) || this;\n        _this._bgAlpha = 0.5;\n        _this._bgColor = '#000000';\n        _this._isTranslucent = true;\n        _this._handleOnTouchOutside = null;\n        _this._canceledOnTouchOutside = false;\n        _this._nonPenetrating = false;\n        _this._onEvent = null;\n        _this._background = null;\n        _this._isShow = false;\n        _this._onEvent = function (e) {\n            if (_this.isShow && _this.canceledOnTouchOutside) {\n                _this._handleOnTouchOutside && _this._handleOnTouchOutside();\n            }\n            e.stopPropagation();\n        };\n        _this._handleOnTouchOutside = handleOnTouchOutside;\n        _this._background = new background_1.default(function (bg) {\n            bg.x = -screen_1.default.getOffestX();\n            bg.y = -screen_1.default.getOffestY();\n        });\n        _this.addChild(_this._background);\n        _this._refreshBg();\n        return _this;\n    }\n    Object.defineProperty(Component.prototype, \"bg\", {\n        get: function () {\n            return this._background;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Component.prototype, \"isShow\", {\n        get: function () {\n            return this._isShow;\n        },\n        set: function (isShow) {\n            this._isShow = isShow;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Component.prototype, \"bgAlpha\", {\n        get: function () {\n            return this._bgAlpha;\n        },\n        set: function (bgAlpha) {\n            this._bgAlpha = bgAlpha;\n            this._refreshBg();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Component.prototype, \"bgColor\", {\n        get: function () {\n            return this._bgColor;\n        },\n        set: function (bgColor) {\n            this._bgColor = bgColor;\n            this._refreshBg();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Component.prototype, \"isTranslucent\", {\n        get: function () {\n            return this._isTranslucent;\n        },\n        set: function (isTranslucent) {\n            this._isTranslucent = isTranslucent;\n            this._refreshBg();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Component.prototype, \"canceledOnTouchOutside\", {\n        get: function () {\n            return this._canceledOnTouchOutside;\n        },\n        set: function (canceledOnTouchOutside) {\n            this._canceledOnTouchOutside = canceledOnTouchOutside;\n            this._refreshCanceledOnTouchOutside();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Component.prototype, \"nonPenetrating\", {\n        get: function () {\n            return this._nonPenetrating;\n        },\n        set: function (nonPenetrating) {\n            this._nonPenetrating = nonPenetrating;\n            this._refreshCanceledOnTouchOutside();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Component.prototype._refreshCanceledOnTouchOutside = function () {\n        this._background && this._background.offAll();\n        if ((this.canceledOnTouchOutside || this.nonPenetrating) && this.ui) {\n            this.ui.mouseThrough = true;\n            this._background && this._background.on(Laya.Event.CLICK, this, this._onEvent);\n        }\n    };\n    Component.prototype._refreshBg = function () {\n        this._background.setBgAlpha(this.bgAlpha);\n        this._background.setBgColor(this.bgColor);\n        this._background.visible = !this.isTranslucent;\n        this._refreshCanceledOnTouchOutside();\n    };\n    Component.prototype._callOnResize = function () {\n        this._background\n            && this._background.resize();\n    };\n    return Component;\n}(baseview_1.default));\nexports.default = Component;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _inits = [];\nfunction callHookInit(width, height) {\n    var options = [];\n    for (var _i = 2; _i < arguments.length; _i++) {\n        options[_i - 2] = arguments[_i];\n    }\n    _inits.forEach(function (callback) { return callback.apply(void 0, [width, height].concat(options)); });\n}\nexports.callHookInit = callHookInit;\nfunction onInit(callback) {\n    if (callback && typeof callback == \"function\" && _inits.indexOf(callback) < 0) {\n        _inits.push(callback);\n    }\n}\nexports.default = {\n    onInit: onInit\n};\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar screen_1 = require(\"../manager/screen\");\nvar Background = /** @class */ (function (_super) {\n    __extends(Background, _super);\n    function Background(resize) {\n        if (resize === void 0) { resize = null; }\n        var _this = _super.call(this) || this;\n        _this._onResize = null;\n        _this._bgSprite = null;\n        _this._bgImage = null;\n        _this._bgAlpha = 1;\n        _this._bgColor = null;\n        _this._bgSkin = null;\n        _this._bgSizeGrid = null;\n        _this._bgTexture = null;\n        _this._bgType = 0;\n        _this._onResize = resize;\n        _this._bgSprite = new Laya.Sprite;\n        _this._bgImage = new Laya.Image;\n        _this.addChild(_this._bgSprite);\n        _this.addChild(_this._bgImage);\n        _this.resize();\n        return _this;\n    }\n    Background.prototype._drawBg = function () {\n        var _this = this;\n        this._bgImage.alpha = this._bgAlpha;\n        this._bgSprite.alpha = this._bgAlpha;\n        if (this._bgType == 1) {\n            if (this._bgSprite && this._bgColor) {\n                this._bgSprite.graphics.clear();\n                this._bgSprite.graphics.drawRect(0, 0, this._bgSprite.width, this._bgSprite.height, this._bgColor);\n            }\n        }\n        else if (this._bgType == 2) {\n            if (this._bgImage && this._bgSkin) {\n                this._bgImage.skin = this._bgSkin;\n                this._bgImage.sizeGrid = this._bgSizeGrid || \"\";\n            }\n        }\n        else if (this._bgType == 3) {\n            if (this._bgSprite && this._bgTexture) {\n                Laya.loader.load(this._bgTexture, Laya.Handler.create(this, function (texture) {\n                    try {\n                        _this._bgSprite.graphics.clear();\n                        _this._bgSprite.graphics.fillTexture(texture, 0, 0, _this._bgSprite.width, _this._bgSprite.height, 'repeat');\n                    }\n                    catch (error) {\n                    }\n                }));\n            }\n        }\n    };\n    Background.prototype.resize = function () {\n        if (this._bgSprite) {\n            this._bgSprite.width = screen_1.default.getWidth();\n            this._bgSprite.height = screen_1.default.getHeight();\n        }\n        if (this._bgImage) {\n            this._bgImage.width = screen_1.default.getWidth();\n            this._bgImage.height = screen_1.default.getHeight();\n        }\n        this._onResize && this._onResize(this);\n        this._drawBg();\n    };\n    Background.prototype.setBgAlpha = function (bgAlpha) {\n        this._bgAlpha = bgAlpha;\n        this._drawBg();\n    };\n    Background.prototype.setBgColor = function (color) {\n        this._bgType = 1;\n        this._bgColor = color;\n        this._drawBg();\n    };\n    Background.prototype.setBgSkin = function (url, sizeGrid) {\n        if (sizeGrid === void 0) { sizeGrid = null; }\n        this._bgType = 2;\n        this._bgSkin = url;\n        this._bgSizeGrid = sizeGrid;\n        this._drawBg();\n    };\n    Background.prototype.setBgTexture = function (url) {\n        this._bgType = 3;\n        this._bgTexture = url;\n        this._drawBg();\n    };\n    Background.prototype.getBgSprite = function () {\n        return this._bgSprite;\n    };\n    return Background;\n}(Laya.Component));\nexports.default = Background;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar uimgr_1 = require(\"../manager/uimgr\");\nvar env_1 = require(\"../env\");\nvar init_1 = require(\"./init\");\nvar json_1 = require(\"../../utils/json\");\nvar _indexID = 1;\nfunction genID(obj) {\n    var name = env_1.getClassName(obj) || \"Activity\";\n    return name + \"$\" + _indexID++;\n}\nfunction getRes(unpackFile, res) {\n    if (unpackFile) {\n        return json_1.loadJson(unpackFile, true).catch(function () {\n            return [];\n        }).then(function (data) {\n            return res.concat(data.map(function (item) {\n                return {\n                    url: item,\n                    tyep: Laya.Loader.IMAGE\n                };\n            }));\n        });\n    }\n    return Promise.resolve(res);\n}\nvar default_1 = /** @class */ (function (_super) {\n    __extends(default_1, _super);\n    function default_1(options) {\n        var _this = _super.call(this) || this;\n        _this._options = null;\n        _this._activity = null;\n        _this._isFocus = false;\n        _this._pageName = \"\";\n        _this.visible = false;\n        _this._options = options;\n        _this._pageName = genID(_this._options.page);\n        env_1.default.printDebug(\"init\", _this._getPageName());\n        getRes(_this._options.page.unpackFile, _this._options.page.res || []).catch(function () {\n            return [];\n        }).then(function (res) {\n            if (res && res.length > 0) {\n                Laya.loader.load(res, Laya.Handler.create(_this, function () {\n                    _this._newActivity();\n                    setTimeout(function () { _this._onLoaded(); }, 100);\n                    env_1.default.printDebug(\"onLoaded\", _this._getPageName());\n                }), Laya.Handler.create(_this, function (progress) {\n                    env_1.default.printDebug(\"onLoadProgress\", _this._getPageName(), progress);\n                    _this._onLoadProgress(progress);\n                }, null, false));\n            }\n            else {\n                _this._newActivity();\n                _this._onLoaded();\n                env_1.default.printDebug(\"onLoaded\", _this._getPageName());\n                env_1.default.printDebug(\"onLoadProgress\", _this._getPageName(), 1);\n            }\n        });\n        return _this;\n    }\n    default_1.prototype._getPageName = function () {\n        return this._pageName;\n    };\n    default_1.prototype._newActivity = function () {\n        if (this._activity) {\n            return;\n        }\n        this._activity = new this._options.page();\n        this._activity.page = this._options.page;\n        this._activity.params = Object.assign({}, this._options.params || {});\n        this._activity[\"_ID\"] = this._pageName;\n        env_1.default.printDebug(\"newActivity\", this._getPageName());\n    };\n    default_1.prototype._onLoaded = function () {\n        var _this = this;\n        init_1.onNavigatorReady().then(function () {\n            _this._options.onLoaded && _this._options.onLoaded(_this);\n            _this.addChild(_this._activity);\n            env_1.default.printDebug(\"onCreate\", _this._getPageName());\n            _this._activity.onCreate && _this._activity.onCreate();\n            _this._options.onShow && _this._options.onShow();\n        });\n    };\n    default_1.prototype._onLoadProgress = function (progress) {\n        this._options.onLoadProgress && this._options.onLoadProgress(this, progress);\n    };\n    default_1.prototype.nextProgress = function (progress) {\n        this._activity.onNextProgress && this._activity.onNextProgress(progress);\n    };\n    default_1.prototype.filter = function (page, activity) {\n        if (page === this._options.page) {\n            return !activity || activity === this._activity;\n        }\n        return false;\n    };\n    default_1.prototype.show = function (anim, callback) {\n        if (this.visible) {\n            return;\n        }\n        if (this._activity.isShow) {\n            return;\n        }\n        this._activity.isShow = true;\n        var easeIn = this._activity.easeIn || Laya.Ease.linearIn;\n        var duration = this._activity.duration || 0;\n        var fromProps = this._activity.fromProps || {};\n        var toProps = this._activity.toProps || {};\n        if (anim && duration > 0) {\n            Object.assign(this, fromProps);\n            env_1.default.printDebug(\"onResume\", this._getPageName());\n            this._activity.onResume && this._activity.onResume();\n            this.visible = true;\n            Laya.Tween.to(this, toProps, duration, easeIn, Laya.Handler.create(this, function () {\n                callback && callback();\n            }));\n        }\n        else {\n            env_1.default.printDebug(\"onResume\", this._getPageName());\n            this._activity.onResume && this._activity.onResume();\n            this.visible = true;\n            callback && callback();\n        }\n        uimgr_1.default.checkFocus();\n    };\n    default_1.prototype.hide = function (anim, callback) {\n        var _this = this;\n        if (!this.visible) {\n            return;\n        }\n        if (!this._activity.isShow) {\n            return;\n        }\n        this._activity.isShow = false;\n        var easeOut = this._activity.easeOut || Laya.Ease.linearIn;\n        var duration = this._activity.duration || 0;\n        var fromProps = this._activity.toProps || {};\n        var toProps = this._activity.exitProps || {};\n        if (anim && duration > 0) {\n            Object.assign(this, fromProps);\n            env_1.default.printDebug(\"onPause\", this._getPageName());\n            this._activity.onPause && this._activity.onPause();\n            Laya.Tween.to(this, toProps, duration, easeOut, Laya.Handler.create(this, function () {\n                _this.visible = true;\n                callback && callback();\n            }));\n        }\n        else {\n            env_1.default.printDebug(\"onPause\", this._getPageName());\n            this._activity.onPause && this._activity.onPause();\n            this.visible = false;\n            callback && callback();\n        }\n        this.focus(false);\n    };\n    default_1.prototype.exit = function () {\n        env_1.default.printDebug(\"onDestroy\", this._getPageName());\n        this._activity.onDestroy && this._activity.onDestroy();\n        this.destroy();\n    };\n    default_1.prototype.focus = function (focus) {\n        if (this._isFocus === focus) {\n            return;\n        }\n        this._isFocus = focus;\n        env_1.default.printDebug(\"onFocus\", this._getPageName(), focus);\n        this._activity.onFocus && this._activity.onFocus(focus);\n    };\n    return default_1;\n}(Laya.Component));\nexports.default = default_1;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar stack_1 = require(\"./stack\");\nvar _options = null;\nvar _inited = false;\nvar _isReady = false;\nvar _readyResolve = null;\nvar _readyPromise = new Promise(function (resolve) {\n    _readyResolve = resolve;\n});\nfunction _enableResourceVersion() {\n    if (_options && _options.fileVersion) {\n        Laya.ResourceVersion.type = Laya.ResourceVersion.FILENAME_VERSION;\n        Laya.ResourceVersion.enable(_options.fileVersion, Laya.Handler.create(null, function () {\n            _beginLoadStaticRes();\n        }));\n    }\n    else {\n        _beginLoadStaticRes();\n    }\n}\nfunction _beginLoadStaticRes() {\n    var res = _options.commonRes || [];\n    if (res.length > 0) {\n        Laya.loader.load(res, Laya.Handler.create(null, function () {\n            _onStaticResLoaded();\n            _options.onLoaded && _options.onLoaded();\n        }), Laya.Handler.create(this, function (progress) {\n            _options.onLoadProgress && _options.onLoadProgress(progress);\n        }, null, false));\n    }\n    else {\n        _options.onLoadProgress && _options.onLoadProgress(100);\n        _options.onLoaded && _options.onLoaded();\n        _onStaticResLoaded();\n    }\n}\nfunction _onStaticResLoaded() {\n    _options.mainPage && stack_1.default.navigate(_options.mainPage);\n}\nfunction initNavigator(options) {\n    if (!options || _inited) {\n        return;\n    }\n    _options = options;\n    _enableResourceVersion();\n    _inited = true;\n}\nexports.initNavigator = initNavigator;\nfunction onNavigatorReady() {\n    if (_isReady) {\n        return Promise.resolve();\n    }\n    return _readyPromise;\n}\nexports.onNavigatorReady = onNavigatorReady;\nfunction setNavigatorReady() {\n    if (_isReady) {\n        return;\n    }\n    _isReady = true;\n    _readyResolve();\n    _readyResolve = null;\n    _readyPromise = null;\n}\nexports.setNavigatorReady = setNavigatorReady;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _temp = {};\nvar _reject = {};\nvar _listener = false;\nfunction _initListener() {\n    if (_listener) {\n        return;\n    }\n    _listener = true;\n    Laya.loader.on(Laya.Event.ERROR, this, function (url) {\n        if (_reject[url]) {\n            _reject[url](\"load res error: \" + url);\n        }\n    });\n}\nfunction loadJson(url, force) {\n    var _this = this;\n    if (force === void 0) { force = false; }\n    if (!force && _temp[url]) {\n        return Promise.resolve(_temp[url]);\n    }\n    _initListener();\n    return new Promise(function (resolve, reject) {\n        _reject[url] = reject;\n        Laya.loader.load([{ url: url, type: Laya.Loader.JSON }], Laya.Handler.create(_this, function () {\n            var val = Laya.loader.getRes(url);\n            if (val) {\n                _temp[url] = val;\n                resolve(val);\n            }\n            else {\n                reject();\n            }\n            delete _reject[url];\n        }));\n    });\n}\nexports.loadJson = loadJson;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction removeItemForWhere(array, where) {\n    if (typeof where === 'function') {\n        var removeIndexArray_1 = [];\n        array.forEach(function (value, index) {\n            if (where(value)) {\n                removeIndexArray_1.push(index);\n            }\n        });\n        removeIndexArray_1.reverse();\n        removeIndexArray_1.forEach(function (index) {\n            array.splice(index, 1);\n        });\n    }\n}\nvar Looper = /** @class */ (function () {\n    function Looper() {\n        this._tasks = [];\n        this._hasLoop = false;\n    }\n    Looper.prototype._checkLoop = function () {\n        var _this = this;\n        if (this._tasks.length > 0) {\n            if (!this._hasLoop) {\n                Laya.timer.frameLoop(1, this, function () {\n                    _this._tasks.forEach(function (task) {\n                        var caller = task.caller, callback = task.callback;\n                        callback.apply(caller);\n                    });\n                });\n                this._hasLoop = true;\n            }\n        }\n        else {\n            if (this._hasLoop) {\n                Laya.timer.clearAll(this);\n                this._hasLoop = false;\n            }\n        }\n    };\n    Looper.prototype.loop = function (caller, callback) {\n        var filterTasks = this._tasks.filter(function (task) {\n            return task.caller == caller && task.callback == callback;\n        });\n        if (filterTasks.length == 0) {\n            this._tasks.push({\n                caller: caller,\n                callback: callback,\n            });\n            this._checkLoop();\n        }\n    };\n    Looper.prototype.clear = function (caller, callback) {\n        removeItemForWhere(this._tasks, function (task) {\n            return task.caller == caller && (!callback || task.callback == callback);\n        });\n        this._checkLoop();\n    };\n    return Looper;\n}());\nexports.Looper = Looper;\nexports.default = new Looper;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction _toNumber_(value) {\n    try {\n        return JSON.parse(value);\n    }\n    catch (ex) {\n        return parseFloat(value);\n    }\n}\nfunction _toBoolean_(value) {\n    return !!value && value != 'false' && value != '0';\n}\nfunction _toString_(value, def) {\n    try {\n        var type = typeof value;\n        if (type === 'string') {\n            return value;\n        }\n        else if (type === 'boolean') {\n            return value ? 'true' : 'false';\n        }\n        else if (type === 'number') {\n            return \"\" + value;\n        }\n        else if (type === 'object') {\n            return JSON.stringify(value);\n        }\n    }\n    catch (ex) {\n    }\n    return def;\n}\nfunction _toObject_(value, def) {\n    if (typeof value === 'object') {\n        return value;\n    }\n    try {\n        return JSON.parse(value);\n    }\n    catch (ex) {\n    }\n    return def;\n}\nfunction _inferType(value) {\n    if (typeof value !== 'string') {\n        return typeof value;\n    }\n    try {\n        var parsed = JSON.parse(value);\n        return typeof parsed;\n    }\n    catch (ex) {\n        // might be a pure number\n        var number = parseFloat(value);\n        if (!isNaN(number) && \"\" + number === value) {\n            return 'number';\n        }\n        return 'string';\n    }\n}\nfunction toAny(value, def) {\n    if (value === undefined || value === null) {\n        return def;\n    }\n    // try to infer type and return\n    var type = _inferType(value);\n    if (def !== undefined && def !== null) {\n        type = typeof def;\n    }\n    switch (type) {\n        case 'number':\n            return _toNumber_(value);\n        case 'boolean':\n            return _toBoolean_(value);\n        case 'object':\n            return _toObject_(value, def);\n        case 'string':\n            return _toString_(value, def);\n        default:\n            break;\n    }\n    return def;\n}\nexports.toAny = toAny;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar env_1 = require(\"../env\");\nvar uimgr_1 = require(\"../manager/uimgr\");\nvar _popups = {};\nvar _fromProps = { alpha: 0 };\nvar _toProps = { alpha: 1 };\nvar _exitProps = { alpha: 0 };\nfunction _showPopupAnim(popupView, cb) {\n    // ui anim\n    var uiDuration = popupView.uiDuration || 300;\n    var uiFromProps = popupView.uiFromProps || {};\n    var uiToProps = popupView.uiToProps || {};\n    var uiEaseIn = popupView.uiEaseIn || Laya.Ease.linearIn;\n    Object.assign(popupView.ui, uiFromProps);\n    Laya.Tween.to(popupView.ui, uiToProps, uiDuration, uiEaseIn);\n    // view anim\n    var duration = popupView.duration || 300;\n    var from = popupView.fromProps || _fromProps || {};\n    var to = popupView.toProps || _toProps || {};\n    var easeIn = popupView.easeIn || Laya.Ease.linearIn;\n    Object.assign(popupView, from);\n    Laya.Tween.to(popupView, to, duration, easeIn, Laya.Handler.create(this, function () {\n        cb && cb(popupView);\n    }));\n}\nfunction _hidePopupAnim(popupView, cb) {\n    // ui anim\n    var uiDuration = popupView.uiDuration || 300;\n    var uiToProps = popupView.uiToProps || {};\n    var uiExitProps = popupView.uiExitProps || {};\n    var uiEaseOut = popupView.uiEaseOut || Laya.Ease.linearOut;\n    Object.assign(popupView.ui, uiToProps);\n    Laya.Tween.to(popupView.ui, uiExitProps, uiDuration, uiEaseOut);\n    // view anim\n    var duration = popupView.duration || 300;\n    var toProps = popupView.toProps || _toProps || {};\n    var exitProps = popupView.exitProps || _exitProps || {};\n    var easeOut = popupView.easeOut || Laya.Ease.linearOut;\n    Object.assign(popupView, toProps);\n    Laya.Tween.to(popupView, exitProps, duration, easeOut, Laya.Handler.create(this, function () {\n        cb && cb(popupView);\n    }), Math.max(0, uiDuration - duration));\n}\nfunction _hidePopup(view, result) {\n    _hidePopupAnim(view, function () {\n        view._onHide && view._onHide(view.popup, result);\n        view.isShow = false;\n        view.onHide && view.onHide(view.popup, result);\n        view.removeSelf && view.removeSelf();\n        view.destroy && view.destroy();\n        uimgr_1.default.checkFocus();\n    });\n}\nfunction _showPopup(view) {\n    _showPopupAnim(view, function () {\n        view.isShow = true;\n    });\n}\nfunction showPopup(popup, params, onHide, alias) {\n    if (params === void 0) { params = null; }\n    if (onHide === void 0) { onHide = null; }\n    if (alias === void 0) { alias = \"default\"; }\n    var mapKey = alias + \"_\" + env_1.getClassName(popup);\n    var views = _popups[mapKey];\n    var view = new popup();\n    view.alias = alias;\n    view.popup = popup;\n    view.params = params || {};\n    view._onHide = onHide;\n    if (views) {\n        views.push(view);\n    }\n    else {\n        _popups[mapKey] = [view];\n    }\n    if (view.topLevel) {\n        uimgr_1.default.addViewTopLayer(view);\n    }\n    else {\n        uimgr_1.default.addViewToMainLayer(view);\n    }\n    view.onShow && view.onShow();\n    _showPopup(view);\n}\nfunction hidePopup(popup, view, result, alias) {\n    if (view === void 0) { view = null; }\n    if (result === void 0) { result = {}; }\n    if (alias === void 0) { alias = \"default\"; }\n    var mapKey = alias + \"_\" + env_1.getClassName(popup);\n    var views = _popups[mapKey];\n    if (view) {\n        var index = views ? views.indexOf(view) : -1;\n        if (index < 0) {\n            return;\n        }\n        views.splice(index, 1);\n        _hidePopup(view, result);\n    }\n    else {\n        views && views.splice(0, views.length).forEach(function (v) {\n            _hidePopup(v, result || { close: true });\n        });\n    }\n}\nexports.default = {\n    showPopup: showPopup,\n    hidePopup: hidePopup\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar uimgr_1 = require(\"../manager/uimgr\");\nvar _toasts = {};\nfunction _pushToast(toast, view) {\n    if (_toasts[toast]) {\n        _toasts[toast].push(view);\n    }\n    else {\n        _toasts[toast] = [view];\n    }\n}\nfunction _popToast(toast, view) {\n    if (!_toasts[toast]) {\n        return [];\n    }\n    if (view && _toasts[toast].length > 1) {\n        _toasts[toast].splice(_toasts[toast].indexOf(view), 1);\n        return [view];\n    }\n    else {\n        var views = _toasts[toast] || [];\n        delete _toasts[toast];\n        return views;\n    }\n}\nfunction showToast(toast, params, onHide) {\n    if (params === void 0) { params = null; }\n    if (onHide === void 0) { onHide = null; }\n    var view = new toast;\n    view._on_hide = onHide;\n    view.toast = toast;\n    view.params = params || {};\n    view.onShow && view.onShow();\n    var from = view.fromProps || { alpha: 0 };\n    var to = view.toProps || { alpha: 1 };\n    var exit = view.exitProps || { alpha: 0 };\n    var easeIn = view.easeIn || Laya.Ease.linearIn;\n    var easeOut = view.easeOut || Laya.Ease.linearOut;\n    var duration = view.duration;\n    var displayDuration = view.displayDuration;\n    Object.assign(view, from);\n    Laya.Tween.to(view, to, duration, easeIn, Laya.Handler.create(this, function () {\n        view.isShow = true;\n    }), 0);\n    if (displayDuration != -1) {\n        Laya.Tween.to(view, exit, duration, easeOut, Laya.Handler.create(this, function () {\n            if (view) {\n                _popToast(toast, view);\n                view._on_hide && view._on_hide(view.toast);\n                view.isShow = false;\n                view.onHide && view.onHide();\n                view.destroy();\n            }\n        }), displayDuration + duration);\n    }\n    _pushToast(toast, view);\n    if (view.topLevel) {\n        uimgr_1.default.addViewTopLayer(view);\n    }\n    else {\n        uimgr_1.default.addViewToMainLayer(view);\n    }\n}\nfunction hideToast(toast, view) {\n    if (view === void 0) { view = null; }\n    var list = _popToast(toast, view);\n    list.forEach(function (view) {\n        view._on_hide && view._on_hide(view.toast);\n        view.isShow = false;\n        view.onHide && view.onHide();\n        view.destroy();\n    });\n}\nexports.default = {\n    showToast: showToast,\n    hideToast: hideToast,\n};\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar BaseView = /** @class */ (function (_super) {\n    __extends(BaseView, _super);\n    function BaseView() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(BaseView.prototype, \"ui\", {\n        get: function () {\n            return this.getChildByName('_contentView');\n        },\n        set: function (view) {\n            this.removeChildByName('_contentView');\n            view.name = '_contentView';\n            view.mouseThrough = true;\n            this.addChild(view);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return BaseView;\n}(Laya.Component));\nexports.default = BaseView;\n","\"use strict\";\nrequire(\"./adapter\");\nrequire(\"./polyfill\");\nvar eft_1 = require(\"./services/manager/eft\");\nvar screen_1 = require(\"./services/manager/screen\");\nvar speaker_1 = require(\"./services/speaker\");\nvar audio_1 = require(\"./services/audio\");\nvar env_1 = require(\"./services/env\");\nvar js_1 = require(\"./services/js\");\nvar event_1 = require(\"./services/event\");\nvar runtime_1 = require(\"./services/runtime\");\nvar message_1 = require(\"./services/message\");\nvar utils_1 = require(\"./services/utils\");\nvar stack_1 = require(\"./services/navigator/stack\");\nvar popupmanager_1 = require(\"./services/display/popupmanager\");\nvar toastmanager_1 = require(\"./services/display/toastmanager\");\nvar activity_1 = require(\"./services/display/activity\");\nvar popupview_1 = require(\"./services/display/popupview\");\nvar toastview_1 = require(\"./services/display/toastview\");\nvar baseview_1 = require(\"./services/display/baseview\");\nvar query_1 = require(\"./utils/query\");\nvar init_1 = require(\"./services/init\");\nvar OHOGame = Object.assign({}, {\n    init: init_1.init,\n    init3D: init_1.init3D,\n    start: init_1.start,\n    getQueryString: query_1.getQueryString,\n    setTransparent: init_1.setTransparent,\n    setAdapterInfo: init_1.setAdapterInfo,\n    getBg: screen_1.default.getBg,\n    env: env_1.default,\n    js: js_1.default,\n    eft: eft_1.default,\n    screen: screen_1.default,\n    speaker: speaker_1.default,\n    audio: audio_1.default,\n    event: event_1.default,\n    runtime: runtime_1.default,\n    navigator: stack_1.default,\n    utils: utils_1.default,\n    popup: popupmanager_1.default,\n    toast: toastmanager_1.default,\n    message: message_1.default,\n    Activity: activity_1.default,\n    PopupView: popupview_1.default,\n    ToastView: toastview_1.default,\n    BaseView: baseview_1.default\n});\nif (typeof window !== \"undefined\") {\n    window.OHOGame = OHOGame;\n}\nmodule.exports = {\n    OHOGame: OHOGame\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nrequire(\"./_transsion\");\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar hook_1 = require(\"../services/hook\");\n// loader\nif (Laya && Laya.Loader) {\n    var Handler = Laya.Handler;\n    var Loader = Laya.Loader;\n    var HttpRequest = Laya.HttpRequest;\n    var __proto = Loader.prototype;\n    __proto.load = function (url, type, cache, group, ignoreCache) {\n        (cache === void 0) && (cache = true);\n        (ignoreCache === void 0) && (ignoreCache = false);\n        this._url = url;\n        if (url.indexOf(\"data:image\") === 0)\n            this._type = type = \"image\";\n        else {\n            this._type = type || (type = this.getTypeFromUrl(url));\n            url = Laya.URL.formatURL(url);\n        }\n        this._cache = cache;\n        this._data = null;\n        if (!ignoreCache && Loader.loadedMap[url]) {\n            this._data = Loader.loadedMap[url];\n            this.event(/*laya.events.Event.PROGRESS*/ \"progress\", 1);\n            this.event(/*laya.events.Event.COMPLETE*/ \"complete\", this._data);\n            return;\n        }\n        if (group)\n            Loader.setGroup(url, group);\n        if (Loader.parserMap[type] != null) {\n            this._customParse = true;\n            if (((Loader.parserMap[type]) instanceof Handler))\n                Loader.parserMap[type].runWith(this);\n            else\n                Loader.parserMap[type].call(null, this);\n            return;\n        }\n        if (type === \"image\" || type === \"htmlimage\" || type === \"nativeimage\")\n            return this._loadImage(url);\n        if (type === \"sound\")\n            return this._loadSound(url);\n        if (type === \"ttf\")\n            return this._loadTTF(url);\n        try {\n            // \n            if (typeof loadRuntime !== 'undefined' && !url.startsWith(\"http\")) {\n                var that = this;\n                setTimeout(function () {\n                    if (url.startsWith('file://')) {\n                        url = url.substr('file://'.length);\n                    }\n                    var response;\n                    if (type == 'pkm' || type === \"arraybuffer\") {\n                        response = rt.getFileSystemManager().readFileSync(url);\n                    }\n                    else {\n                        response = rt.getFileSystemManager().readFileSync(url, \"utf8\");\n                        if ((type == 'atlas' || type == 'json') && typeof response !== \"undefined\") {\n                            response = JSON.parse(response);\n                        }\n                    }\n                    that.onLoaded(response);\n                }, 0);\n                return; // return\n            }\n        }\n        catch (error) {\n        }\n        //  laya \n        var contentType;\n        switch (type) {\n            case \"atlas\":\n            case \"plf\":\n                contentType = \"json\";\n                break;\n            case \"font\":\n                contentType = \"xml\";\n                break;\n            case \"pkm\":\n                contentType = \"arraybuffer\";\n                break;\n            default:\n                contentType = type;\n        }\n        if (Loader.preLoadedMap[url]) {\n            this.onLoaded(Loader.preLoadedMap[url]);\n        }\n        else {\n            if (!this._http) {\n                this._http = new HttpRequest();\n                this._http.on(/*laya.events.Event.PROGRESS*/ \"progress\", this, this.onProgress);\n                this._http.on(/*laya.events.Event.ERROR*/ \"error\", this, this.onError);\n                this._http.on(/*laya.events.Event.COMPLETE*/ \"complete\", this, this.onLoaded);\n            }\n            this._http.send(url, null, \"get\", contentType);\n        }\n    };\n}\n// ui\nhook_1.default.onInit(function (width, height) {\n    if (typeof window !== \"undefined\" && typeof window['getAdapterInfo'] !== \"undefined\") {\n        var stage = Laya.stage;\n        var info = window['getAdapterInfo']({ width: width, height: height, scaleMode: Laya.stage.scaleMode });\n        stage.width = info.rw;\n        stage.height = info.rh;\n    }\n});\n","if (typeof Object.assign != 'function') {\n    // Must be writable: true, enumerable: false, configurable: true\n    Object.defineProperty(Object, \"assign\", {\n        value: function assign(target, varArgs) {\n            'use strict';\n            if (target == null) { // TypeError if undefined or null\n                throw new TypeError('Cannot convert undefined or null to object');\n            }\n            var to = Object(target);\n            for (var index = 1; index < arguments.length; index++) {\n                var nextSource = arguments[index];\n                if (nextSource != null) { // Skip over if undefined or null\n                    for (var nextKey in nextSource) {\n                        // Avoid bugs when hasOwnProperty is shadowed\n                        if (Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {\n                            to[nextKey] = nextSource[nextKey];\n                        }\n                    }\n                }\n            }\n            return to;\n        },\n        writable: true,\n        configurable: true\n    });\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _dic = new Laya.Dictionary();\nvar _mcpool = new Laya.Dictionary();\nvar _inst = {};\nfunction onLoadComplet(path, mc, play, loop, loadComplet, thisRef) {\n    var arr = _dic[path].arr;\n    for (var i = 0; i < arr.length; i++) {\n        arr[i][0][\"_url\"] = path;\n        arr[i][0][\"_atlasPath\"] = path.split(\".swf\")[0] + \".json\";\n        arr[i][0][\"_onLoaded\"]();\n        if (arr[i][1])\n            arr[i][0].play(0, arr[i][2]);\n        else\n            arr[i][0].stop();\n        if (arr[i][3]) {\n            arr[i][3].apply(arr[i][4], [arr[i][0]]);\n        }\n    }\n    if (play) {\n        mc.play(0, loop);\n    }\n    else {\n        mc.stop();\n    }\n    if (loadComplet) {\n        loadComplet.apply(thisRef, [mc]);\n    }\n    _dic[path].arr = [];\n    mc.off(Laya.Event.LOADED, _inst, onLoadComplet);\n    _dic[path].load = true;\n}\nfunction remove(mc) {\n    if (!mc) {\n        return;\n    }\n    mc.scaleX = mc.scaleY = 1;\n    mc.pivotX = mc.pivotY = 0;\n    mc[\"anchorX\"] = mc[\"anchorY\"] = 0;\n    mc.alpha = 1;\n    Laya.Tween.clearAll(mc);\n    mc.stop();\n    if (mc.parent)\n        mc.parent.removeChild(mc);\n    _mcpool[mc[\"path\"]].push(mc);\n}\nfunction create(path, play, loop, loadComplet, thisRef) {\n    if (play === void 0) { play = true; }\n    if (loop === void 0) { loop = true; }\n    if (loadComplet === void 0) { loadComplet = null; }\n    if (thisRef === void 0) { thisRef = null; }\n    var mc;\n    if (!_mcpool[path])\n        _mcpool[path] = [];\n    if (_mcpool[path].length > 0) {\n        mc = _mcpool[path].shift();\n    }\n    else {\n        mc = new Laya.MovieClip();\n    }\n    mc[\"path\"] = path;\n    if (_dic[path]) {\n        if (_dic[path].load) {\n            mc[\"_url\"] = path;\n            mc[\"_atlasPath\"] = path.split(\".swf\")[0] + \".json\";\n            mc[\"_onLoaded\"]();\n            if (play)\n                mc.play(0, loop);\n            else\n                mc.stop();\n            if (loadComplet)\n                loadComplet.apply(thisRef, [mc]);\n        }\n        else {\n            _dic[path].arr.push([mc, play, loop, loadComplet, thisRef]);\n        }\n    }\n    else {\n        _dic[path] = { load: false, arr: [] };\n        mc.on(Laya.Event.LOADED, _inst, onLoadComplet, [path, mc, play, loop, loadComplet, thisRef]);\n        mc.load(path, true);\n    }\n    return mc;\n}\nexports.default = {\n    create: create,\n    remove: remove\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar event_1 = require(\"./event\");\nvar _initialized = false;\nvar _callbacks = [];\nfunction _handleChanged() {\n    _callbacks.forEach(function (callback) {\n        callback && callback();\n    });\n}\nfunction _initialize() {\n    if (_initialized) {\n        return;\n    }\n    _initialized = true;\n    if (typeof window !== \"undefined\") {\n        event_1.onAttachEvent(window, 'touchmove', _handleChanged);\n        event_1.onAttachEvent(window, 'scroll', _handleChanged);\n        event_1.onAttachEvent(window, 'resize', _handleChanged);\n    }\n    if (typeof document !== \"undefined\") {\n        event_1.onAttachEvent(document, 'DOMContentLoaded', _handleChanged);\n    }\n}\nfunction offResize(callback) {\n    if (callback && typeof callback == 'function') {\n        var index = _callbacks.indexOf(callback);\n        if (index >= 0) {\n            _callbacks.splice(index, 1);\n        }\n    }\n}\nexports.offResize = offResize;\nfunction onResize(callback) {\n    _initialize();\n    if (callback && typeof callback == 'function' && _callbacks.indexOf(callback) < 0) {\n        _callbacks.push(callback);\n        callback && callback();\n    }\n}\nexports.onResize = onResize;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction onAttachEvent(elem, event, fn) {\n    if (elem.addEventListener != null) {\n        return elem.addEventListener(event, fn, false);\n    }\n    else if (elem.attachEvent != null) {\n        return elem.attachEvent(\"on\" + event, fn);\n    }\n    else {\n        return elem[event] = fn;\n    }\n}\nexports.onAttachEvent = onAttachEvent;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar looper_1 = require(\"../../utils/looper\");\nvar _chancel_1 = require(\"./_chancel\");\nvar vowelsByFormantJP = [\"i\", \"u\", \"e\", \"o\", \"a\"];\nvar vowelFormantFloorJP = [0, 500, 600, 900, 1200];\nvar vowelsByFormantCN = [\"i\", \"v\", \"u\", \"e\", \"o\", \"a\"];\nvar vowelFormantFloorCN = [0, 200, 500, 600, 900, 1200];\nfunction getVowelByFormant(formantValue, language) {\n    var result = \"-\";\n    var currentVowels = vowelsByFormantCN;\n    var currentVowelFormantCeilValues = vowelFormantFloorCN;\n    if (language == 'jp' || language == 'japanese') {\n        currentVowels = vowelsByFormantJP;\n        currentVowelFormantCeilValues = vowelFormantFloorJP;\n    }\n    for (var m = 0; m < currentVowelFormantCeilValues.length; m++) {\n        if (formantValue > currentVowelFormantCeilValues[m]) {\n            result = currentVowels[m];\n        }\n    }\n    return result;\n}\nfunction fixWechatAudioPlay(callback) {\n    if (window && window['WeixinJSBridge']) {\n        try {\n            window['WeixinJSBridge'].invoke(\"getNetworkType\", {}, function () {\n                callback && callback();\n            });\n        }\n        catch (e) {\n            callback && callback();\n        }\n    }\n    else {\n        callback && callback();\n    }\n}\nvar SpeakerController = /** @class */ (function () {\n    function SpeakerController(options) {\n        this._onPlay = null;\n        this._onStop = null;\n        this._onError = null;\n        this._onProgress = null;\n        this._onComplete = null;\n        this._options = null;\n        this._playTime = 0;\n        this._auidoUrl = null;\n        this._position = -1;\n        this._duration = -1;\n        this._formant = null;\n        this._speaking = false;\n        this._language = \"chinese\";\n        this._chancel = null;\n        this._options = options;\n    }\n    SpeakerController.prototype._update = function () {\n        if (this._chancel) {\n            this._formant = this._chancel.formant;\n            this._position = this._chancel.position;\n            this._duration = this._chancel.duration;\n            if (!this._speaking && this._position > 0) {\n                this._speaking = true;\n                this._onPlay && this._onPlay();\n            }\n            if (this._speaking && this._duration > 0) {\n                if (this._position > this._duration) {\n                    this._onComplete && this._onComplete();\n                    this.stop();\n                }\n                else {\n                    this._onProgress && this._onProgress({\n                        position: this._position,\n                        duration: this._duration,\n                    });\n                }\n            }\n            else if (Date.now() - this._playTime > 2000) {\n                this._onError && this._onError();\n                this.stop();\n            }\n        }\n    };\n    Object.defineProperty(SpeakerController.prototype, \"url\", {\n        get: function () {\n            return this._auidoUrl;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(SpeakerController.prototype, \"position\", {\n        get: function () {\n            return this._position;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(SpeakerController.prototype, \"duration\", {\n        get: function () {\n            return this._duration;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    SpeakerController.prototype.onPlay = function (callback) {\n        this._onPlay = callback;\n    };\n    SpeakerController.prototype.onStop = function (callback) {\n        this._onStop = callback;\n    };\n    SpeakerController.prototype.onProgress = function (callback) {\n        this._onProgress = callback;\n    };\n    SpeakerController.prototype.onComplete = function (callback) {\n        this._onComplete = callback;\n    };\n    SpeakerController.prototype.onError = function (callback) {\n        this._onError = callback;\n    };\n    SpeakerController.prototype.getFormant = function () {\n        if (!this.isSpeaking()) {\n            return 0;\n        }\n        return this._formant;\n    };\n    SpeakerController.prototype.getVowel = function () {\n        return getVowelByFormant(this.getFormant(), this._language);\n    };\n    SpeakerController.prototype.isSpeaking = function () {\n        return this._speaking;\n    };\n    SpeakerController.prototype.speak = function (url, language) {\n        var _this = this;\n        if (language === void 0) { language = 'chinese'; }\n        this._auidoUrl = url;\n        this._language = language;\n        fixWechatAudioPlay(function () {\n            if (_this._auidoUrl) {\n                _this.stop();\n                _this._playTime = Date.now();\n                _this._chancel = _chancel_1.default.playSpeak(_this._auidoUrl, _this._onError, _this._options);\n                looper_1.default.loop(_this, _this._update);\n            }\n        });\n    };\n    SpeakerController.prototype.stop = function () {\n        if (!this._chancel) {\n            return;\n        }\n        this._onStop && this._onStop();\n        this._chancel.stop();\n        this._chancel = null;\n        this._speaking = false;\n        looper_1.default.clear(this, this._update);\n    };\n    return SpeakerController;\n}());\nfunction create(options) {\n    return new SpeakerController(options);\n}\nexports.default = {\n    create: create\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _peaks_1 = require(\"./_peaks\");\nvar _loadres_1 = require(\"./_loadres\");\nvar FixAudioContext = AudioContext || webkitAudioContext\n    || mozAudioContext || msAudioContext;\nvar _CHANCELS = [];\nvar SpeakerChancel = /** @class */ (function () {\n    function SpeakerChancel(url, onError, options) {\n        if (options === void 0) { options = {}; }\n        this.stopped = false;\n        this._audioUrl = url;\n        this._onErrorCallback = onError;\n        this._options = options;\n        this.amplitudeThreshold = 0.02;\n        this.audioCtx = new FixAudioContext({\n            sampleRate: this._options && this._options.sampleRate || 44100\n        });\n        this.sourceNode = this.audioCtx.createBufferSource();\n        this.analyserNode = this.audioCtx.createAnalyser();\n        this.analyserNode.fftSize = this._options && this._options.fftSize || 2048;\n        this.windowSize = this.analyserNode.frequencyBinCount;\n        this.gaussianFilters = _peaks_1.default.generateGaussianFilter(7, 5);\n        this.sourceNode.disconnect();\n        this.sourceNode.connect(this.analyserNode);\n        this.play();\n    }\n    Object.defineProperty(SpeakerChancel.prototype, \"url\", {\n        get: function () {\n            return this._audioUrl;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(SpeakerChancel.prototype, \"position\", {\n        get: function () {\n            return this.audioCtx && this.audioCtx.currentTime || 0;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(SpeakerChancel.prototype, \"duration\", {\n        get: function () {\n            return this.sourceNode\n                && this.sourceNode.buffer\n                && this.sourceNode.buffer.duration || 0;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(SpeakerChancel.prototype, \"formant\", {\n        get: function () {\n            var currentAudioData = new Uint8Array(this.windowSize);\n            this.analyserNode.getByteFrequencyData(currentAudioData);\n            var currentAudioSpectrum = _peaks_1.default.discreteCosineTransform(currentAudioData);\n            var amplitudeSum = 0.0;\n            for (var k = 0; k < currentAudioSpectrum.length; k++) {\n                amplitudeSum += currentAudioSpectrum[k];\n            }\n            if (amplitudeSum >= this.amplitudeThreshold) {\n                var formantArray = [];\n                var smoothedAudioSpectrum = _peaks_1.default.convoluteDataAndFilter(currentAudioSpectrum, this.gaussianFilters, \"Repet\");\n                var _a = _peaks_1.default.findLocalLargestPeaks(smoothedAudioSpectrum, 3), peakValues = _a.peakValues, peakPositions = _a.peakPositions;\n                var frequencyUnit = this.audioCtx.sampleRate / this.windowSize;\n                for (var i = 0; i < peakPositions.length; i++) {\n                    formantArray[i] = peakPositions[i] * (peakValues[i] / frequencyUnit);\n                }\n                var formantAverage_1 = 0;\n                formantArray.forEach(function (formantVal) {\n                    formantAverage_1 += formantVal;\n                });\n                return formantAverage_1 / formantArray.length;\n            }\n            return 0;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    SpeakerChancel.prototype.loadAudioRes = function () {\n        var _this = this;\n        if (!this.loadPromise) {\n            this.loadPromise = new Promise(function (resolve, reject) {\n                _loadres_1.default.loadRes(_this._audioUrl, resolve, function () {\n                    _this.loadPromise = null;\n                    reject && reject();\n                });\n            });\n        }\n        return this.loadPromise;\n    };\n    SpeakerChancel.prototype.play = function () {\n        var _this = this;\n        this.loadAudioRes().then(function (audioData) {\n            _this.audioCtx.decodeAudioData(audioData, function (buffer) {\n                if (_this.stopped) {\n                    return;\n                }\n                _this.sourceNode.buffer = buffer;\n                _this.sourceNode.connect(_this.analyserNode);\n                _this.sourceNode.connect(_this.audioCtx.destination);\n                _this.sourceNode.start();\n            }, function (e) {\n                var errorMsg = \"error decoding audio data: \" + _this._audioUrl;\n                _this._onErrorCallback && _this._onErrorCallback(errorMsg, e);\n            });\n        }).catch(function () {\n            var errorMsg = \"load audio failure: \" + _this._audioUrl;\n            _this._onErrorCallback && _this._onErrorCallback(errorMsg);\n        });\n    };\n    SpeakerChancel.prototype.stop = function () {\n        this.stopped = true;\n        this._onErrorCallback = null;\n        try {\n            var indexOf = _CHANCELS.indexOf(this);\n            if (indexOf >= 0) {\n                _CHANCELS.splice(indexOf, 1);\n            }\n            if (this.sourceNode) {\n                this.sourceNode.stop();\n            }\n        }\n        catch (error) {\n        }\n    };\n    return SpeakerChancel;\n}());\nexports.SpeakerChancel = SpeakerChancel;\nfunction playSpeak(url, onError, options) {\n    var cancel = new SpeakerChancel(url, onError, options);\n    _CHANCELS.push(cancel);\n    return cancel;\n}\nexports.default = {\n    playSpeak: playSpeak\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction getValueFromArray(data, index, paddleType) {\n    if (index >= 0 && index < data.length) {\n        return data[index];\n    }\n    else {\n        switch (paddleType) {\n            case \"Zero\":\n                return 0;\n            case \"Repeat\":\n                return index < 0 ? data[0] : data[data.length - 1];\n            case \"Loop\":\n                var actualIndex = index;\n                while (actualIndex < 0) {\n                    actualIndex += data.length;\n                }\n                actualIndex %= data.length;\n                return data[actualIndex];\n            default:\n                return 0;\n        }\n    }\n}\nfunction generateGaussianFilter(size, deviationSquare) {\n    var result = [];\n    var sum = 0;\n    var mu = (size - 1) / 2;\n    for (var i = 0; i < size; i++) {\n        var param = -((i - mu) * (i - mu)) / (2 * deviationSquare);\n        result[i] = Math.exp(param);\n        sum += result[i];\n    }\n    for (var j = 0; j < size; j++) {\n        result[j] /= sum;\n    }\n    return result;\n}\nfunction discreteCosineTransform(data) {\n    var result = [];\n    var sumCos = 0;\n    data.forEach(function (_, i) {\n        sumCos = 0;\n        data.forEach(function (d2, j) {\n            sumCos += d2 * Math.cos((Math.PI / data.length) * i * (j + 0.5));\n        });\n        result[i] = Math.abs(sumCos);\n    });\n    return result;\n}\n/**\n * Convolute data and filter. Result is sent to output, which must not be shorter than data.\n */\nfunction convoluteDataAndFilter(data, filter, paddleType) {\n    if (paddleType === void 0) { paddleType = \"Repeat\"; }\n    var output = [];\n    var filterMiddlePoint = Math.floor(filter.length / 2);\n    for (var n = 0; n < data.length; n++) {\n        output[n] = 0.0;\n        for (var m = 0; m < filter.length; m++) {\n            output[n] += getValueFromArray(data, n - filterMiddlePoint + m, paddleType) * filter[filter.length - m - 1];\n        }\n    }\n    return output;\n}\nfunction findLocalLargestPeaks(data, length) {\n    var peakNum = 0;\n    var lastPeak = 0;\n    var lastPeakPositions = 0;\n    var isIncreasing = false;\n    var isPeakIncreasing = false;\n    var peakValues = [];\n    var peakPositions = [];\n    for (var i = 0; i < data.length - 1; i++) {\n        if (data[i] < data[i + 1]) {\n            isIncreasing = true;\n        }\n        else {\n            if (isIncreasing == true) {\n                // Peak found.\n                if (lastPeak < data[i]) {\n                    isPeakIncreasing = true;\n                }\n                else {\n                    if (isPeakIncreasing == true) {\n                        // Local largest peak found.\n                        peakValues[peakNum] = lastPeak;\n                        peakPositions[peakNum] = lastPeakPositions;\n                        ++peakNum;\n                    }\n                    isPeakIncreasing = false;\n                }\n                lastPeak = data[i];\n                lastPeakPositions = i;\n            }\n            isIncreasing = false;\n        }\n        if (peakNum >= length) {\n            break;\n        }\n    }\n    return { peakValues: peakValues, peakPositions: peakPositions };\n}\nexports.default = {\n    generateGaussianFilter: generateGaussianFilter,\n    discreteCosineTransform: discreteCosineTransform,\n    convoluteDataAndFilter: convoluteDataAndFilter,\n    findLocalLargestPeaks: findLocalLargestPeaks\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction loadRes(url, callback, failure) {\n    var request = new XMLHttpRequest();\n    request.responseType = \"arraybuffer\";\n    request.open('GET', url, true);\n    request.onload = function () {\n        callback && callback(request.response);\n    };\n    request.onreadystatechange = function () {\n        if (request.readyState === 4) {\n            if (request.status !== 200) {\n                failure && failure();\n            }\n        }\n    };\n    request.send();\n}\nexports.default = {\n    loadRes: loadRes\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar env_1 = require(\"./env\");\nvar looper_1 = require(\"../utils/looper\");\nfunction fixWechatAudioPlay(callback) {\n    if (window && window['WeixinJSBridge']) {\n        try {\n            window['WeixinJSBridge'].invoke(\"getNetworkType\", {}, function () {\n                callback && callback();\n            });\n        }\n        catch (e) {\n            callback && callback();\n        }\n    }\n    else {\n        callback && callback();\n    }\n}\nfunction fixAudioExtension(targetUrl, replaceExt) {\n    var ext = Laya.Utils.getFileExtension(targetUrl);\n    var searchExt = !!ext ? \".\" + ext : '';\n    if (env_1.default.isConchApp() && searchExt != \".wav\" && searchExt != \".ogg\") {\n        return targetUrl.substr(0, targetUrl.length - searchExt.length) + replaceExt;\n    }\n    return targetUrl;\n}\nvar AudioController = /** @class */ (function () {\n    function AudioController(isMusic) {\n        this._auidoUrl = '';\n        this._chancel = null;\n        this._playing = false;\n        this._onPlay = null;\n        this._onPause = null;\n        this._onStop = null;\n        this._onError = null;\n        this._onProgress = null;\n        this._onComplete = null;\n        this._position = -1;\n        this._duration = -1;\n        this._paused = false;\n        this._music = false;\n        this._playTime = 0;\n        this._music = isMusic;\n        if (!isMusic) {\n            AudioController._soundList.push(this);\n        }\n    }\n    AudioController.stopAll = function () {\n        var soundList = AudioController._soundList.splice(0, AudioController._soundList.length);\n        soundList.forEach(function (item) {\n            item && item.stop();\n        });\n    };\n    AudioController.prototype._update = function () {\n        if (this._chancel) {\n            this._position = this._chancel.position;\n            this._duration = this._chancel.duration;\n            if (!this._playing && this._position > 0) {\n                this._playing = true;\n                this._onPlay && this._onPlay();\n            }\n            if (this._playing && this._duration > 0) {\n                this._onProgress && this._onProgress({\n                    position: this.position,\n                    duration: this.duration,\n                });\n            }\n            else if (Date.now() - this._playTime > 2000) {\n                this._onError && this._onError();\n                this.stop();\n            }\n        }\n    };\n    AudioController.prototype.onPlay = function (callback) {\n        this._onPlay = callback;\n    };\n    AudioController.prototype.onStop = function (callback) {\n        this._onStop = callback;\n    };\n    AudioController.prototype.onPause = function (callback) {\n        this._onPause = callback;\n    };\n    AudioController.prototype.onProgress = function (callback) {\n        this._onProgress = callback;\n    };\n    AudioController.prototype.onComplete = function (callback) {\n        this._onComplete = callback;\n    };\n    AudioController.prototype.onError = function (callback) {\n        this._onError = callback;\n    };\n    Object.defineProperty(AudioController.prototype, \"url\", {\n        get: function () {\n            return this._auidoUrl;\n        },\n        set: function (url) {\n            if (this._auidoUrl != url) {\n                this._auidoUrl = url;\n                this.stop();\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AudioController.prototype, \"position\", {\n        get: function () {\n            return this._position;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AudioController.prototype, \"duration\", {\n        get: function () {\n            return this._duration;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    AudioController.prototype.isMusic = function () {\n        return this._music;\n    };\n    AudioController.prototype.isPaused = function () {\n        return this._paused;\n    };\n    AudioController.prototype.isPlaying = function () {\n        return this._playing;\n    };\n    AudioController.prototype.play = function (loops) {\n        var _this = this;\n        if (loops === void 0) { loops = 1; }\n        fixWechatAudioPlay(function () {\n            if (_this._auidoUrl) {\n                _this.stop();\n                var playUrl = fixAudioExtension(_this._auidoUrl, '.ogg');\n                _this._playTime = Date.now();\n                if (_this._music) {\n                    _this._chancel = Laya.SoundManager.playMusic(playUrl, loops, Laya.Handler.create(_this, function () {\n                        _this._onComplete && _this._onComplete();\n                        _this.stop();\n                    }), 0);\n                }\n                else {\n                    _this._chancel = Laya.SoundManager.playSound(playUrl, loops, Laya.Handler.create(_this, function () {\n                        _this._onComplete && _this._onComplete();\n                        _this.stop();\n                    }), null, 0);\n                }\n                looper_1.default.loop(_this, _this._update);\n            }\n        });\n    };\n    AudioController.prototype.pause = function () {\n        if (this._chancel && this._playing) {\n            this._onPause && this._onPause();\n            this._chancel.pause();\n            this._paused = true;\n            this._playing = false;\n            looper_1.default.clear(this, this._update);\n        }\n    };\n    AudioController.prototype.resume = function () {\n        if (this._chancel && this._paused) {\n            this._paused = false;\n            this._chancel.resume();\n            looper_1.default.loop(this, this._update);\n        }\n    };\n    AudioController.prototype.stop = function () {\n        if (this._chancel) {\n            this._onStop && this._onStop();\n            this._chancel.stop();\n            this._paused = false;\n            this._playing = false;\n            Laya.SoundManager.removeChannel(this._chancel);\n            looper_1.default.clear(this, this._update);\n            this._chancel = null;\n        }\n    };\n    AudioController.prototype.destroy = function () {\n        this.stop();\n        this._onComplete = null;\n        this._onProgress = null;\n        this._onPlay = null;\n        this._onStop = null;\n        this._onPause = null;\n    };\n    AudioController._soundList = [];\n    return AudioController;\n}());\nvar _musicAudio = new AudioController(true);\nfunction playMusic(url, loops) {\n    if (loops === void 0) { loops = 1; }\n    _musicAudio.url = url;\n    _musicAudio.play(loops);\n    return _musicAudio;\n}\nfunction playSound(url, loops) {\n    if (loops === void 0) { loops = 1; }\n    var audio = new AudioController(false);\n    audio.url = url;\n    audio.play(loops);\n    return audio;\n}\nfunction stopMusic() {\n    _musicAudio.stop();\n}\nfunction stopAllSound() {\n    AudioController.stopAll();\n}\nfunction stopAll() {\n    stopMusic();\n    stopAllSound();\n}\nfunction setMusicVolume(volume) {\n    Laya.SoundManager.setMusicVolume(volume);\n}\nfunction setSoundVolume(volume) {\n    Laya.SoundManager.setSoundVolume(volume);\n}\nexports.default = {\n    playMusic: playMusic,\n    playSound: playSound,\n    stopAll: stopAll,\n    stopMusic: stopMusic,\n    stopAllSound: stopAllSound,\n    setMusicVolume: setMusicVolume,\n    setSoundVolume: setSoundVolume,\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar onload_1 = require(\"../utils/onload\");\nfunction _loadJS(jspath, options, callback) {\n    try {\n        var _protocol = location.protocol != 'file:' ? location.protocol : 'http:';\n        var _script = document.createElement(\"script\");\n        Object.keys(options).forEach(function (key) {\n            _script.setAttribute(key, options[key]);\n        });\n        _script.type = \"text/javascript\";\n        if (jspath.indexOf('//') == 0) {\n            _script.src = _protocol + jspath;\n        }\n        else {\n            _script.src = jspath;\n        }\n        document.body.appendChild(_script);\n        _script.onerror = function (err) {\n            callback && callback(_script, err);\n        };\n        _script.onload = function () {\n            callback && callback(_script, null);\n        };\n    }\n    catch (error) {\n        callback && callback(undefined, error);\n    }\n}\nfunction loadJs(jspath, options) {\n    if (options === void 0) { options = {}; }\n    return onload_1.onload().then(function () {\n        return new Promise(function (resolve) {\n            if (!jspath) {\n                return resolve && resolve(undefined);\n            }\n            var index = 0;\n            var jsList = jspath.split(',');\n            var nodeList = [];\n            jsList.forEach(function (js) {\n                _loadJS(js, options, function (node, err) {\n                    nodeList[index] = { node: node, err: err };\n                    index++;\n                    if (index == jsList.length) {\n                        resolve && resolve(nodeList);\n                    }\n                });\n            });\n        });\n    });\n}\nexports.default = {\n    loadJs: loadJs\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _ready = null;\nfunction onload() {\n    if (!_ready) {\n        _ready = new Promise(function (reslove, reject) {\n            var _timer;\n            var _pollingDocument = function () {\n                if (!!document && document.readyState == 'complete') {\n                    _timer && clearTimeout(_timer);\n                    reslove(Date.now());\n                }\n                else {\n                    _timer = setTimeout(_pollingDocument, 1);\n                }\n            };\n            _timer = setTimeout(_pollingDocument, 1);\n        });\n    }\n    return _ready;\n}\nexports.onload = onload;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Event = /** @class */ (function (_super) {\n    __extends(Event, _super);\n    function Event() {\n        var _this = _super.call(this) || this;\n        _this._dic = new Laya.Dictionary();\n        return _this;\n    }\n    Event.prototype.registeredEvent = function (type, fun, thisRef, index) {\n        if (index === void 0) { index = 1; }\n        var arr = [];\n        if (index == null)\n            index = 1;\n        if (this._dic[type]) {\n            arr = this._dic[type];\n            for (var i = 0; i < arr.length; i++) {\n                if (arr[i].fun == fun && arr[i].thisRef == thisRef) {\n                    if (index != arr[i].index) {\n                        arr[i].index = index;\n                        arr.sort(function (a, b) { return b.index - a.index; });\n                        this._dic[type] = arr;\n                    }\n                    return;\n                }\n            }\n        }\n        arr.push({ fun: fun, thisRef: thisRef, index: index });\n        arr.sort(function (a, b) { return b.index - a.index; });\n        this._dic[type] = arr;\n    };\n    Event.prototype.removeEvent = function (type, fun, thisRef) {\n        if (this._dic[type]) {\n            var arr = this._dic[type];\n            for (var i = 0; i < arr.length; i++) {\n                if (arr[i].fun == fun && arr[i].thisRef == thisRef) {\n                    arr[i] = null;\n                    arr.splice(i, 1);\n                    this._dic[type] = arr;\n                    return;\n                }\n            }\n        }\n    };\n    Event.prototype.sendEvent = function (type, args) {\n        if (args === void 0) { args = null; }\n        if (this._dic[type]) {\n            var arr = this._dic[type];\n            for (var i = 0; i < arr.length; i++) {\n                arr[i].fun.apply(arr[i].thisRef, args);\n            }\n        }\n    };\n    return Event;\n}(Laya.EventDispatcher));\nexports.default = new Event();\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar runtime;\n(function (runtime) {\n    runtime.clickSound = null;\n    runtime.clickAnimDuration = 100;\n    runtime.clickNormalProps = { scaleX: 1, scaleY: 1 };\n    runtime.clickDownProps = { scaleX: 1.2, scaleY: 1.2 };\n    function pivotCenter(view) {\n        view.x = view.x + view.width / 2 - view.pivotX;\n        view.y = view.y + view.height / 2 - view.pivotY;\n        view.pivot(view.width / 2, view.height / 2);\n    }\n    function setViewProps(view, props, duration) {\n        pivotCenter(view);\n        Laya.Tween.to(view, props, duration);\n    }\n    function playClickSound(sound) {\n        if (sound) {\n            sound != 'none' && Laya.SoundManager.playSound(sound, 1);\n        }\n        else if (runtime.clickSound) {\n            runtime.clickSound != 'none' && Laya.SoundManager.playSound(runtime.clickSound, 1);\n        }\n    }\n    function bindClick(view, onClick, onDown, onUp, onOut) {\n        pivotCenter(view);\n        view.offAll();\n        view.on(Laya.Event.CLICK, view, function () {\n            onClick && onClick();\n            playClickSound(view.clickSound);\n        });\n        view.on(Laya.Event.MOUSE_DOWN, view, function () {\n            setViewProps(view, view.clickDownProps || runtime.clickDownProps, view.clickAnimDuration || runtime.clickAnimDuration);\n            onDown && onDown();\n        });\n        view.on(Laya.Event.MOUSE_UP, view, function () {\n            setViewProps(view, view.clickNormalProps || runtime.clickNormalProps, view.clickAnimDuration || runtime.clickAnimDuration);\n            onUp && onUp();\n        });\n        view.on(Laya.Event.MOUSE_OUT, view, function () {\n            setViewProps(view, view.clickNormalProps || runtime.clickNormalProps, view.clickAnimDuration || runtime.clickAnimDuration);\n            onOut && onOut();\n        });\n    }\n    runtime.bindClick = bindClick;\n    var btn = /** @class */ (function (_super) {\n        __extends(btn, _super);\n        function btn() {\n            var _this = _super.call(this) || this;\n            _this.clickAnimDuration = null;\n            _this.clickDownProps = null;\n            _this.clickNormalProps = null;\n            _this.clickSound = null;\n            bindClick(_this);\n            return _this;\n        }\n        return btn;\n    }(Laya.Button));\n    runtime.btn = btn;\n    var btn_img = /** @class */ (function (_super) {\n        __extends(btn_img, _super);\n        function btn_img() {\n            var _this = _super.call(this) || this;\n            _this.clickAnimDuration = null;\n            _this.clickDownProps = null;\n            _this.clickNormalProps = null;\n            _this.clickSound = null;\n            bindClick(_this);\n            return _this;\n        }\n        return btn_img;\n    }(Laya.Image));\n    runtime.btn_img = btn_img;\n    var btn_label = /** @class */ (function (_super) {\n        __extends(btn_label, _super);\n        function btn_label() {\n            var _this = _super.call(this) || this;\n            _this.clickAnimDuration = null;\n            _this.clickDownProps = null;\n            _this.clickNormalProps = null;\n            _this.clickSound = null;\n            bindClick(_this);\n            return _this;\n        }\n        return btn_label;\n    }(Laya.Label));\n    runtime.btn_label = btn_label;\n    var btn_sprite = /** @class */ (function (_super) {\n        __extends(btn_sprite, _super);\n        function btn_sprite() {\n            var _this = _super.call(this) || this;\n            _this.clickAnimDuration = null;\n            _this.clickDownProps = null;\n            _this.clickNormalProps = null;\n            _this.clickSound = null;\n            bindClick(_this);\n            return _this;\n        }\n        return btn_sprite;\n    }(Laya.Sprite));\n    runtime.btn_sprite = btn_sprite;\n    var btn_box = /** @class */ (function (_super) {\n        __extends(btn_box, _super);\n        function btn_box() {\n            var _this = _super.call(this) || this;\n            _this.clickAnimDuration = null;\n            _this.clickDownProps = null;\n            _this.clickNormalProps = null;\n            _this.clickSound = null;\n            bindClick(_this);\n            return _this;\n        }\n        return btn_box;\n    }(Laya.Box));\n    runtime.btn_box = btn_box;\n    var page_list = /** @class */ (function (_super) {\n        __extends(page_list, _super);\n        function page_list() {\n            var _this = _super.call(this) || this;\n            _this._isDown = false;\n            _this._onLoadMoreHandler = null;\n            _this._loading = false;\n            _this._preCount = 5;\n            _this.on(Laya.Event.MOUSE_UP, _this, _this.onMouseUp);\n            _this.on(Laya.Event.MOUSE_OUT, _this, _this.onMouseOut);\n            _this.on(Laya.Event.MOUSE_DOWN, _this, _this.onMouseDown);\n            _this.renderHandler = Laya.Handler.create(_this, _this.renderItem);\n            return _this;\n        }\n        page_list.prototype.destroy = function () {\n            this.off(Laya.Event.MOUSE_UP, this, this.onMouseUp);\n            this.off(Laya.Event.MOUSE_OUT, this, this.onMouseOut);\n        };\n        page_list.prototype.refresh = function () {\n            _super.prototype.refresh.call(this);\n            this._updatePage();\n        };\n        page_list.prototype.onMouseDown = function () {\n            this._isDown = true;\n        };\n        page_list.prototype.onMouseUp = function (event) {\n            this._updatePage();\n            this._isDown = false;\n        };\n        page_list.prototype.onMouseOut = function (event) {\n            this._updatePage();\n            this._isDown = false;\n        };\n        Object.defineProperty(page_list.prototype, \"preCount\", {\n            get: function () {\n                return this._preCount;\n            },\n            set: function (count) {\n                this._preCount = count;\n            },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(page_list.prototype, \"loading\", {\n            get: function () {\n                return this._loading;\n            },\n            set: function (loading) {\n                this._loading = loading;\n            },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(page_list.prototype, \"onLoadMoreHandler\", {\n            get: function () {\n                return this._onLoadMoreHandler;\n            },\n            set: function (handler) {\n                this._onLoadMoreHandler = handler;\n            },\n            enumerable: true,\n            configurable: true\n        });\n        page_list.prototype._updatePage = function () {\n            if (!this._isDown) {\n                return;\n            }\n            var length = this._array.length;\n            var maxHeight = length * this._cellSize;\n            var currentPos = this._cellOffset + this.scrollBar.value + this.height;\n            var lastCount = Math.floor((maxHeight - currentPos) / this._cellSize);\n            if (lastCount < 0) {\n                lastCount = 0;\n            }\n            if (!this._loading && this.preCount >= lastCount) {\n                this._onLoadMoreHandler && this._onLoadMoreHandler(lastCount);\n            }\n        };\n        return page_list;\n    }(Laya.List));\n    runtime.page_list = page_list;\n    var page_view = /** @class */ (function (_super) {\n        __extends(page_view, _super);\n        function page_view() {\n            var _this = _super.call(this) || this;\n            _this._isDown = false;\n            _this._currentPage = 0;\n            _this._onPageChange = null;\n            _this.on(Laya.Event.MOUSE_UP, _this, _this.onMouseUp);\n            _this.on(Laya.Event.MOUSE_OUT, _this, _this.onMouseOut);\n            _this.on(Laya.Event.MOUSE_DOWN, _this, _this.onMouseDown);\n            _this.renderHandler = Laya.Handler.create(_this, _this.renderItem);\n            return _this;\n        }\n        page_view.prototype.destroy = function () {\n            this.off(Laya.Event.MOUSE_UP, this, this.onMouseUp);\n            this.off(Laya.Event.MOUSE_OUT, this, this.onMouseOut);\n        };\n        Object.defineProperty(page_view.prototype, \"pageId\", {\n            get: function () {\n                return this._currentPage;\n            },\n            set: function (n) {\n                this._currentPage = n;\n                if (this._currentPage < 0) {\n                    this._currentPage = 0;\n                }\n                this.tweenTo(n);\n            },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(page_view.prototype, \"onPageChangeHandler\", {\n            get: function () {\n                return this._onPageChange;\n            },\n            set: function (handler) {\n                this._onPageChange = handler;\n            },\n            enumerable: true,\n            configurable: true\n        });\n        page_view.prototype.onMouseDown = function () {\n            this._isDown = true;\n        };\n        page_view.prototype.onMouseUp = function (event) {\n            this._updatePage();\n            this._isDown = false;\n        };\n        page_view.prototype.onMouseOut = function (event) {\n            this._updatePage();\n            this._isDown = false;\n        };\n        page_view.prototype._updatePage = function () {\n            if (!this._isDown) {\n                return;\n            }\n            this.scrollBar.stopScroll();\n            var total = this._cellOffset > 0 ? this.totalPage + 1 : this.totalPage;\n            if (total > 1) {\n                var changeSize = this._cellSize / 6;\n                var sss = this._currentPage * this._cellSize;\n                if (Math.abs(this.scrollBar.value - sss) > changeSize) {\n                    if (this.scrollBar.value > sss) {\n                        this._currentPage++;\n                    }\n                    else {\n                        this._currentPage--;\n                    }\n                }\n                if (this._currentPage > total) {\n                    this._currentPage = total + 1;\n                }\n                if (this._currentPage < 0) {\n                    this._currentPage = 0;\n                }\n            }\n            this.tweenTo(this._currentPage);\n            if (this._onPageChange) {\n                this._onPageChange(this._currentPage);\n            }\n        };\n        return page_view;\n    }(Laya.List));\n    runtime.page_view = page_view;\n})(runtime || (runtime = {}));\nexports.default = runtime;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar env_1 = require(\"./env\");\nvar any_1 = require(\"../utils/any\");\nvar _listeners = [];\nfunction onMessage(callback) {\n    if (callback && typeof callback == \"function\" && _listeners.indexOf(callback) < 0) {\n        _listeners.push(callback);\n    }\n}\nfunction postMessage(data) {\n    if (data === void 0) { data = {}; }\n    if (env_1.default.isConchApp()) {\n        Laya.conchMarket.sendMessageToPlatform(any_1.toAny(data, \"{}\"), function (resp) {\n            env_1.default.printDebug(\"conch message callback: \", resp);\n        });\n    }\n    else {\n        window.parent.postMessage(any_1.toAny(data, {}), '*');\n    }\n}\nfunction _initMessage() {\n    var name = \"__dispatchMessage__\";\n    if (typeof window !== \"undefined\") {\n        window[name] = function (data) {\n            if (data) {\n                _listeners.forEach(function (callback) { return callback(any_1.toAny(data, {})); });\n            }\n        };\n    }\n    window.addEventListener(\"message\", function (msg) {\n        if (msg && msg.data) {\n            _listeners.forEach(function (callback) { return callback(any_1.toAny(msg.data, {})); });\n        }\n    });\n}\n(function () {\n    _initMessage();\n})();\nexports.default = {\n    postMessage: postMessage,\n    onMessage: onMessage\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar any_1 = require(\"../utils/any\");\nvar json_1 = require(\"../utils/json\");\nfunction randomUUID() {\n    var _s4 = function () { return (((1 + Math.random()) * 0x10000) | 0).toString(16).substring(1); };\n    return (_s4() + _s4() + \"-\" + _s4() + \"-\" + _s4() + \"-\" + _s4() + \"-\" + _s4() + _s4() + _s4());\n}\nfunction randomNumber(minNum, maxNum) {\n    switch (arguments.length) {\n        case 1:\n            return Math.random() * minNum + 1;\n        case 2:\n            return Math.random() * (maxNum - minNum + 1) + minNum;\n        default:\n            return 0;\n    }\n}\nfunction randomInteger(minNum, maxNum) {\n    switch (arguments.length) {\n        case 1:\n            return Math.floor(Math.random() * minNum + 1);\n        case 2:\n            return Math.floor(Math.random() * (maxNum - minNum + 1) + minNum);\n        default:\n            return 0;\n    }\n}\nfunction randomArray(source, length) {\n    if (length === void 0) { length = -1; }\n    var randomLength = length == -1 ? source.length : length;\n    randomLength = Math.min(randomLength, source.length);\n    var copy = source.concat([]);\n    var result = [];\n    while (result.length < randomLength) {\n        var randomObj = randomArrayItem(copy);\n        result.push(randomObj);\n        copy.splice(copy.indexOf(randomLength), 1);\n    }\n    return result;\n}\nfunction randomArrayItem(source) {\n    if (source.length > 0) {\n        return source[Math.floor(Math.random() * source.length)];\n    }\n    return undefined;\n}\nexports.default = {\n    randomUUID: randomUUID,\n    randomInteger: randomInteger,\n    randomNumber: randomNumber,\n    randomArray: randomArray,\n    randomArrayItem: randomArrayItem,\n    loadJson: json_1.loadJson,\n    toAny: any_1.toAny\n};\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar stack_1 = require(\"../navigator/stack\");\nvar screen_1 = require(\"../manager/screen\");\nvar component_1 = require(\"./component\");\nvar Activity = /** @class */ (function (_super) {\n    __extends(Activity, _super);\n    function Activity() {\n        var _this = _super.call(this, function () { _this.back(); }) || this;\n        _this.page = null;\n        _this.params = {};\n        _this.duration = 0;\n        _this.easeIn = null;\n        _this.easeOut = null;\n        _this.fromProps = null;\n        _this.toProps = null;\n        _this.exitProps = null;\n        _this.ui = new Laya.Component;\n        _this.width = screen_1.default.getDesignWidth();\n        _this.height = screen_1.default.getDesignHeight();\n        return _this;\n    }\n    Activity.create = function (opts) {\n        var NewAct = /** @class */ (function (_super) {\n            __extends(NewAct, _super);\n            function NewAct() {\n                var _this = _super.call(this) || this;\n                _this.opts = null;\n                _this.opts = opts || {};\n                Object.assign(_this, _this.opts);\n                NewAct.single = _this.opts.single;\n                NewAct.res = _this.opts.res;\n                return _this;\n            }\n            NewAct.prototype.onCreate = function () {\n                this.opts.onCreate && this.opts.onCreate();\n            };\n            NewAct.prototype.onPause = function () {\n                this.opts.onPause && this.opts.onPause();\n            };\n            NewAct.prototype.onResume = function () {\n                this.opts.onResume && this.opts.onResume();\n            };\n            NewAct.prototype.onDestroy = function () {\n                this.opts.onDestroy && this.opts.onDestroy();\n            };\n            NewAct.prototype.onFocus = function (focus) {\n                this.opts.onFocus && this.opts.onFocus(focus);\n            };\n            NewAct.prototype.onNextProgress = function (progress) {\n                this.opts.onNextProgress && this.opts.onNextProgress(progress);\n            };\n            return NewAct;\n        }(Activity));\n        return NewAct;\n    };\n    Activity.open = function (params, action) {\n        stack_1.default.navigate(this, params, action);\n    };\n    Activity.finish = function () {\n        stack_1.default.finish(this);\n    };\n    //////////////////////////\n    /// navigator function\n    //////////////////////////\n    Activity.prototype.redirectTo = function (page, params, action, single) {\n        var _this = this;\n        if (params === void 0) { params = {}; }\n        if (action === void 0) { action = null; }\n        if (single === void 0) { single = false; }\n        this.navigate(page, params, function () {\n            _this.back();\n            action && action();\n        }, single);\n    };\n    Activity.prototype.navigate = function (page, params, action, single) {\n        if (params === void 0) { params = {}; }\n        if (action === void 0) { action = null; }\n        if (single === void 0) { single = false; }\n        stack_1.default.navigate(page, params, action, single);\n    };\n    Activity.prototype.back = function () {\n        stack_1.default.finish(this.page, this);\n    };\n    Activity.prototype.finish = function (page, instance) {\n        if (page === void 0) { page = this.page; }\n        if (instance === void 0) { instance = null; }\n        stack_1.default.finish(page, instance);\n    };\n    Activity.prototype.pop = function (number) {\n        if (number === void 0) { number = 1; }\n        stack_1.default.pop(number);\n    };\n    Activity.prototype.popToTop = function () {\n        stack_1.default.popToTop();\n    };\n    Activity.res = [];\n    Activity.unpackFile = null;\n    Activity.single = false;\n    return Activity;\n}(component_1.default));\nexports.default = Activity;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar popupmanager_1 = require(\"./popupmanager\");\nvar screen_1 = require(\"../manager/screen\");\nvar pipeline_1 = require(\"../pipeline\");\nvar component_1 = require(\"./component\");\nvar PopupView = /** @class */ (function (_super) {\n    __extends(PopupView, _super);\n    function PopupView() {\n        var _this = _super.call(this, function () {\n            _this.hide();\n        }) || this;\n        _this.duration = 300;\n        _this.easeIn = null;\n        _this.easeOut = null;\n        _this.fromProps = null;\n        _this.toProps = null;\n        _this.exitProps = null;\n        _this.uiDuration = 300;\n        _this.uiEaseIn = null;\n        _this.uiEaseOut = null;\n        _this.uiFromProps = null;\n        _this.uiToProps = null;\n        _this.uiExitProps = null;\n        _this.topLevel = false;\n        _this.isTranslucent = false;\n        _this.canceledOnTouchOutside = false;\n        _this.nonPenetrating = true;\n        _this.width = screen_1.default.getDesignWidth();\n        _this.height = screen_1.default.getDesignHeight();\n        return _this;\n    }\n    PopupView.show = function (params, onHide, alias) {\n        popupmanager_1.default.showPopup(this, params, onHide, alias);\n    };\n    PopupView.signleShow = function (params, onHide, alias) {\n        popupmanager_1.default.hidePopup(this, null, null, alias);\n        popupmanager_1.default.showPopup(this, params, onHide, alias);\n    };\n    PopupView.pipeShow = function (params, onHide, alias) {\n        var _this = this;\n        pipeline_1.default.put(\"popup\", function () {\n            popupmanager_1.default.showPopup(_this, params, function () {\n                var args = [];\n                for (var _i = 0; _i < arguments.length; _i++) {\n                    args[_i] = arguments[_i];\n                }\n                onHide && onHide.apply(void 0, args);\n                pipeline_1.default.next(\"popup\");\n            }, alias);\n        });\n    };\n    PopupView.hide = function (result, alias) {\n        popupmanager_1.default.hidePopup(this, null, result, alias);\n    };\n    PopupView.prototype.hide = function (result) {\n        if (result === void 0) { result = null; }\n        popupmanager_1.default.hidePopup(this.popup, this, result, this.alias);\n    };\n    return PopupView;\n}(component_1.default));\nexports.default = PopupView;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar env_1 = require(\"./env\");\nvar _pipeline_map = {};\nfunction _check(type) {\n    if (_pipeline_map[type]) {\n        var pipe = _pipeline_map[type];\n        if (pipe.funcs.length <= 0) {\n            return;\n        }\n        if (pipe.padding) {\n            setTimeout(function () {\n                _check(type);\n            }, 500);\n            return;\n        }\n        var func = pipe.funcs.shift();\n        func && func();\n        pipe.padding = true;\n        _check(type);\n    }\n}\nfunction put(type, func) {\n    if (type && typeof func === \"function\") {\n        env_1.default.printDebug(\"put pipe to : \", type);\n        if (_pipeline_map[type]) {\n            _pipeline_map[type].funcs.push(func);\n        }\n        else {\n            _pipeline_map[type] = { padding: false, funcs: [func] };\n        }\n        _check(type);\n    }\n}\nfunction next(type) {\n    if (_pipeline_map[type]) {\n        env_1.default.printDebug(\"next pipe as : \", type);\n        _pipeline_map[type].padding = false;\n        _check(type);\n    }\n}\nexports.default = {\n    put: put,\n    next: next,\n};\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar toastmanager_1 = require(\"./toastmanager\");\nvar screen_1 = require(\"../manager/screen\");\nvar component_1 = require(\"./component\");\nvar ToastView = /** @class */ (function (_super) {\n    __extends(ToastView, _super);\n    function ToastView() {\n        var _this = _super.call(this, function () { _this.hide(); }) || this;\n        _this.duration = 200;\n        _this.displayDuration = 1000;\n        _this.easeIn = null;\n        _this.easeOut = null;\n        _this.fromProps = null;\n        _this.toProps = null;\n        _this.exitProps = null;\n        _this.topLevel = true;\n        _this.width = screen_1.default.getDesignWidth();\n        _this.height = screen_1.default.getDesignHeight();\n        return _this;\n    }\n    ToastView.show = function (params, onHide) {\n        toastmanager_1.default.showToast(this, params, onHide);\n    };\n    ToastView.hide = function () {\n        toastmanager_1.default.hideToast(this);\n    };\n    ToastView.prototype.hide = function () {\n        toastmanager_1.default.hideToast(this.toast, this);\n    };\n    return ToastView;\n}(component_1.default));\nexports.default = ToastView;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction stringifyQuery(query) {\n    return Object.keys(query).map(function (key) {\n        var value = query[key];\n        return key + \"=\" + encodeURIComponent(value);\n    }).join('&');\n}\nexports.stringifyQuery = stringifyQuery;\nfunction decodeQuery(query) {\n    return Object.keys(query).reduce(function (result, key) {\n        var value = query[key];\n        result[key] = decodeURIComponent(value);\n        return result;\n    }, {});\n}\nexports.decodeQuery = decodeQuery;\nfunction parseQueryParams(path) {\n    var url = '';\n    var params = {};\n    if (!path || typeof path !== 'string') {\n        return { url: url, params: params };\n    }\n    var queryString = '';\n    var indexE = path.indexOf('?');\n    var indexW = path.indexOf('#');\n    var indexQ = path.indexOf('=');\n    if (indexE >= 0) {\n        url = path.substring(0, indexE);\n        queryString = path.substring(indexE + 1, indexW > 0 ? indexW : path.length);\n    }\n    else if (indexQ >= 0) {\n        url = '';\n        queryString = path;\n    }\n    else {\n        url = path;\n        queryString = '';\n    }\n    queryString.split('&').map(function (item) {\n        var index = item.indexOf(\"=\");\n        if (index > 0) {\n            var key = item.substring(0, index);\n            var value = item.substring(index + 1);\n            params[key] = decodeURIComponent(value);\n        }\n    });\n    return { url: url, params: params };\n}\nexports.parseQueryParams = parseQueryParams;\nfunction appendQueryParams(path, query) {\n    if (query === void 0) { query = {}; }\n    var _a = parseQueryParams(path), url = _a.url, params = _a.params;\n    Object.keys(query).forEach(function (key) {\n        var value = query[key];\n        if (value !== undefined && value !== null) {\n            params[key] = value;\n        }\n        else {\n            delete params[key];\n        }\n    });\n    var queryString = Object.keys(params).map(function (key) {\n        var value = params[key];\n        return key + \"=\" + encodeURIComponent(value);\n    }).join('&');\n    ;\n    if (!url) {\n        return queryString;\n    }\n    if (!queryString) {\n        return url;\n    }\n    return url + \"?\" + queryString;\n}\nexports.appendQueryParams = appendQueryParams;\nfunction getQueryString(key, def) {\n    if (typeof window !== \"undefined\" && window.location) {\n        var search = window.location.search || '';\n        var reg = new RegExp(\"(^|&)\" + key + \"=([^&]*)(&|$)\");\n        var r = search.substr(1).match(reg);\n        if (r != null) {\n            return decodeURIComponent(unescape(r[2]));\n        }\n    }\n    return def;\n}\nexports.getQueryString = getQueryString;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar env_1 = require(\"./env\");\nvar screen_1 = require(\"./manager/screen\");\nvar init_1 = require(\"./navigator/init\");\nvar hook_1 = require(\"./hook\");\nvar _inited = false;\nvar _transparent = false;\nvar _adapterInfo = null;\nfunction handleAdapter() {\n    try {\n        if (_adapterInfo) {\n            var stage = Laya.stage;\n            stage.width = _adapterInfo.width;\n            stage.height = _adapterInfo.height;\n            stage.scale(_adapterInfo.scaleX, _adapterInfo.scaleY);\n        }\n    }\n    catch (error) {\n    }\n}\nfunction setTransparent(transparent) {\n    _transparent = transparent;\n}\nexports.setTransparent = setTransparent;\nfunction setAdapterInfo(adapterInfo) {\n    _adapterInfo = adapterInfo;\n}\nexports.setAdapterInfo = setAdapterInfo;\nfunction init(width, height) {\n    var options = [];\n    for (var _i = 2; _i < arguments.length; _i++) {\n        options[_i - 2] = arguments[_i];\n    }\n    if (_inited) {\n        return;\n    }\n    if (!env_1.default.isLayaApp()) {\n        env_1.default.printError('Please ensure that the \\'Laya\\' library has been introduced.');\n        return;\n    }\n    screen_1.initScreen.apply(void 0, [false, _transparent, width, height].concat(options));\n    hook_1.callHookInit.apply(void 0, [width, height].concat(options));\n    handleAdapter();\n    _inited = true;\n    env_1.default.printDebug(\"init...\");\n    env_1.default.printDebug(\"offest: \" + screen_1.default.getOffestX() + \", \" + screen_1.default.getOffestY());\n    env_1.default.printDebug(\"app_version: \" + env_1.default.getAppVersion());\n    env_1.default.printDebug(\"version: \" + env_1.default.getVersion());\n    env_1.default.printDebug(\"debug: \" + env_1.default.isDebug());\n    env_1.default.printDebug(\"env: \" + env_1.default.getEnv());\n}\nexports.init = init;\nfunction init3D(width, height) {\n    var options = [];\n    for (var _i = 2; _i < arguments.length; _i++) {\n        options[_i - 2] = arguments[_i];\n    }\n    if (_inited) {\n        return;\n    }\n    if (!env_1.default.isLayaApp()) {\n        env_1.default.printError('Please ensure that the \\'Laya\\' library has been introduced.');\n        return;\n    }\n    screen_1.initScreen.apply(void 0, [true, _transparent, width, height].concat(options));\n    handleAdapter();\n    hook_1.callHookInit.apply(void 0, [width, height].concat(options));\n    _inited = true;\n    env_1.default.printDebug(\"init3D...\");\n    env_1.default.printDebug(\"offest: \" + screen_1.default.getOffestX() + \", \" + screen_1.default.getOffestY());\n    env_1.default.printDebug(\"app_version: \" + env_1.default.getAppVersion());\n    env_1.default.printDebug(\"version: \" + env_1.default.getVersion());\n    env_1.default.printDebug(\"debug: \" + env_1.default.isDebug());\n    env_1.default.printDebug(\"env: \" + env_1.default.getEnv());\n}\nexports.init3D = init3D;\nfunction start(options, onLoaded, onLoadProgress) {\n    if (onLoaded === void 0) { onLoaded = null; }\n    if (onLoadProgress === void 0) { onLoadProgress = null; }\n    if (!_inited) {\n        env_1.default.printError('Please complete the initialization of Tape first.');\n        return;\n    }\n    if (!options) {\n        options = {};\n    }\n    var newOptions = {\n        mainPage: options.mainPage || null,\n        commonRes: options.commonRes || [],\n        fileVersion: options.fileVersion,\n        onLoadProgress: function (progress) {\n            options.onLoadProgress && options.onLoadProgress(progress);\n            onLoadProgress && onLoadProgress(progress);\n        },\n        onLoaded: function () {\n            onLoaded && onLoaded();\n            options.onLoaded && options.onLoaded();\n        }\n    };\n    init_1.initNavigator(newOptions);\n    init_1.setNavigatorReady();\n}\nexports.start = start;\n"],"sourceRoot":""}