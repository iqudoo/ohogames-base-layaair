{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap","webpack:///./src/services/manager/screen.ts","webpack:///./src/services/env.ts","webpack:///./src/services/manager/uimgr.ts","webpack:///./src/services/display/component.ts","webpack:///./src/services/navigator/stack.ts","webpack:///./src/services/display/background.ts","webpack:///./src/services/hook.ts","webpack:///./src/services/navigator/loader.ts","webpack:///./src/services/navigator/init.ts","webpack:///./src/utils/json.ts","webpack:///./src/services/display/baseview.ts","webpack:///./src/utils/looper.ts","webpack:///./src/utils/any.ts","webpack:///./src/services/display/popupmanager.ts","webpack:///./src/services/display/toastmanager.ts","webpack:///./src/index.ts","webpack:///./src/adapter/index.ts","webpack:///./src/adapter/_transsion.ts","webpack:///./src/polyfill.ts","webpack:///./src/services/manager/eft.ts","webpack:///./src/utils/resize.ts","webpack:///./src/utils/event.ts","webpack:///./src/services/speaker/index.ts","webpack:///./src/services/speaker/_chancel.ts","webpack:///./src/services/speaker/_peaks.ts","webpack:///./src/services/speaker/_loadres.ts","webpack:///./src/services/audio.ts","webpack:///./src/services/js.ts","webpack:///./src/utils/onload.ts","webpack:///./src/services/event.ts","webpack:///./src/services/runtime.ts","webpack:///./src/services/message.ts","webpack:///./src/services/utils.ts","webpack:///./src/services/display/activity.ts","webpack:///./src/services/display/popupview.ts","webpack:///./src/services/pipeline.ts","webpack:///./src/services/display/toastview.ts","webpack:///./src/services/views/pageview.ts","webpack:///./src/services/views/pagelist.ts","webpack:///./src/utils/query.ts","webpack:///./src/services/init.ts"],"names":["root","factory","exports","module","define","amd","a","i","this","installedModules","__webpack_require__","moduleId","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","background_1","uimgr_1","_background","_padding_left","_padding_right","_padding_top","_padding_bottom","_design_width","_design_height","_deviation","_autoAdaption","_autoDirection","size","paddingWidth","paddingHeight","clientWidth","window","innerWidth","laya","utils","Browser","clientHeight","innerHeight","initWidth","initHeight","screenRatio","initRatio","Math","abs","getWidth","Laya","stage","width","getHeight","height","getContentWidth","getContentHeight","getDesignWidth","getDesignHeight","getScale","designWidth","designHeight","min","initScreen","is3D","isAlpha","options","_i","arguments","length","_a","Config","Laya3D","init","apply","concat","scaleMode","Stage","SCALE_EXACTFIT","screenMode","SCREEN_HORIZONTAL","SCREEN_VERTICAL","alignH","ALIGN_CENTER","alignV","ALIGN_MIDDLE","bgColor","default","setTranslucent","addChild","resize","initUI","getBg","getOffestX","scale","getOffestY","setDeviation","deviation","setPaddingLeft","padding","getPaddingLeft","setPaddingRight","getPaddingRight","setPaddingTop","getPaddingTop","setPaddingBottom","getPaddingBottom","setAutoDirection","auto","setAutoAdaption","adaption","_app_version","_debugOn","isDebug","indexOf","_env","classNameMap","getClassName","obj","str","toString","arr","charAt","match","name_1","e","isLayaApp","isConchApp","getVersion","setAppVersion","version","getAppVersion","setDebug","debug","printError","message","console","error","printDebug","log","getEnv","setEnv","env","_uiManager","_mainUILayer","_topUILayer","stack_1","resize_1","loader_1","screen_1","component_1","_inited","_checkInit","Sprite","mouseThrough","on","Event","RESIZE","_resizeUI","onResize","x","y","scaleX","scaleY","index","numChildren","ui","getChildAt","__callOnResize","checkFocus","setFocus","moveTopToMainLayer","view","parent","removeChild","addViewToMainLayer","addViewTopLayer","extendStatics","__extends","setPrototypeOf","__proto__","Array","b","__","constructor","Component","_super","handleOnTouchOutside","_this","_nonPenetrating","_handleOnTouchOutside","_showed","bg","setBgAlpha","setBgColor","_refreshOnTouchOutside","onNew","configurable","set","nonPenetrating","_onHandleOnTouchOutsideEvent","showed","stopPropagation","offAll","CLICK","__callSetShowed","_loaders","_all","_length","_getStack","len","_showStack","anim","callback","stack","show","_refreshStack","hide","_popStack","count","splice","forEach","exit","focus","navigate","page","params","action","single","open","onShow","onLoaded","loader","push","onLoadProgress","progress","nextProgress","stacks","filter","pop","number","popToTop","finish","instance","_finishStack","Background","_onResize","_bgSprite","_bgImage","_bgAlpha","_bgColor","_bgSkin","_bgSizeGrid","_bgTexture","_isTranslucent","_bgType","Image","_drawBg","visible","alpha","graphics","clear","drawRect","skin","sizeGrid","load","Handler","texture","fillTexture","bgAlpha","color","setBgSkin","url","setBgTexture","translucent","isTranslucent","_inits","callHookInit","onInit","env_1","init_1","json_1","_indexID","default_1","unpackFile","res","_options","_activity","_isFocus","_pageName","_getPageName","loadJson","catch","then","data","map","item","tyep","Loader","IMAGE","Promise","resolve","_newActivity","setTimeout","_onLoaded","_onLoadProgress","assign","onNavigatorReady","onCreate","onNextProgress","activity","easeIn","Ease","linearIn","duration","fromProps","toProps","onResume","Tween","to","easeOut","exitProps","onPause","onDestroy","destroy","onFocus","_isReady","_readyResolve","_readyPromise","_beginLoadStaticRes","commonRes","_onStaticResLoaded","mainPage","initNavigator","fileVersion","ResourceVersion","type","FILENAME_VERSION","enable","setNavigatorReady","_temp","_reject","_listener","force","ERROR","_initListener","reject","JSON","val","getRes","BaseView","getChildByName","removeChildByName","Looper","_tasks","_hasLoop","_checkLoop","timer","frameLoop","task","caller","clearAll","loop","array","where","removeIndexArray_1","reverse","removeItemForWhere","toAny","def","parse","ex","parseFloat","isNaN","_inferType","_toNumber_","_toBoolean_","_toObject_","stringify","_toString_","_popups","_fromProps","_toProps","_exitProps","_hidePopup","result","popupView","cb","uiDuration","uiToProps","uiExitProps","uiEaseOut","linearOut","max","_hidePopupAnim","popup","onHide","removeSelf","showPopup","alias","mapKey","views","topLevel","uiFromProps","uiEaseIn","from","_showPopupAnim","hidePopup","v","close","_toasts","_popToast","toast","showToast","displayDuration","_pushToast","hideToast","_on_hide","showState","eft_1","speaker_1","audio_1","js_1","event_1","runtime_1","message_1","utils_1","popupmanager_1","toastmanager_1","activity_1","popupview_1","toastview_1","baseview_1","pageview_1","pagelist_1","query_1","OHOGame","init3D","start","setTransparent","getQueryString","setAdapterInfo","js","eft","screen","speaker","audio","event","runtime","navigator","Activity","PopupView","ToastView","PageView","PageList","hook_1","HttpRequest","cache","group","ignoreCache","_url","_type","getTypeFromUrl","URL","formatURL","_cache","_data","loadedMap","setGroup","parserMap","_customParse","runWith","_loadImage","_loadSound","_loadTTF","loadRuntime","startsWith","that","response","substr","rt","getFileSystemManager","readFileSync","contentType","preLoadedMap","_http","onProgress","onError","send","info","rw","rh","target","varArgs","TypeError","nextSource","nextKey","writable","_dic","Dictionary","_mcpool","_inst","onLoadComplet","path","mc","play","loadComplet","thisRef","split","stop","off","LOADED","shift","MovieClip","remove","pivotX","pivotY","_initialized","_callbacks","_handleChanged","offResize","onAttachEvent","document","elem","fn","addEventListener","attachEvent","looper_1","_chancel_1","vowelsByFormantJP","vowelFormantFloorJP","vowelsByFormantCN","vowelFormantFloorCN","SpeakerController","_onPlay","_onStop","_onError","_onProgress","_onComplete","_playTime","_auidoUrl","_position","_duration","_formant","_speaking","_language","_chancel","_update","formant","position","Date","now","onPlay","onStop","onComplete","getFormant","isSpeaking","getVowel","formantValue","language","currentVowels","currentVowelFormantCeilValues","getVowelByFormant","speak","invoke","fixWechatAudioPlay","playSpeak","_peaks_1","_loadres_1","FixAudioContext","AudioContext","webkitAudioContext","mozAudioContext","msAudioContext","_CHANCELS","SpeakerChancel","stopped","_audioUrl","_onErrorCallback","amplitudeThreshold","audioCtx","sampleRate","sourceNode","createBufferSource","analyserNode","createAnalyser","fftSize","windowSize","frequencyBinCount","gaussianFilters","generateGaussianFilter","disconnect","connect","currentTime","buffer","currentAudioData","Uint8Array","getByteFrequencyData","currentAudioSpectrum","discreteCosineTransform","amplitudeSum","k","formantArray","smoothedAudioSpectrum","convoluteDataAndFilter","findLocalLargestPeaks","peakValues","peakPositions","frequencyUnit","formantAverage_1","formantVal","loadAudioRes","loadPromise","loadRes","audioData","decodeAudioData","destination","errorMsg","cancel","getValueFromArray","paddleType","actualIndex","deviationSquare","sum","mu","param","exp","j","sumCos","_","d2","cos","PI","output","filterMiddlePoint","floor","peakNum","lastPeak","lastPeakPositions","isIncreasing","isPeakIncreasing","failure","request","XMLHttpRequest","responseType","onload","onreadystatechange","readyState","status","AudioController","isMusic","_playing","_onPause","_paused","_music","_soundList","stopAll","isPaused","isPlaying","loops","playUrl","targetUrl","replaceExt","ext","Utils","getFileExtension","searchExt","SoundManager","playMusic","playSound","pause","resume","removeChannel","_musicAudio","stopMusic","stopAllSound","setMusicVolume","volume","setSoundVolume","onload_1","loadJs","jspath","undefined","jsList","nodeList","_protocol","location","protocol","_script","createElement","keys","setAttribute","src","body","appendChild","onerror","err","_loadJS","node","_ready","reslove","_timer","_pollingDocument","clearTimeout","registeredEvent","fun","sort","removeEvent","sendEvent","args","EventDispatcher","pivotCenter","pivot","setViewProps","props","bindClick","onClick","onDown","onUp","onOut","sound","clickSound","MOUSE_DOWN","clickDownProps","clickAnimDuration","MOUSE_UP","clickNormalProps","MOUSE_OUT","btn","Button","btn_img","btn_label","Label","btn_sprite","btn_box","Box","any_1","_listeners","msg","postMessage","conchMarket","sendMessageToPlatform","resp","onMessage","randomArrayItem","source","random","randomUUID","_s4","substring","randomInteger","minNum","maxNum","randomNumber","randomArray","randomLength","copy","randomObj","back","opts","NewAct","redirectTo","pipeline_1","canceledOnTouchOutside","_canceledOnTouchOutside","signleShow","pipeShow","put","next","_pipeline_map","_check","pipe","funcs","func","_isDown","_currentPage","_onPageChange","onMouseUp","onMouseOut","onMouseDown","renderHandler","renderItem","tweenTo","handler","_updatePage","scrollBar","stopScroll","total","_cellOffset","totalPage","changeSize","_cellSize","sss","List","_onLoadMoreHandler","_loading","_preCount","refresh","loading","maxHeight","_array","currentPos","lastCount","preCount","parseQueryParams","queryString","indexE","indexW","indexQ","decodeURIComponent","stringifyQuery","query","encodeURIComponent","join","decodeQuery","reduce","appendQueryParams","search","reg","RegExp","unescape","_transparent","_adapterInfo","handleAdapter","transparent","adapterInfo","newOptions"],"mappings":"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","file":"index.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(this, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 15);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar background_1 = require(\"../display/background\");\nvar uimgr_1 = require(\"./uimgr\");\nvar _background = null;\nvar _padding_left = 0;\nvar _padding_right = 0;\nvar _padding_top = 0;\nvar _padding_bottom = 0;\nvar _design_width = 0;\nvar _design_height = 0;\nvar _deviation = 0;\nvar _autoAdaption = true;\nvar _autoDirection = false;\nfunction size() {\n    var paddingWidth = _padding_left + _padding_right;\n    var paddingHeight = _padding_top + _padding_bottom;\n    var clientWidth = window.innerWidth || laya.utils.Browser.clientWidth;\n    var clientHeight = window.innerHeight || laya.utils.Browser.clientHeight;\n    var initWidth = _design_width;\n    var initHeight = _design_height;\n    var screenRatio = 1;\n    var initRatio = 1;\n    if (!_autoDirection) {\n        screenRatio = clientHeight / clientWidth;\n        initRatio = initHeight / initWidth;\n        if (Math.abs(screenRatio / initRatio - 1) > _deviation) {\n            if (screenRatio > initRatio) {\n                initHeight = initWidth * screenRatio;\n            }\n            else if (screenRatio < initRatio) {\n                initWidth = initHeight / screenRatio;\n            }\n        }\n    }\n    else if (initWidth < initHeight && clientWidth < clientHeight) { // \n        screenRatio = clientHeight / clientWidth;\n        initRatio = initHeight / initWidth;\n        if (Math.abs(screenRatio / initRatio - 1) > _deviation) {\n            if (screenRatio > initRatio) {\n                initHeight = initWidth * screenRatio;\n            }\n            else if (screenRatio < initRatio) {\n                initWidth = initHeight / screenRatio;\n            }\n        }\n    }\n    else if (initWidth < initHeight && clientWidth >= clientHeight) { // \n        screenRatio = clientHeight / clientWidth;\n        initRatio = initWidth / initHeight;\n        if (Math.abs(screenRatio / initRatio - 1) > _deviation) {\n            if (screenRatio > initRatio) {\n                initWidth = initHeight * screenRatio;\n            }\n            else if (screenRatio < initRatio) {\n                initHeight = initWidth / screenRatio;\n            }\n        }\n    }\n    else if (initWidth >= initHeight && clientWidth >= clientHeight) { // \n        screenRatio = clientHeight / clientWidth;\n        initRatio = initHeight / initWidth;\n        if (Math.abs(screenRatio / initRatio - 1) > _deviation) {\n            if (screenRatio > initRatio) {\n                initHeight = initWidth * screenRatio;\n            }\n            else if (screenRatio < initRatio) {\n                initWidth = initHeight / screenRatio;\n            }\n        }\n    }\n    else if (initWidth >= initHeight && clientWidth < clientHeight) { // \n        screenRatio = clientHeight / clientWidth;\n        initRatio = initWidth / initHeight;\n        if (Math.abs(screenRatio / initRatio - 1) > _deviation) {\n            if (screenRatio > initRatio) {\n                initWidth = initHeight * screenRatio;\n            }\n            else if (screenRatio < initRatio) {\n                initHeight = initWidth / screenRatio;\n            }\n        }\n    }\n    return {\n        initHeight: initHeight + paddingWidth,\n        initWidth: initWidth + paddingHeight\n    };\n}\nfunction initScreen(is3D, isAlpha, width, height) {\n    var options = [];\n    for (var _i = 4; _i < arguments.length; _i++) {\n        options[_i - 4] = arguments[_i];\n    }\n    _design_width = width;\n    _design_height = height;\n    if (_autoAdaption) {\n        var _a = size(), initHeight = _a.initHeight, initWidth = _a.initWidth;\n        Config.isAlpha = isAlpha;\n        if (is3D) {\n            Laya3D.init.apply(this, [initWidth, initHeight].concat(options));\n        }\n        else {\n            Laya.init.apply(this, [initWidth, initHeight].concat(options));\n        }\n        Laya.stage.scaleMode = Laya.Stage.SCALE_EXACTFIT;\n        if (_autoDirection) {\n            if (initWidth > initHeight) {\n                Laya.stage.screenMode = Laya.Stage.SCREEN_HORIZONTAL;\n            }\n            else {\n                Laya.stage.screenMode = Laya.Stage.SCREEN_VERTICAL;\n            }\n        }\n        Laya.stage.alignH = Laya.Stage.ALIGN_CENTER;\n        Laya.stage.alignV = Laya.Stage.ALIGN_MIDDLE;\n        if (isAlpha) {\n            Laya.stage.bgColor = \"none\";\n        }\n    }\n    else {\n        if (is3D) {\n            Laya3D.init.apply(this, [width, height].concat(options));\n        }\n        else {\n            Laya.init.apply(this, [width, height].concat(options));\n        }\n    }\n    _background = new background_1.default;\n    _background.setTranslucent(false);\n    Laya.stage.addChild(_background);\n    _background.resize();\n    uimgr_1.initUI();\n}\nexports.initScreen = initScreen;\nfunction resize() {\n    var _a = size(), initHeight = _a.initHeight, initWidth = _a.initWidth;\n    Laya.stage.width = initWidth;\n    Laya.stage.height = initHeight;\n    _background && _background.resize();\n}\nfunction getBg() {\n    return _background;\n}\nfunction getWidth() {\n    return Laya.stage.width;\n}\nfunction getHeight() {\n    return Laya.stage.height;\n}\nfunction getContentWidth() {\n    return getWidth() - _padding_left - _padding_right;\n}\nfunction getContentHeight() {\n    return getHeight() - _padding_top - _padding_bottom;\n}\nfunction setPaddingLeft(padding) {\n    _padding_left = padding;\n}\nfunction getPaddingLeft() {\n    return _padding_left;\n}\nfunction setPaddingRight(padding) {\n    _padding_right = padding;\n}\nfunction getPaddingRight() {\n    return _padding_right;\n}\nfunction setPaddingTop(padding) {\n    _padding_top = padding;\n}\nfunction getPaddingTop() {\n    return _padding_top;\n}\nfunction setPaddingBottom(padding) {\n    _padding_bottom = padding;\n}\nfunction getPaddingBottom() {\n    return _padding_bottom;\n}\nfunction getDesignWidth() {\n    return _design_width;\n}\nfunction getDesignHeight() {\n    return _design_height;\n}\nfunction getScale() {\n    var width = getContentWidth();\n    var height = getContentHeight();\n    var designWidth = getDesignWidth();\n    var designHeight = getDesignHeight();\n    return Math.min(width / designWidth, height / designHeight);\n}\nfunction getOffestX() {\n    if (!_autoAdaption) {\n        return _padding_left;\n    }\n    var scale = getScale();\n    var width = getContentWidth();\n    return (width - _design_width * scale) / 2 + _padding_left;\n}\nfunction getOffestY() {\n    if (!_autoAdaption) {\n        return _padding_top;\n    }\n    var scale = getScale();\n    var height = getContentHeight();\n    return (height - _design_height * scale) / 2 + _padding_top;\n}\nfunction setDeviation(deviation) {\n    _deviation = deviation;\n}\nfunction setAutoDirection(auto) {\n    _autoDirection = auto;\n}\nfunction setAutoAdaption(adaption) {\n    _autoAdaption = adaption;\n}\nexports.default = {\n    resize: resize,\n    getBg: getBg,\n    getWidth: getWidth,\n    getHeight: getHeight,\n    getScale: getScale,\n    getOffestX: getOffestX,\n    getOffestY: getOffestY,\n    getContentWidth: getContentWidth,\n    getContentHeight: getContentHeight,\n    getDesignWidth: getDesignWidth,\n    getDesignHeight: getDesignHeight,\n    setDeviation: setDeviation,\n    setPaddingLeft: setPaddingLeft,\n    getPaddingLeft: getPaddingLeft,\n    setPaddingRight: setPaddingRight,\n    getPaddingRight: getPaddingRight,\n    setPaddingTop: setPaddingTop,\n    getPaddingTop: getPaddingTop,\n    setPaddingBottom: setPaddingBottom,\n    getPaddingBottom: getPaddingBottom,\n    setAutoDirection: setAutoDirection,\n    setAutoAdaption: setAutoAdaption,\n};\n","\"use strict\";\n//////////////////////////\n/////  Env\n//////////////////////////\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar isLayaApp = function () {\n    if (typeof window !== \"undefined\") {\n        return window.hasOwnProperty(\"Laya\");\n    }\n    return false;\n};\nvar isConchApp = function () {\n    if (typeof window !== \"undefined\") {\n        return window.hasOwnProperty(\"conch\");\n    }\n    return false;\n};\n//////////////////////////\n/////  Version\n//////////////////////////\nvar _app_version = \"${app_version}\";\nfunction getAppVersion() {\n    if (typeof _app_version === \"string\" && _app_version.indexOf('${') === 0) {\n        return;\n    }\n    return _app_version;\n}\nfunction setAppVersion(version) {\n    _app_version = version;\n}\n//////////////////////////\n/////  Version\n//////////////////////////\nvar _lib_version = \"1.1.15.1218.1809\";\nfunction getVersion() {\n    if (typeof _lib_version === \"string\" && _lib_version.indexOf('${') === 0) {\n        return '1.0.0';\n    }\n    return _lib_version;\n}\n//////////////////////////\n/////  Debug\n//////////////////////////\nvar _debugOn = '${debug}';\nfunction isDebug() {\n    if (typeof _debugOn === \"string\" && _debugOn.indexOf('${') === 0) {\n        return false;\n    }\n    if (_debugOn == \"false\" || _debugOn == \"0\") {\n        return false;\n    }\n    return !!_debugOn;\n}\nfunction setDebug(debug) {\n    _debugOn = debug;\n}\nfunction printDebug(message) {\n    var options = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        options[_i - 1] = arguments[_i];\n    }\n    if (isDebug()) {\n        console.log.apply(console, [\"[ohosdk]\", \"[OHOGame]\", message].concat(options));\n    }\n}\nfunction printError(message) {\n    var options = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        options[_i - 1] = arguments[_i];\n    }\n    if (isDebug()) {\n        console.error.apply(console, [\"[ohosdk]\", \"[OHOGame]\", message].concat(options));\n    }\n}\n//////////////////////////\n/////  Env\n//////////////////////////\nvar _env = '${env}';\nfunction setEnv(env) {\n    _env = env;\n}\nfunction getEnv() {\n    if (typeof _env === \"string\" && _env.indexOf('${') === 0) {\n        return;\n    }\n    return _env;\n}\n//////////////////////////\n/////  getClassName\n//////////////////////////\nvar classNameMap = {};\nfunction getClassName(obj) {\n    try {\n        if (obj) {\n            if (obj.name) {\n                return obj.name;\n            }\n            if (classNameMap[obj]) {\n                return classNameMap[obj];\n            }\n            var str = obj.toString();\n            var arr = void 0;\n            if (str.charAt(0) == '[') {\n                arr = str.match(/\\w+\\s(\\w+)\\w+\\s(\\w+)/);\n            }\n            else {\n                arr = str.match(/function\\s*(\\w+)/);\n            }\n            var name_1 = \"\";\n            if (arr && arr.length == 2) {\n                name_1 = arr[1];\n            }\n            classNameMap[obj] = name_1;\n            return name_1;\n        }\n    }\n    catch (e) {\n    }\n    return undefined;\n}\nexports.getClassName = getClassName;\nexports.default = {\n    isLayaApp: isLayaApp,\n    isConchApp: isConchApp,\n    getVersion: getVersion,\n    setAppVersion: setAppVersion,\n    getAppVersion: getAppVersion,\n    isDebug: isDebug,\n    setDebug: setDebug,\n    printError: printError,\n    printDebug: printDebug,\n    getEnv: getEnv,\n    setEnv: setEnv\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar stack_1 = require(\"../navigator/stack\");\nvar resize_1 = require(\"../../utils/resize\");\nvar loader_1 = require(\"../navigator/loader\");\nvar screen_1 = require(\"./screen\");\nvar component_1 = require(\"../display/component\");\nvar _inited = false;\nvar _uiManager;\nvar _mainUILayer;\nvar _topUILayer;\nfunction _checkInit() {\n    if (!_inited) {\n        _inited = true;\n        _uiManager = new Laya.Sprite();\n        _uiManager.mouseThrough = true;\n        _uiManager.name = '_tape_stage';\n        _mainUILayer = new Laya.Sprite();\n        _mainUILayer.name = '_tape_main_layer';\n        _mainUILayer.mouseThrough = true;\n        _topUILayer = new Laya.Sprite();\n        _topUILayer.name = '_tape_top_layer';\n        _topUILayer.mouseThrough = true;\n        _uiManager.addChild(_mainUILayer);\n        _uiManager.addChild(_topUILayer);\n        Laya.stage.addChild(_uiManager);\n        Laya.stage.on(Laya.Event.RESIZE, null, function () {\n            _resizeUI();\n        });\n        resize_1.onResize(function () {\n            screen_1.default.resize();\n        });\n    }\n    _resizeUI();\n}\nfunction _resizeUI() {\n    if (_mainUILayer) {\n        _mainUILayer.width = screen_1.default.getDesignWidth();\n        _mainUILayer.height = screen_1.default.getDesignHeight();\n        _mainUILayer.x = screen_1.default.getOffestX();\n        _mainUILayer.y = screen_1.default.getOffestY();\n    }\n    if (_topUILayer) {\n        _topUILayer.width = screen_1.default.getDesignWidth();\n        _topUILayer.height = screen_1.default.getDesignHeight();\n        _topUILayer.x = screen_1.default.getOffestX();\n        _topUILayer.y = screen_1.default.getOffestY();\n    }\n    _uiManager.scaleX = screen_1.default.getScale();\n    _uiManager.scaleY = screen_1.default.getScale();\n    for (var index = 0; index < _mainUILayer.numChildren; index++) {\n        var ui = _mainUILayer.getChildAt(index);\n        if (ui && ui instanceof component_1.default) {\n            ui.__callOnResize();\n        }\n    }\n    for (var index = 0; index < _topUILayer.numChildren; index++) {\n        var ui = _topUILayer.getChildAt(index);\n        if (ui && ui instanceof component_1.default) {\n            ui.__callOnResize();\n        }\n    }\n}\nfunction initUI() {\n    _checkInit();\n}\nexports.initUI = initUI;\nfunction checkFocus() {\n    if (_mainUILayer.numChildren > 0) {\n        var last = _mainUILayer.getChildAt(_mainUILayer.numChildren - 1);\n        if (last instanceof loader_1.default) {\n            stack_1.setFocus(true);\n            return;\n        }\n    }\n    stack_1.setFocus(false);\n}\nfunction moveTopToMainLayer(view) {\n    _checkInit();\n    if (view && view.parent == _mainUILayer) {\n        _mainUILayer.removeChild(view);\n        _mainUILayer.addChild(view);\n    }\n    checkFocus();\n}\nfunction addViewToMainLayer(view) {\n    _checkInit();\n    view && _mainUILayer.addChild(view);\n    checkFocus();\n}\nfunction addViewTopLayer(view) {\n    _checkInit();\n    view && _topUILayer.addChild(view);\n    checkFocus();\n}\nexports.default = {\n    checkFocus: checkFocus,\n    moveTopToMainLayer: moveTopToMainLayer,\n    addViewToMainLayer: addViewToMainLayer,\n    addViewTopLayer: addViewTopLayer,\n};\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar screen_1 = require(\"../manager/screen\");\nvar background_1 = require(\"./background\");\nvar baseview_1 = require(\"./baseview\");\nvar Component = /** @class */ (function (_super) {\n    __extends(Component, _super);\n    function Component(handleOnTouchOutside) {\n        if (handleOnTouchOutside === void 0) { handleOnTouchOutside = null; }\n        var _this = _super.call(this) || this;\n        _this._nonPenetrating = false;\n        _this._handleOnTouchOutside = null;\n        _this._background = null;\n        _this._showed = false;\n        _this._handleOnTouchOutside = handleOnTouchOutside;\n        _this._background = new background_1.default(function (bg) {\n            bg.x = -screen_1.default.getOffestX();\n            bg.y = -screen_1.default.getOffestY();\n        });\n        _this._background.setBgAlpha(0.5);\n        _this._background.setBgColor(\"#000000\");\n        _this._background.setTranslucent(true);\n        _this.addChild(_this._background);\n        _this._refreshOnTouchOutside();\n        _this.onNew && _this.onNew();\n        return _this;\n    }\n    Object.defineProperty(Component.prototype, \"bg\", {\n        get: function () {\n            return this._background;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Component.prototype, \"nonPenetrating\", {\n        get: function () {\n            return this._nonPenetrating;\n        },\n        set: function (nonPenetrating) {\n            this._nonPenetrating = nonPenetrating;\n            this._refreshOnTouchOutside();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Component.prototype, \"showed\", {\n        get: function () {\n            return this._showed;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Component.prototype._onHandleOnTouchOutsideEvent = function (e) {\n        if (this.showed) {\n            this._handleOnTouchOutside && this._handleOnTouchOutside();\n        }\n        e.stopPropagation();\n    };\n    Component.prototype._refreshOnTouchOutside = function () {\n        this._background && this._background.offAll();\n        if ((this._handleOnTouchOutside || this.nonPenetrating) && this.ui) {\n            this.ui.mouseThrough = true;\n            this._background && this._background.on(Laya.Event.CLICK, this, this._onHandleOnTouchOutsideEvent);\n        }\n    };\n    Component.prototype.__callSetShowed = function (showed) {\n        this._showed = showed;\n    };\n    Component.prototype.__callOnResize = function () {\n        this._background && this._background.resize();\n    };\n    return Component;\n}(baseview_1.default));\nexports.default = Component;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar loader_1 = require(\"./loader\");\nvar uimgr_1 = require(\"../manager/uimgr\");\nvar _loaders = [];\nfunction _all() {\n    return _loaders;\n}\nfunction _length() {\n    return _loaders.length;\n}\nfunction _getStack(index) {\n    if (index === void 0) { index = 0; }\n    var len = _length();\n    return len > index ? _loaders[len - 1 - index] : null;\n}\nfunction _showStack(index, anim, callback) {\n    if (index === void 0) { index = 0; }\n    if (anim === void 0) { anim = false; }\n    if (callback === void 0) { callback = null; }\n    var stack = _getStack(index);\n    if (!stack) {\n        return;\n    }\n    stack.show(anim && _length() > 1, callback);\n}\nfunction _pushStack(stack) {\n    _loaders.push(stack);\n}\nfunction _topStack(stack) {\n    var index = _loaders.indexOf(stack);\n    if (index >= 0) {\n        _loaders.splice(index, 1);\n        _loaders.push(stack);\n        _refreshStack(null);\n        uimgr_1.default.moveTopToMainLayer(stack);\n    }\n}\nfunction _refreshStack(callback) {\n    _showStack(0, true, function () {\n        var stack = _getStack(1);\n        if (!stack) {\n            return;\n        }\n        stack.hide();\n        callback && callback();\n    });\n}\nfunction _finishStack(stacks) {\n    if (!stacks || stacks.length <= 0) {\n        return;\n    }\n    for (var i = 0; _length() > 1 && i < stacks.length; i++) {\n        var stack = stacks[i];\n        _loaders.splice(_loaders.indexOf(stack), 1);\n        stack.hide(true, function () {\n            stack.exit();\n        });\n    }\n    _showStack(0);\n}\nfunction _popStack(count) {\n    if (count >= _length()) {\n        count = _length() - 1;\n    }\n    if (count <= 0) {\n        return;\n    }\n    var pops = _loaders.splice(_length() - count, count);\n    pops.forEach(function (stack) {\n        stack.hide(true, function () {\n            stack.exit();\n        });\n    });\n    _showStack(0);\n}\nfunction setFocus(focus) {\n    var stack = _getStack();\n    if (stack) {\n        stack.focus(focus);\n    }\n}\nexports.setFocus = setFocus;\nfunction navigate(page, params, action, single) {\n    if (params === void 0) { params = null; }\n    if (action === void 0) { action = null; }\n    if (single === void 0) { single = false; }\n    if (!params) {\n        params = {};\n    }\n    var open = function () {\n        new loader_1.default({\n            page: page,\n            params: params,\n            onShow: function () {\n                _refreshStack(function () {\n                    action && action(true);\n                });\n            },\n            onLoaded: function (loader) {\n                uimgr_1.default.addViewToMainLayer(loader);\n                _pushStack(loader);\n            },\n            onLoadProgress: function (loader, progress) {\n                var stack = _getStack();\n                stack && stack.nextProgress(progress);\n            }\n        });\n    };\n    if (single || page.single) {\n        var stacks = [];\n        _all().forEach(function (stack) {\n            if (stack.filter(page)) {\n                stacks.push(stack);\n            }\n        });\n        stacks.length > 0 ? _topStack(stacks.pop()) : open();\n    }\n    else {\n        open();\n    }\n}\nfunction popToTop() {\n    _popStack(_length());\n}\nfunction pop(number) {\n    if (number === void 0) { number = 1; }\n    _popStack(number);\n}\nfunction finish(page, instance) {\n    if (instance === void 0) { instance = null; }\n    var stacks = [];\n    _all().forEach(function (stack) {\n        if (stack.filter(page, instance)) {\n            stacks.push(stack);\n        }\n    });\n    _finishStack(stacks);\n}\nexports.default = {\n    navigate: navigate,\n    pop: pop,\n    popToTop: popToTop,\n    finish: finish,\n};\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar screen_1 = require(\"../manager/screen\");\nvar Background = /** @class */ (function (_super) {\n    __extends(Background, _super);\n    function Background(resize) {\n        if (resize === void 0) { resize = null; }\n        var _this = _super.call(this) || this;\n        _this._onResize = null;\n        _this._bgSprite = null;\n        _this._bgImage = null;\n        _this._bgAlpha = 1;\n        _this._bgColor = null;\n        _this._bgSkin = null;\n        _this._bgSizeGrid = null;\n        _this._bgTexture = null;\n        _this._isTranslucent = true;\n        _this._bgType = 0;\n        _this._onResize = resize;\n        _this._bgSprite = new Laya.Sprite;\n        _this._bgImage = new Laya.Image;\n        _this.addChild(_this._bgSprite);\n        _this.addChild(_this._bgImage);\n        _this.resize();\n        return _this;\n    }\n    Background.prototype._drawBg = function () {\n        var _this = this;\n        this._bgImage.visible = !this._isTranslucent;\n        this._bgSprite.visible = !this._isTranslucent;\n        this._bgImage.alpha = this._bgAlpha;\n        this._bgSprite.alpha = this._bgAlpha;\n        if (this._bgType == 1) {\n            if (this._bgSprite && this._bgColor) {\n                this._bgSprite.graphics.clear();\n                this._bgSprite.graphics.drawRect(0, 0, this._bgSprite.width, this._bgSprite.height, this._bgColor);\n            }\n        }\n        else if (this._bgType == 2) {\n            if (this._bgImage && this._bgSkin) {\n                this._bgImage.skin = this._bgSkin;\n                this._bgImage.sizeGrid = this._bgSizeGrid || \"\";\n            }\n        }\n        else if (this._bgType == 3) {\n            if (this._bgSprite && this._bgTexture) {\n                Laya.loader.load(this._bgTexture, Laya.Handler.create(this, function (texture) {\n                    try {\n                        _this._bgSprite.graphics.clear();\n                        _this._bgSprite.graphics.fillTexture(texture, 0, 0, _this._bgSprite.width, _this._bgSprite.height, 'repeat');\n                    }\n                    catch (error) {\n                    }\n                }));\n            }\n        }\n    };\n    Background.prototype.resize = function () {\n        if (this._bgSprite) {\n            this._bgSprite.width = screen_1.default.getWidth();\n            this._bgSprite.height = screen_1.default.getHeight();\n        }\n        if (this._bgImage) {\n            this._bgImage.width = screen_1.default.getWidth();\n            this._bgImage.height = screen_1.default.getHeight();\n        }\n        this._onResize && this._onResize(this);\n        this._drawBg();\n    };\n    Background.prototype.setBgAlpha = function (bgAlpha) {\n        this._bgAlpha = bgAlpha;\n        this._drawBg();\n    };\n    Background.prototype.setBgColor = function (color) {\n        this._bgType = 1;\n        this._bgColor = color;\n        this._drawBg();\n    };\n    Background.prototype.setBgSkin = function (url, sizeGrid) {\n        if (sizeGrid === void 0) { sizeGrid = null; }\n        this._bgType = 2;\n        this._bgSkin = url;\n        this._bgSizeGrid = sizeGrid;\n        this._drawBg();\n    };\n    Background.prototype.setBgTexture = function (url) {\n        this._bgType = 3;\n        this._bgTexture = url;\n        this._drawBg();\n    };\n    Background.prototype.setTranslucent = function (translucent) {\n        this._isTranslucent = translucent;\n        this._drawBg();\n    };\n    Background.prototype.isTranslucent = function () {\n        return this._isTranslucent;\n    };\n    return Background;\n}(Laya.Component));\nexports.default = Background;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _inits = [];\nfunction callHookInit(width, height) {\n    var options = [];\n    for (var _i = 2; _i < arguments.length; _i++) {\n        options[_i - 2] = arguments[_i];\n    }\n    _inits.forEach(function (callback) { return callback.apply(void 0, [width, height].concat(options)); });\n}\nexports.callHookInit = callHookInit;\nfunction onInit(callback) {\n    if (callback && typeof callback == \"function\" && _inits.indexOf(callback) < 0) {\n        _inits.push(callback);\n    }\n}\nexports.default = {\n    onInit: onInit\n};\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar uimgr_1 = require(\"../manager/uimgr\");\nvar env_1 = require(\"../env\");\nvar init_1 = require(\"./init\");\nvar json_1 = require(\"../../utils/json\");\nvar _indexID = 1;\nfunction genID(obj) {\n    var name = env_1.getClassName(obj) || \"Activity\";\n    return name + \"$\" + _indexID++;\n}\nfunction getRes(unpackFile, res) {\n    if (unpackFile) {\n        return json_1.loadJson(unpackFile, true).catch(function () {\n            return [];\n        }).then(function (data) {\n            return res.concat(data.map(function (item) {\n                return {\n                    url: item,\n                    tyep: Laya.Loader.IMAGE\n                };\n            }));\n        });\n    }\n    return Promise.resolve(res);\n}\nvar default_1 = /** @class */ (function (_super) {\n    __extends(default_1, _super);\n    function default_1(options) {\n        var _this = _super.call(this) || this;\n        _this._options = null;\n        _this._activity = null;\n        _this._isFocus = false;\n        _this._pageName = \"\";\n        _this.visible = false;\n        _this._options = options;\n        _this._pageName = genID(_this._options.page);\n        env_1.default.printDebug(\"init\", _this._getPageName());\n        getRes(_this._options.page.unpackFile, _this._options.page.res || []).catch(function () {\n            return [];\n        }).then(function (res) {\n            if (res && res.length > 0) {\n                Laya.loader.load(res, Laya.Handler.create(_this, function () {\n                    _this._newActivity();\n                    setTimeout(function () { _this._onLoaded(); }, 100);\n                    env_1.default.printDebug(\"onLoaded\", _this._getPageName());\n                }), Laya.Handler.create(_this, function (progress) {\n                    env_1.default.printDebug(\"onLoadProgress\", _this._getPageName(), progress);\n                    _this._onLoadProgress(progress);\n                }, null, false));\n            }\n            else {\n                _this._newActivity();\n                _this._onLoaded();\n                env_1.default.printDebug(\"onLoaded\", _this._getPageName());\n                env_1.default.printDebug(\"onLoadProgress\", _this._getPageName(), 1);\n            }\n        });\n        return _this;\n    }\n    default_1.prototype._getPageName = function () {\n        return this._pageName;\n    };\n    default_1.prototype._newActivity = function () {\n        if (this._activity) {\n            return;\n        }\n        this._activity = new this._options.page();\n        this._activity.page = this._options.page;\n        this._activity.params = Object.assign({}, this._options.params || {});\n        this._activity[\"_ID\"] = this._pageName;\n        env_1.default.printDebug(\"newActivity\", this._getPageName());\n    };\n    default_1.prototype._onLoaded = function () {\n        var _this = this;\n        init_1.onNavigatorReady().then(function () {\n            _this._options.onLoaded && _this._options.onLoaded(_this);\n            _this.addChild(_this._activity);\n            env_1.default.printDebug(\"onCreate\", _this._getPageName());\n            _this._activity.onCreate && _this._activity.onCreate();\n            _this._options.onShow && _this._options.onShow();\n        });\n    };\n    default_1.prototype._onLoadProgress = function (progress) {\n        this._options.onLoadProgress && this._options.onLoadProgress(this, progress);\n    };\n    default_1.prototype.nextProgress = function (progress) {\n        this._activity.onNextProgress && this._activity.onNextProgress(progress);\n    };\n    default_1.prototype.filter = function (page, activity) {\n        if (page === this._options.page) {\n            return !activity || activity === this._activity;\n        }\n        return false;\n    };\n    default_1.prototype.show = function (anim, callback) {\n        if (this.visible) {\n            return;\n        }\n        if (this._activity.showed) {\n            return;\n        }\n        this._activity.__callSetShowed(true);\n        var easeIn = this._activity.easeIn || Laya.Ease.linearIn;\n        var duration = this._activity.duration || 0;\n        var fromProps = this._activity.fromProps || {};\n        var toProps = this._activity.toProps || {};\n        if (anim && duration > 0) {\n            Object.assign(this, fromProps);\n            env_1.default.printDebug(\"onResume\", this._getPageName());\n            this._activity.onResume && this._activity.onResume();\n            this.visible = true;\n            Laya.Tween.to(this, toProps, duration, easeIn, Laya.Handler.create(this, function () {\n                callback && callback();\n            }));\n        }\n        else {\n            env_1.default.printDebug(\"onResume\", this._getPageName());\n            this._activity.onResume && this._activity.onResume();\n            this.visible = true;\n            callback && callback();\n        }\n        uimgr_1.default.checkFocus();\n    };\n    default_1.prototype.hide = function (anim, callback) {\n        var _this = this;\n        if (!this.visible) {\n            return;\n        }\n        if (!this._activity.showed) {\n            return;\n        }\n        this._activity.__callSetShowed(false);\n        var easeOut = this._activity.easeOut || Laya.Ease.linearIn;\n        var duration = this._activity.duration || 0;\n        var fromProps = this._activity.toProps || {};\n        var toProps = this._activity.exitProps || {};\n        if (anim && duration > 0) {\n            Object.assign(this, fromProps);\n            env_1.default.printDebug(\"onPause\", this._getPageName());\n            this._activity.onPause && this._activity.onPause();\n            Laya.Tween.to(this, toProps, duration, easeOut, Laya.Handler.create(this, function () {\n                _this.visible = true;\n                callback && callback();\n            }));\n        }\n        else {\n            env_1.default.printDebug(\"onPause\", this._getPageName());\n            this._activity.onPause && this._activity.onPause();\n            this.visible = false;\n            callback && callback();\n        }\n        this.focus(false);\n    };\n    default_1.prototype.exit = function () {\n        env_1.default.printDebug(\"onDestroy\", this._getPageName());\n        this._activity.onDestroy && this._activity.onDestroy();\n        this.destroy();\n    };\n    default_1.prototype.focus = function (focus) {\n        if (this._isFocus === focus) {\n            return;\n        }\n        this._isFocus = focus;\n        env_1.default.printDebug(\"onFocus\", this._getPageName(), focus);\n        this._activity.onFocus && this._activity.onFocus(focus);\n    };\n    return default_1;\n}(Laya.Component));\nexports.default = default_1;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar stack_1 = require(\"./stack\");\nvar _options = null;\nvar _inited = false;\nvar _isReady = false;\nvar _readyResolve = null;\nvar _readyPromise = new Promise(function (resolve) {\n    _readyResolve = resolve;\n});\nfunction _enableResourceVersion() {\n    if (_options && _options.fileVersion) {\n        Laya.ResourceVersion.type = Laya.ResourceVersion.FILENAME_VERSION;\n        Laya.ResourceVersion.enable(_options.fileVersion, Laya.Handler.create(null, function () {\n            _beginLoadStaticRes();\n        }));\n    }\n    else {\n        _beginLoadStaticRes();\n    }\n}\nfunction _beginLoadStaticRes() {\n    var res = _options.commonRes || [];\n    if (res.length > 0) {\n        Laya.loader.load(res, Laya.Handler.create(null, function () {\n            _onStaticResLoaded();\n            _options.onLoaded && _options.onLoaded();\n        }), Laya.Handler.create(this, function (progress) {\n            _options.onLoadProgress && _options.onLoadProgress(progress);\n        }, null, false));\n    }\n    else {\n        _options.onLoadProgress && _options.onLoadProgress(100);\n        _options.onLoaded && _options.onLoaded();\n        _onStaticResLoaded();\n    }\n}\nfunction _onStaticResLoaded() {\n    _options.mainPage && stack_1.default.navigate(_options.mainPage);\n}\nfunction initNavigator(options) {\n    if (!options || _inited) {\n        return;\n    }\n    _options = options;\n    _enableResourceVersion();\n    _inited = true;\n}\nexports.initNavigator = initNavigator;\nfunction onNavigatorReady() {\n    if (_isReady) {\n        return Promise.resolve();\n    }\n    return _readyPromise;\n}\nexports.onNavigatorReady = onNavigatorReady;\nfunction setNavigatorReady() {\n    if (_isReady) {\n        return;\n    }\n    _isReady = true;\n    _readyResolve();\n    _readyResolve = null;\n    _readyPromise = null;\n}\nexports.setNavigatorReady = setNavigatorReady;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _temp = {};\nvar _reject = {};\nvar _listener = false;\nfunction _initListener() {\n    if (_listener) {\n        return;\n    }\n    _listener = true;\n    Laya.loader.on(Laya.Event.ERROR, this, function (url) {\n        if (_reject[url]) {\n            _reject[url](\"load res error: \" + url);\n        }\n    });\n}\nfunction loadJson(url, force) {\n    var _this = this;\n    if (force === void 0) { force = false; }\n    if (!force && _temp[url]) {\n        return Promise.resolve(_temp[url]);\n    }\n    _initListener();\n    return new Promise(function (resolve, reject) {\n        _reject[url] = reject;\n        Laya.loader.load([{ url: url, type: Laya.Loader.JSON }], Laya.Handler.create(_this, function () {\n            var val = Laya.loader.getRes(url);\n            if (val) {\n                _temp[url] = val;\n                resolve(val);\n            }\n            else {\n                reject();\n            }\n            delete _reject[url];\n        }));\n    });\n}\nexports.loadJson = loadJson;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar BaseView = /** @class */ (function (_super) {\n    __extends(BaseView, _super);\n    function BaseView() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(BaseView.prototype, \"ui\", {\n        get: function () {\n            return this.getChildByName('_contentView');\n        },\n        set: function (view) {\n            this.removeChildByName('_contentView');\n            view.name = '_contentView';\n            view.mouseThrough = true;\n            this.addChild(view);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return BaseView;\n}(Laya.Component));\nexports.default = BaseView;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction removeItemForWhere(array, where) {\n    if (typeof where === 'function') {\n        var removeIndexArray_1 = [];\n        array.forEach(function (value, index) {\n            if (where(value)) {\n                removeIndexArray_1.push(index);\n            }\n        });\n        removeIndexArray_1.reverse();\n        removeIndexArray_1.forEach(function (index) {\n            array.splice(index, 1);\n        });\n    }\n}\nvar Looper = /** @class */ (function () {\n    function Looper() {\n        this._tasks = [];\n        this._hasLoop = false;\n    }\n    Looper.prototype._checkLoop = function () {\n        var _this = this;\n        if (this._tasks.length > 0) {\n            if (!this._hasLoop) {\n                Laya.timer.frameLoop(1, this, function () {\n                    _this._tasks.forEach(function (task) {\n                        var caller = task.caller, callback = task.callback;\n                        callback.apply(caller);\n                    });\n                });\n                this._hasLoop = true;\n            }\n        }\n        else {\n            if (this._hasLoop) {\n                Laya.timer.clearAll(this);\n                this._hasLoop = false;\n            }\n        }\n    };\n    Looper.prototype.loop = function (caller, callback) {\n        var filterTasks = this._tasks.filter(function (task) {\n            return task.caller == caller && task.callback == callback;\n        });\n        if (filterTasks.length == 0) {\n            this._tasks.push({\n                caller: caller,\n                callback: callback,\n            });\n            this._checkLoop();\n        }\n    };\n    Looper.prototype.clear = function (caller, callback) {\n        removeItemForWhere(this._tasks, function (task) {\n            return task.caller == caller && (!callback || task.callback == callback);\n        });\n        this._checkLoop();\n    };\n    return Looper;\n}());\nexports.Looper = Looper;\nexports.default = new Looper;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction _toNumber_(value) {\n    try {\n        return JSON.parse(value);\n    }\n    catch (ex) {\n        return parseFloat(value);\n    }\n}\nfunction _toBoolean_(value) {\n    return !!value && value != 'false' && value != '0';\n}\nfunction _toString_(value, def) {\n    try {\n        var type = typeof value;\n        if (type === 'string') {\n            return value;\n        }\n        else if (type === 'boolean') {\n            return value ? 'true' : 'false';\n        }\n        else if (type === 'number') {\n            return \"\" + value;\n        }\n        else if (type === 'object') {\n            return JSON.stringify(value);\n        }\n    }\n    catch (ex) {\n    }\n    return def;\n}\nfunction _toObject_(value, def) {\n    if (typeof value === 'object') {\n        return value;\n    }\n    try {\n        return JSON.parse(value);\n    }\n    catch (ex) {\n    }\n    return def;\n}\nfunction _inferType(value) {\n    if (typeof value !== 'string') {\n        return typeof value;\n    }\n    try {\n        var parsed = JSON.parse(value);\n        return typeof parsed;\n    }\n    catch (ex) {\n        // might be a pure number\n        var number = parseFloat(value);\n        if (!isNaN(number) && \"\" + number === value) {\n            return 'number';\n        }\n        return 'string';\n    }\n}\nfunction toAny(value, def) {\n    if (value === undefined || value === null) {\n        return def;\n    }\n    // try to infer type and return\n    var type = _inferType(value);\n    if (def !== undefined && def !== null) {\n        type = typeof def;\n    }\n    switch (type) {\n        case 'number':\n            return _toNumber_(value);\n        case 'boolean':\n            return _toBoolean_(value);\n        case 'object':\n            return _toObject_(value, def);\n        case 'string':\n            return _toString_(value, def);\n        default:\n            break;\n    }\n    return def;\n}\nexports.toAny = toAny;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar env_1 = require(\"../env\");\nvar uimgr_1 = require(\"../manager/uimgr\");\nvar _popups = {};\nvar _fromProps = { alpha: 0 };\nvar _toProps = { alpha: 1 };\nvar _exitProps = { alpha: 0 };\nfunction _showPopupAnim(popupView, cb) {\n    // ui anim\n    var uiDuration = popupView.uiDuration || 300;\n    var uiFromProps = popupView.uiFromProps || {};\n    var uiToProps = popupView.uiToProps || {};\n    var uiEaseIn = popupView.uiEaseIn || Laya.Ease.linearIn;\n    Object.assign(popupView.ui, uiFromProps);\n    Laya.Tween.to(popupView.ui, uiToProps, uiDuration, uiEaseIn);\n    // view anim\n    var duration = popupView.duration || 300;\n    var from = popupView.fromProps || _fromProps || {};\n    var to = popupView.toProps || _toProps || {};\n    var easeIn = popupView.easeIn || Laya.Ease.linearIn;\n    Object.assign(popupView, from);\n    Laya.Tween.to(popupView, to, duration, easeIn, Laya.Handler.create(this, function () {\n        cb && cb(popupView);\n    }));\n}\nfunction _hidePopupAnim(popupView, cb) {\n    // ui anim\n    var uiDuration = popupView.uiDuration || 300;\n    var uiToProps = popupView.uiToProps || {};\n    var uiExitProps = popupView.uiExitProps || {};\n    var uiEaseOut = popupView.uiEaseOut || Laya.Ease.linearOut;\n    Object.assign(popupView.ui, uiToProps);\n    Laya.Tween.to(popupView.ui, uiExitProps, uiDuration, uiEaseOut);\n    // view anim\n    var duration = popupView.duration || 300;\n    var toProps = popupView.toProps || _toProps || {};\n    var exitProps = popupView.exitProps || _exitProps || {};\n    var easeOut = popupView.easeOut || Laya.Ease.linearOut;\n    Object.assign(popupView, toProps);\n    Laya.Tween.to(popupView, exitProps, duration, easeOut, Laya.Handler.create(this, function () {\n        cb && cb(popupView);\n    }), Math.max(0, uiDuration - duration));\n}\nfunction _hidePopup(view, result) {\n    _hidePopupAnim(view, function () {\n        view.__callSetShowed(false);\n        view['__hideCallback__'] && view['__hideCallback__'](view.popup, result);\n        view.onHide && view.onHide(view.popup, result);\n        view.removeSelf && view.removeSelf();\n        view.destroy && view.destroy();\n        uimgr_1.default.checkFocus();\n    });\n}\nfunction showPopup(popup, params, onHide, alias) {\n    if (params === void 0) { params = null; }\n    if (onHide === void 0) { onHide = null; }\n    if (alias === void 0) { alias = \"default\"; }\n    var mapKey = alias + \"_\" + env_1.getClassName(popup);\n    var views = _popups[mapKey];\n    var view = new popup();\n    view.alias = alias;\n    view.popup = popup;\n    view.params = params || {};\n    view['__hideCallback__'] = onHide;\n    if (views) {\n        views.push(view);\n    }\n    else {\n        _popups[mapKey] = [view];\n    }\n    if (view.topLevel) {\n        uimgr_1.default.addViewTopLayer(view);\n    }\n    else {\n        uimgr_1.default.addViewToMainLayer(view);\n    }\n    view.onShow && view.onShow();\n    _showPopupAnim(view, function () {\n        view.__callSetShowed(true);\n    });\n}\nfunction hidePopup(popup, view, result, alias) {\n    if (view === void 0) { view = null; }\n    if (result === void 0) { result = {}; }\n    if (alias === void 0) { alias = \"default\"; }\n    var mapKey = alias + \"_\" + env_1.getClassName(popup);\n    var views = _popups[mapKey];\n    if (view) {\n        var index = views ? views.indexOf(view) : -1;\n        if (index < 0) {\n            return;\n        }\n        views.splice(index, 1);\n        _hidePopup(view, result);\n    }\n    else {\n        views && views.splice(0, views.length).forEach(function (v) {\n            _hidePopup(v, result || { close: true });\n        });\n    }\n}\nexports.default = {\n    showPopup: showPopup,\n    hidePopup: hidePopup\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar uimgr_1 = require(\"../manager/uimgr\");\nvar _toasts = {};\nfunction _pushToast(toast, view) {\n    if (_toasts[toast]) {\n        _toasts[toast].push(view);\n    }\n    else {\n        _toasts[toast] = [view];\n    }\n}\nfunction _popToast(toast, view) {\n    if (!_toasts[toast]) {\n        return [];\n    }\n    if (view && _toasts[toast].length > 1) {\n        _toasts[toast].splice(_toasts[toast].indexOf(view), 1);\n        return [view];\n    }\n    else {\n        var views = _toasts[toast] || [];\n        delete _toasts[toast];\n        return views;\n    }\n}\nfunction showToast(toast, params, onHide) {\n    if (params === void 0) { params = null; }\n    if (onHide === void 0) { onHide = null; }\n    var view = new toast;\n    view['__hideCallback__'] = onHide;\n    view.toast = toast;\n    view.params = params || {};\n    view.onShow && view.onShow();\n    var from = view.fromProps || { alpha: 0 };\n    var to = view.toProps || { alpha: 1 };\n    var exit = view.exitProps || { alpha: 0 };\n    var easeIn = view.easeIn || Laya.Ease.linearIn;\n    var easeOut = view.easeOut || Laya.Ease.linearOut;\n    var duration = view.duration;\n    var displayDuration = view.displayDuration;\n    Object.assign(view, from);\n    Laya.Tween.to(view, to, duration, easeIn, Laya.Handler.create(this, function () {\n        view.__callSetShowed(true);\n    }), 0);\n    if (displayDuration != -1) {\n        Laya.Tween.to(view, exit, duration, easeOut, Laya.Handler.create(this, function () {\n            if (view) {\n                _popToast(toast, view);\n                view.__callSetShowed(false);\n                view['__hideCallback__'] && view['__hideCallback__'](view.toast);\n                view.onHide && view.onHide();\n                view.destroy();\n            }\n        }), displayDuration + duration);\n    }\n    _pushToast(toast, view);\n    if (view.topLevel) {\n        uimgr_1.default.addViewTopLayer(view);\n    }\n    else {\n        uimgr_1.default.addViewToMainLayer(view);\n    }\n}\nfunction hideToast(toast, view) {\n    if (view === void 0) { view = null; }\n    var list = _popToast(toast, view);\n    list.forEach(function (view) {\n        view._on_hide && view._on_hide(view.toast);\n        view.showState = false;\n        view.onHide && view.onHide();\n        view.destroy();\n    });\n}\nexports.default = {\n    showToast: showToast,\n    hideToast: hideToast,\n};\n","\"use strict\";\nrequire(\"./adapter\");\nrequire(\"./polyfill\");\nvar eft_1 = require(\"./services/manager/eft\");\nvar screen_1 = require(\"./services/manager/screen\");\nvar speaker_1 = require(\"./services/speaker\");\nvar audio_1 = require(\"./services/audio\");\nvar env_1 = require(\"./services/env\");\nvar js_1 = require(\"./services/js\");\nvar event_1 = require(\"./services/event\");\nvar runtime_1 = require(\"./services/runtime\");\nvar message_1 = require(\"./services/message\");\nvar utils_1 = require(\"./services/utils\");\nvar stack_1 = require(\"./services/navigator/stack\");\nvar popupmanager_1 = require(\"./services/display/popupmanager\");\nvar toastmanager_1 = require(\"./services/display/toastmanager\");\nvar activity_1 = require(\"./services/display/activity\");\nvar popupview_1 = require(\"./services/display/popupview\");\nvar toastview_1 = require(\"./services/display/toastview\");\nvar component_1 = require(\"./services/display/component\");\nvar background_1 = require(\"./services/display/background\");\nvar baseview_1 = require(\"./services/display/baseview\");\nvar pageview_1 = require(\"./services/views/pageview\");\nvar pagelist_1 = require(\"./services/views/pagelist\");\nvar query_1 = require(\"./utils/query\");\nvar init_1 = require(\"./services/init\");\nfunction getBg() {\n    return screen_1.default.getBg();\n}\nvar OHOGame = Object.assign({}, {\n    init: init_1.init,\n    init3D: init_1.init3D,\n    start: init_1.start,\n    getBg: getBg,\n    setTransparent: init_1.setTransparent,\n    getQueryString: query_1.getQueryString,\n    setAdapterInfo: init_1.setAdapterInfo,\n    env: env_1.default,\n    js: js_1.default,\n    eft: eft_1.default,\n    screen: screen_1.default,\n    speaker: speaker_1.default,\n    audio: audio_1.default,\n    event: event_1.default,\n    runtime: runtime_1.default,\n    navigator: stack_1.default,\n    utils: utils_1.default,\n    popup: popupmanager_1.default,\n    toast: toastmanager_1.default,\n    message: message_1.default,\n    Activity: activity_1.default,\n    PopupView: popupview_1.default,\n    ToastView: toastview_1.default,\n    Component: component_1.default,\n    Background: background_1.default,\n    BaseView: baseview_1.default,\n    PageView: pageview_1.PageView,\n    PageList: pagelist_1.PageList\n});\nif (typeof window !== \"undefined\") {\n    window.OHOGame = OHOGame;\n}\nmodule.exports = {\n    OHOGame: OHOGame\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nrequire(\"./_transsion\");\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar hook_1 = require(\"../services/hook\");\n// loader\nif (Laya && Laya.Loader) {\n    var Handler = Laya.Handler;\n    var Loader = Laya.Loader;\n    var HttpRequest = Laya.HttpRequest;\n    var __proto = Loader.prototype;\n    __proto.load = function (url, type, cache, group, ignoreCache) {\n        (cache === void 0) && (cache = true);\n        (ignoreCache === void 0) && (ignoreCache = false);\n        this._url = url;\n        if (url.indexOf(\"data:image\") === 0)\n            this._type = type = \"image\";\n        else {\n            this._type = type || (type = this.getTypeFromUrl(url));\n            url = Laya.URL.formatURL(url);\n        }\n        this._cache = cache;\n        this._data = null;\n        if (!ignoreCache && Loader.loadedMap[url]) {\n            this._data = Loader.loadedMap[url];\n            this.event(/*laya.events.Event.PROGRESS*/ \"progress\", 1);\n            this.event(/*laya.events.Event.COMPLETE*/ \"complete\", this._data);\n            return;\n        }\n        if (group)\n            Loader.setGroup(url, group);\n        if (Loader.parserMap[type] != null) {\n            this._customParse = true;\n            if (((Loader.parserMap[type]) instanceof Handler))\n                Loader.parserMap[type].runWith(this);\n            else\n                Loader.parserMap[type].call(null, this);\n            return;\n        }\n        if (type === \"image\" || type === \"htmlimage\" || type === \"nativeimage\")\n            return this._loadImage(url);\n        if (type === \"sound\")\n            return this._loadSound(url);\n        if (type === \"ttf\")\n            return this._loadTTF(url);\n        try {\n            // \n            if (typeof loadRuntime !== 'undefined' && !url.startsWith(\"http\")) {\n                var that = this;\n                setTimeout(function () {\n                    if (url.startsWith('file://')) {\n                        url = url.substr('file://'.length);\n                    }\n                    var response;\n                    if (type == 'pkm' || type === \"arraybuffer\") {\n                        response = rt.getFileSystemManager().readFileSync(url);\n                    }\n                    else {\n                        response = rt.getFileSystemManager().readFileSync(url, \"utf8\");\n                        if ((type == 'atlas' || type == 'json') && typeof response !== \"undefined\") {\n                            response = JSON.parse(response);\n                        }\n                    }\n                    that.onLoaded(response);\n                }, 0);\n                return; // return\n            }\n        }\n        catch (error) {\n        }\n        //  laya \n        var contentType;\n        switch (type) {\n            case \"atlas\":\n            case \"plf\":\n                contentType = \"json\";\n                break;\n            case \"font\":\n                contentType = \"xml\";\n                break;\n            case \"pkm\":\n                contentType = \"arraybuffer\";\n                break;\n            default:\n                contentType = type;\n        }\n        if (Loader.preLoadedMap[url]) {\n            this.onLoaded(Loader.preLoadedMap[url]);\n        }\n        else {\n            if (!this._http) {\n                this._http = new HttpRequest();\n                this._http.on(/*laya.events.Event.PROGRESS*/ \"progress\", this, this.onProgress);\n                this._http.on(/*laya.events.Event.ERROR*/ \"error\", this, this.onError);\n                this._http.on(/*laya.events.Event.COMPLETE*/ \"complete\", this, this.onLoaded);\n            }\n            this._http.send(url, null, \"get\", contentType);\n        }\n    };\n}\n// ui\nhook_1.default.onInit(function (width, height) {\n    if (typeof window !== \"undefined\" && typeof window['getAdapterInfo'] !== \"undefined\") {\n        var stage = Laya.stage;\n        var info = window['getAdapterInfo']({ width: width, height: height, scaleMode: Laya.stage.scaleMode });\n        stage.width = info.rw;\n        stage.height = info.rh;\n    }\n});\n","if (typeof Object.assign != 'function') {\n    // Must be writable: true, enumerable: false, configurable: true\n    Object.defineProperty(Object, \"assign\", {\n        value: function assign(target, varArgs) {\n            'use strict';\n            if (target == null) { // TypeError if undefined or null\n                throw new TypeError('Cannot convert undefined or null to object');\n            }\n            var to = Object(target);\n            for (var index = 1; index < arguments.length; index++) {\n                var nextSource = arguments[index];\n                if (nextSource != null) { // Skip over if undefined or null\n                    for (var nextKey in nextSource) {\n                        // Avoid bugs when hasOwnProperty is shadowed\n                        if (Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {\n                            to[nextKey] = nextSource[nextKey];\n                        }\n                    }\n                }\n            }\n            return to;\n        },\n        writable: true,\n        configurable: true\n    });\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _dic = new Laya.Dictionary();\nvar _mcpool = new Laya.Dictionary();\nvar _inst = {};\nfunction onLoadComplet(path, mc, play, loop, loadComplet, thisRef) {\n    var arr = _dic[path].arr;\n    for (var i = 0; i < arr.length; i++) {\n        arr[i][0][\"_url\"] = path;\n        arr[i][0][\"_atlasPath\"] = path.split(\".swf\")[0] + \".json\";\n        arr[i][0][\"_onLoaded\"]();\n        if (arr[i][1])\n            arr[i][0].play(0, arr[i][2]);\n        else\n            arr[i][0].stop();\n        if (arr[i][3]) {\n            arr[i][3].apply(arr[i][4], [arr[i][0]]);\n        }\n    }\n    if (play) {\n        mc.play(0, loop);\n    }\n    else {\n        mc.stop();\n    }\n    if (loadComplet) {\n        loadComplet.apply(thisRef, [mc]);\n    }\n    _dic[path].arr = [];\n    mc.off(Laya.Event.LOADED, _inst, onLoadComplet);\n    _dic[path].load = true;\n}\nfunction remove(mc) {\n    if (!mc) {\n        return;\n    }\n    mc.scaleX = mc.scaleY = 1;\n    mc.pivotX = mc.pivotY = 0;\n    mc[\"anchorX\"] = mc[\"anchorY\"] = 0;\n    mc.alpha = 1;\n    Laya.Tween.clearAll(mc);\n    mc.stop();\n    if (mc.parent)\n        mc.parent.removeChild(mc);\n    _mcpool[mc[\"path\"]].push(mc);\n}\nfunction create(path, play, loop, loadComplet, thisRef) {\n    if (play === void 0) { play = true; }\n    if (loop === void 0) { loop = true; }\n    if (loadComplet === void 0) { loadComplet = null; }\n    if (thisRef === void 0) { thisRef = null; }\n    var mc;\n    if (!_mcpool[path])\n        _mcpool[path] = [];\n    if (_mcpool[path].length > 0) {\n        mc = _mcpool[path].shift();\n    }\n    else {\n        mc = new Laya.MovieClip();\n    }\n    mc[\"path\"] = path;\n    if (_dic[path]) {\n        if (_dic[path].load) {\n            mc[\"_url\"] = path;\n            mc[\"_atlasPath\"] = path.split(\".swf\")[0] + \".json\";\n            mc[\"_onLoaded\"]();\n            if (play)\n                mc.play(0, loop);\n            else\n                mc.stop();\n            if (loadComplet)\n                loadComplet.apply(thisRef, [mc]);\n        }\n        else {\n            _dic[path].arr.push([mc, play, loop, loadComplet, thisRef]);\n        }\n    }\n    else {\n        _dic[path] = { load: false, arr: [] };\n        mc.on(Laya.Event.LOADED, _inst, onLoadComplet, [path, mc, play, loop, loadComplet, thisRef]);\n        mc.load(path, true);\n    }\n    return mc;\n}\nexports.default = {\n    create: create,\n    remove: remove\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar event_1 = require(\"./event\");\nvar _initialized = false;\nvar _callbacks = [];\nfunction _handleChanged() {\n    _callbacks.forEach(function (callback) {\n        callback && callback();\n    });\n}\nfunction _initialize() {\n    if (_initialized) {\n        return;\n    }\n    _initialized = true;\n    if (typeof window !== \"undefined\") {\n        event_1.onAttachEvent(window, 'touchmove', _handleChanged);\n        event_1.onAttachEvent(window, 'scroll', _handleChanged);\n        event_1.onAttachEvent(window, 'resize', _handleChanged);\n    }\n    if (typeof document !== \"undefined\") {\n        event_1.onAttachEvent(document, 'DOMContentLoaded', _handleChanged);\n    }\n}\nfunction offResize(callback) {\n    if (callback && typeof callback == 'function') {\n        var index = _callbacks.indexOf(callback);\n        if (index >= 0) {\n            _callbacks.splice(index, 1);\n        }\n    }\n}\nexports.offResize = offResize;\nfunction onResize(callback) {\n    _initialize();\n    if (callback && typeof callback == 'function' && _callbacks.indexOf(callback) < 0) {\n        _callbacks.push(callback);\n        callback && callback();\n    }\n}\nexports.onResize = onResize;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction onAttachEvent(elem, event, fn) {\n    if (elem.addEventListener != null) {\n        return elem.addEventListener(event, fn, false);\n    }\n    else if (elem.attachEvent != null) {\n        return elem.attachEvent(\"on\" + event, fn);\n    }\n    else {\n        return elem[event] = fn;\n    }\n}\nexports.onAttachEvent = onAttachEvent;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar looper_1 = require(\"../../utils/looper\");\nvar _chancel_1 = require(\"./_chancel\");\nvar vowelsByFormantJP = [\"i\", \"u\", \"e\", \"o\", \"a\"];\nvar vowelFormantFloorJP = [0, 500, 600, 900, 1200];\nvar vowelsByFormantCN = [\"i\", \"v\", \"u\", \"e\", \"o\", \"a\"];\nvar vowelFormantFloorCN = [0, 200, 500, 600, 900, 1200];\nfunction getVowelByFormant(formantValue, language) {\n    var result = \"-\";\n    var currentVowels = vowelsByFormantCN;\n    var currentVowelFormantCeilValues = vowelFormantFloorCN;\n    if (language == 'jp' || language == 'japanese') {\n        currentVowels = vowelsByFormantJP;\n        currentVowelFormantCeilValues = vowelFormantFloorJP;\n    }\n    for (var m = 0; m < currentVowelFormantCeilValues.length; m++) {\n        if (formantValue > currentVowelFormantCeilValues[m]) {\n            result = currentVowels[m];\n        }\n    }\n    return result;\n}\nfunction fixWechatAudioPlay(callback) {\n    if (window && window['WeixinJSBridge']) {\n        try {\n            window['WeixinJSBridge'].invoke(\"getNetworkType\", {}, function () {\n                callback && callback();\n            });\n        }\n        catch (e) {\n            callback && callback();\n        }\n    }\n    else {\n        callback && callback();\n    }\n}\nvar SpeakerController = /** @class */ (function () {\n    function SpeakerController(options) {\n        this._onPlay = null;\n        this._onStop = null;\n        this._onError = null;\n        this._onProgress = null;\n        this._onComplete = null;\n        this._options = null;\n        this._playTime = 0;\n        this._auidoUrl = null;\n        this._position = -1;\n        this._duration = -1;\n        this._formant = null;\n        this._speaking = false;\n        this._language = \"chinese\";\n        this._chancel = null;\n        this._options = options;\n    }\n    SpeakerController.prototype._update = function () {\n        if (this._chancel) {\n            this._formant = this._chancel.formant;\n            this._position = this._chancel.position;\n            this._duration = this._chancel.duration;\n            if (!this._speaking && this._position > 0) {\n                this._speaking = true;\n                this._onPlay && this._onPlay();\n            }\n            if (this._speaking && this._duration > 0) {\n                if (this._position > this._duration) {\n                    this._onComplete && this._onComplete();\n                    this.stop();\n                }\n                else {\n                    this._onProgress && this._onProgress({\n                        position: this._position,\n                        duration: this._duration,\n                    });\n                }\n            }\n            else if (Date.now() - this._playTime > 2000) {\n                this._onError && this._onError();\n                this.stop();\n            }\n        }\n    };\n    Object.defineProperty(SpeakerController.prototype, \"url\", {\n        get: function () {\n            return this._auidoUrl;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(SpeakerController.prototype, \"position\", {\n        get: function () {\n            return this._position;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(SpeakerController.prototype, \"duration\", {\n        get: function () {\n            return this._duration;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    SpeakerController.prototype.onPlay = function (callback) {\n        this._onPlay = callback;\n    };\n    SpeakerController.prototype.onStop = function (callback) {\n        this._onStop = callback;\n    };\n    SpeakerController.prototype.onProgress = function (callback) {\n        this._onProgress = callback;\n    };\n    SpeakerController.prototype.onComplete = function (callback) {\n        this._onComplete = callback;\n    };\n    SpeakerController.prototype.onError = function (callback) {\n        this._onError = callback;\n    };\n    SpeakerController.prototype.getFormant = function () {\n        if (!this.isSpeaking()) {\n            return 0;\n        }\n        return this._formant;\n    };\n    SpeakerController.prototype.getVowel = function () {\n        return getVowelByFormant(this.getFormant(), this._language);\n    };\n    SpeakerController.prototype.isSpeaking = function () {\n        return this._speaking;\n    };\n    SpeakerController.prototype.speak = function (url, language) {\n        var _this = this;\n        if (language === void 0) { language = 'chinese'; }\n        this._auidoUrl = url;\n        this._language = language;\n        fixWechatAudioPlay(function () {\n            if (_this._auidoUrl) {\n                _this.stop();\n                _this._playTime = Date.now();\n                _this._chancel = _chancel_1.default.playSpeak(_this._auidoUrl, _this._onError, _this._options);\n                looper_1.default.loop(_this, _this._update);\n            }\n        });\n    };\n    SpeakerController.prototype.stop = function () {\n        if (!this._chancel) {\n            return;\n        }\n        this._onStop && this._onStop();\n        this._chancel.stop();\n        this._chancel = null;\n        this._speaking = false;\n        looper_1.default.clear(this, this._update);\n    };\n    return SpeakerController;\n}());\nfunction create(options) {\n    return new SpeakerController(options);\n}\nexports.default = {\n    create: create\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _peaks_1 = require(\"./_peaks\");\nvar _loadres_1 = require(\"./_loadres\");\nvar FixAudioContext = AudioContext || webkitAudioContext\n    || mozAudioContext || msAudioContext;\nvar _CHANCELS = [];\nvar SpeakerChancel = /** @class */ (function () {\n    function SpeakerChancel(url, onError, options) {\n        if (options === void 0) { options = {}; }\n        this.stopped = false;\n        this._audioUrl = url;\n        this._onErrorCallback = onError;\n        this._options = options;\n        this.amplitudeThreshold = 0.02;\n        this.audioCtx = new FixAudioContext({\n            sampleRate: this._options && this._options.sampleRate || 44100\n        });\n        this.sourceNode = this.audioCtx.createBufferSource();\n        this.analyserNode = this.audioCtx.createAnalyser();\n        this.analyserNode.fftSize = this._options && this._options.fftSize || 2048;\n        this.windowSize = this.analyserNode.frequencyBinCount;\n        this.gaussianFilters = _peaks_1.default.generateGaussianFilter(7, 5);\n        this.sourceNode.disconnect();\n        this.sourceNode.connect(this.analyserNode);\n        this.play();\n    }\n    Object.defineProperty(SpeakerChancel.prototype, \"url\", {\n        get: function () {\n            return this._audioUrl;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(SpeakerChancel.prototype, \"position\", {\n        get: function () {\n            return this.audioCtx && this.audioCtx.currentTime || 0;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(SpeakerChancel.prototype, \"duration\", {\n        get: function () {\n            return this.sourceNode\n                && this.sourceNode.buffer\n                && this.sourceNode.buffer.duration || 0;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(SpeakerChancel.prototype, \"formant\", {\n        get: function () {\n            var currentAudioData = new Uint8Array(this.windowSize);\n            this.analyserNode.getByteFrequencyData(currentAudioData);\n            var currentAudioSpectrum = _peaks_1.default.discreteCosineTransform(currentAudioData);\n            var amplitudeSum = 0.0;\n            for (var k = 0; k < currentAudioSpectrum.length; k++) {\n                amplitudeSum += currentAudioSpectrum[k];\n            }\n            if (amplitudeSum >= this.amplitudeThreshold) {\n                var formantArray = [];\n                var smoothedAudioSpectrum = _peaks_1.default.convoluteDataAndFilter(currentAudioSpectrum, this.gaussianFilters, \"Repet\");\n                var _a = _peaks_1.default.findLocalLargestPeaks(smoothedAudioSpectrum, 3), peakValues = _a.peakValues, peakPositions = _a.peakPositions;\n                var frequencyUnit = this.audioCtx.sampleRate / this.windowSize;\n                for (var i = 0; i < peakPositions.length; i++) {\n                    formantArray[i] = peakPositions[i] * (peakValues[i] / frequencyUnit);\n                }\n                var formantAverage_1 = 0;\n                formantArray.forEach(function (formantVal) {\n                    formantAverage_1 += formantVal;\n                });\n                return formantAverage_1 / formantArray.length;\n            }\n            return 0;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    SpeakerChancel.prototype.loadAudioRes = function () {\n        var _this = this;\n        if (!this.loadPromise) {\n            this.loadPromise = new Promise(function (resolve, reject) {\n                _loadres_1.default.loadRes(_this._audioUrl, resolve, function () {\n                    _this.loadPromise = null;\n                    reject && reject();\n                });\n            });\n        }\n        return this.loadPromise;\n    };\n    SpeakerChancel.prototype.play = function () {\n        var _this = this;\n        this.loadAudioRes().then(function (audioData) {\n            _this.audioCtx.decodeAudioData(audioData, function (buffer) {\n                if (_this.stopped) {\n                    return;\n                }\n                _this.sourceNode.buffer = buffer;\n                _this.sourceNode.connect(_this.analyserNode);\n                _this.sourceNode.connect(_this.audioCtx.destination);\n                _this.sourceNode.start();\n            }, function (e) {\n                var errorMsg = \"error decoding audio data: \" + _this._audioUrl;\n                _this._onErrorCallback && _this._onErrorCallback(errorMsg, e);\n            });\n        }).catch(function () {\n            var errorMsg = \"load audio failure: \" + _this._audioUrl;\n            _this._onErrorCallback && _this._onErrorCallback(errorMsg);\n        });\n    };\n    SpeakerChancel.prototype.stop = function () {\n        this.stopped = true;\n        this._onErrorCallback = null;\n        try {\n            var indexOf = _CHANCELS.indexOf(this);\n            if (indexOf >= 0) {\n                _CHANCELS.splice(indexOf, 1);\n            }\n            if (this.sourceNode) {\n                this.sourceNode.stop();\n            }\n        }\n        catch (error) {\n        }\n    };\n    return SpeakerChancel;\n}());\nexports.SpeakerChancel = SpeakerChancel;\nfunction playSpeak(url, onError, options) {\n    var cancel = new SpeakerChancel(url, onError, options);\n    _CHANCELS.push(cancel);\n    return cancel;\n}\nexports.default = {\n    playSpeak: playSpeak\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction getValueFromArray(data, index, paddleType) {\n    if (index >= 0 && index < data.length) {\n        return data[index];\n    }\n    else {\n        switch (paddleType) {\n            case \"Zero\":\n                return 0;\n            case \"Repeat\":\n                return index < 0 ? data[0] : data[data.length - 1];\n            case \"Loop\":\n                var actualIndex = index;\n                while (actualIndex < 0) {\n                    actualIndex += data.length;\n                }\n                actualIndex %= data.length;\n                return data[actualIndex];\n            default:\n                return 0;\n        }\n    }\n}\nfunction generateGaussianFilter(size, deviationSquare) {\n    var result = [];\n    var sum = 0;\n    var mu = (size - 1) / 2;\n    for (var i = 0; i < size; i++) {\n        var param = -((i - mu) * (i - mu)) / (2 * deviationSquare);\n        result[i] = Math.exp(param);\n        sum += result[i];\n    }\n    for (var j = 0; j < size; j++) {\n        result[j] /= sum;\n    }\n    return result;\n}\nfunction discreteCosineTransform(data) {\n    var result = [];\n    var sumCos = 0;\n    data.forEach(function (_, i) {\n        sumCos = 0;\n        data.forEach(function (d2, j) {\n            sumCos += d2 * Math.cos((Math.PI / data.length) * i * (j + 0.5));\n        });\n        result[i] = Math.abs(sumCos);\n    });\n    return result;\n}\n/**\n * Convolute data and filter. Result is sent to output, which must not be shorter than data.\n */\nfunction convoluteDataAndFilter(data, filter, paddleType) {\n    if (paddleType === void 0) { paddleType = \"Repeat\"; }\n    var output = [];\n    var filterMiddlePoint = Math.floor(filter.length / 2);\n    for (var n = 0; n < data.length; n++) {\n        output[n] = 0.0;\n        for (var m = 0; m < filter.length; m++) {\n            output[n] += getValueFromArray(data, n - filterMiddlePoint + m, paddleType) * filter[filter.length - m - 1];\n        }\n    }\n    return output;\n}\nfunction findLocalLargestPeaks(data, length) {\n    var peakNum = 0;\n    var lastPeak = 0;\n    var lastPeakPositions = 0;\n    var isIncreasing = false;\n    var isPeakIncreasing = false;\n    var peakValues = [];\n    var peakPositions = [];\n    for (var i = 0; i < data.length - 1; i++) {\n        if (data[i] < data[i + 1]) {\n            isIncreasing = true;\n        }\n        else {\n            if (isIncreasing == true) {\n                // Peak found.\n                if (lastPeak < data[i]) {\n                    isPeakIncreasing = true;\n                }\n                else {\n                    if (isPeakIncreasing == true) {\n                        // Local largest peak found.\n                        peakValues[peakNum] = lastPeak;\n                        peakPositions[peakNum] = lastPeakPositions;\n                        ++peakNum;\n                    }\n                    isPeakIncreasing = false;\n                }\n                lastPeak = data[i];\n                lastPeakPositions = i;\n            }\n            isIncreasing = false;\n        }\n        if (peakNum >= length) {\n            break;\n        }\n    }\n    return { peakValues: peakValues, peakPositions: peakPositions };\n}\nexports.default = {\n    generateGaussianFilter: generateGaussianFilter,\n    discreteCosineTransform: discreteCosineTransform,\n    convoluteDataAndFilter: convoluteDataAndFilter,\n    findLocalLargestPeaks: findLocalLargestPeaks\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction loadRes(url, callback, failure) {\n    var request = new XMLHttpRequest();\n    request.responseType = \"arraybuffer\";\n    request.open('GET', url, true);\n    request.onload = function () {\n        callback && callback(request.response);\n    };\n    request.onreadystatechange = function () {\n        if (request.readyState === 4) {\n            if (request.status !== 200) {\n                failure && failure();\n            }\n        }\n    };\n    request.send();\n}\nexports.default = {\n    loadRes: loadRes\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar env_1 = require(\"./env\");\nvar looper_1 = require(\"../utils/looper\");\nfunction fixWechatAudioPlay(callback) {\n    if (window && window['WeixinJSBridge']) {\n        try {\n            window['WeixinJSBridge'].invoke(\"getNetworkType\", {}, function () {\n                callback && callback();\n            });\n        }\n        catch (e) {\n            callback && callback();\n        }\n    }\n    else {\n        callback && callback();\n    }\n}\nfunction fixAudioExtension(targetUrl, replaceExt) {\n    var ext = Laya.Utils.getFileExtension(targetUrl);\n    var searchExt = !!ext ? \".\" + ext : '';\n    if (env_1.default.isConchApp() && searchExt != \".wav\" && searchExt != \".ogg\") {\n        return targetUrl.substr(0, targetUrl.length - searchExt.length) + replaceExt;\n    }\n    return targetUrl;\n}\nvar AudioController = /** @class */ (function () {\n    function AudioController(isMusic) {\n        this._auidoUrl = '';\n        this._chancel = null;\n        this._playing = false;\n        this._onPlay = null;\n        this._onPause = null;\n        this._onStop = null;\n        this._onError = null;\n        this._onProgress = null;\n        this._onComplete = null;\n        this._position = -1;\n        this._duration = -1;\n        this._paused = false;\n        this._music = false;\n        this._playTime = 0;\n        this._music = isMusic;\n        if (!isMusic) {\n            AudioController._soundList.push(this);\n        }\n    }\n    AudioController.stopAll = function () {\n        var soundList = AudioController._soundList.splice(0, AudioController._soundList.length);\n        soundList.forEach(function (item) {\n            item && item.stop();\n        });\n    };\n    AudioController.prototype._update = function () {\n        if (this._chancel) {\n            this._position = this._chancel.position;\n            this._duration = this._chancel.duration;\n            if (!this._playing && this._position > 0) {\n                this._playing = true;\n                this._onPlay && this._onPlay();\n            }\n            if (this._playing && this._duration > 0) {\n                this._onProgress && this._onProgress({\n                    position: this.position,\n                    duration: this.duration,\n                });\n            }\n            else if (Date.now() - this._playTime > 2000) {\n                this._onError && this._onError();\n                this.stop();\n            }\n        }\n    };\n    AudioController.prototype.onPlay = function (callback) {\n        this._onPlay = callback;\n    };\n    AudioController.prototype.onStop = function (callback) {\n        this._onStop = callback;\n    };\n    AudioController.prototype.onPause = function (callback) {\n        this._onPause = callback;\n    };\n    AudioController.prototype.onProgress = function (callback) {\n        this._onProgress = callback;\n    };\n    AudioController.prototype.onComplete = function (callback) {\n        this._onComplete = callback;\n    };\n    AudioController.prototype.onError = function (callback) {\n        this._onError = callback;\n    };\n    Object.defineProperty(AudioController.prototype, \"url\", {\n        get: function () {\n            return this._auidoUrl;\n        },\n        set: function (url) {\n            if (this._auidoUrl != url) {\n                this._auidoUrl = url;\n                this.stop();\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AudioController.prototype, \"position\", {\n        get: function () {\n            return this._position;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AudioController.prototype, \"duration\", {\n        get: function () {\n            return this._duration;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    AudioController.prototype.isMusic = function () {\n        return this._music;\n    };\n    AudioController.prototype.isPaused = function () {\n        return this._paused;\n    };\n    AudioController.prototype.isPlaying = function () {\n        return this._playing;\n    };\n    AudioController.prototype.play = function (loops) {\n        var _this = this;\n        if (loops === void 0) { loops = 1; }\n        fixWechatAudioPlay(function () {\n            if (_this._auidoUrl) {\n                _this.stop();\n                var playUrl = fixAudioExtension(_this._auidoUrl, '.ogg');\n                _this._playTime = Date.now();\n                if (_this._music) {\n                    _this._chancel = Laya.SoundManager.playMusic(playUrl, loops, Laya.Handler.create(_this, function () {\n                        _this._onComplete && _this._onComplete();\n                        _this.stop();\n                    }), 0);\n                }\n                else {\n                    _this._chancel = Laya.SoundManager.playSound(playUrl, loops, Laya.Handler.create(_this, function () {\n                        _this._onComplete && _this._onComplete();\n                        _this.stop();\n                    }), null, 0);\n                }\n                looper_1.default.loop(_this, _this._update);\n            }\n        });\n    };\n    AudioController.prototype.pause = function () {\n        if (this._chancel && this._playing) {\n            this._onPause && this._onPause();\n            this._chancel.pause();\n            this._paused = true;\n            this._playing = false;\n            looper_1.default.clear(this, this._update);\n        }\n    };\n    AudioController.prototype.resume = function () {\n        if (this._chancel && this._paused) {\n            this._paused = false;\n            this._chancel.resume();\n            looper_1.default.loop(this, this._update);\n        }\n    };\n    AudioController.prototype.stop = function () {\n        if (this._chancel) {\n            this._onStop && this._onStop();\n            this._chancel.stop();\n            this._paused = false;\n            this._playing = false;\n            Laya.SoundManager.removeChannel(this._chancel);\n            looper_1.default.clear(this, this._update);\n            this._chancel = null;\n        }\n    };\n    AudioController.prototype.destroy = function () {\n        this.stop();\n        this._onComplete = null;\n        this._onProgress = null;\n        this._onPlay = null;\n        this._onStop = null;\n        this._onPause = null;\n    };\n    AudioController._soundList = [];\n    return AudioController;\n}());\nvar _musicAudio = new AudioController(true);\nfunction playMusic(url, loops) {\n    if (loops === void 0) { loops = 1; }\n    _musicAudio.url = url;\n    _musicAudio.play(loops);\n    return _musicAudio;\n}\nfunction playSound(url, loops) {\n    if (loops === void 0) { loops = 1; }\n    var audio = new AudioController(false);\n    audio.url = url;\n    audio.play(loops);\n    return audio;\n}\nfunction stopMusic() {\n    _musicAudio.stop();\n}\nfunction stopAllSound() {\n    AudioController.stopAll();\n}\nfunction stopAll() {\n    stopMusic();\n    stopAllSound();\n}\nfunction setMusicVolume(volume) {\n    Laya.SoundManager.setMusicVolume(volume);\n}\nfunction setSoundVolume(volume) {\n    Laya.SoundManager.setSoundVolume(volume);\n}\nexports.default = {\n    playMusic: playMusic,\n    playSound: playSound,\n    stopAll: stopAll,\n    stopMusic: stopMusic,\n    stopAllSound: stopAllSound,\n    setMusicVolume: setMusicVolume,\n    setSoundVolume: setSoundVolume,\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar onload_1 = require(\"../utils/onload\");\nfunction _loadJS(jspath, options, callback) {\n    try {\n        var _protocol = location.protocol != 'file:' ? location.protocol : 'http:';\n        var _script = document.createElement(\"script\");\n        Object.keys(options).forEach(function (key) {\n            _script.setAttribute(key, options[key]);\n        });\n        _script.type = \"text/javascript\";\n        if (jspath.indexOf('//') == 0) {\n            _script.src = _protocol + jspath;\n        }\n        else {\n            _script.src = jspath;\n        }\n        document.body.appendChild(_script);\n        _script.onerror = function (err) {\n            callback && callback(_script, err);\n        };\n        _script.onload = function () {\n            callback && callback(_script, null);\n        };\n    }\n    catch (error) {\n        callback && callback(undefined, error);\n    }\n}\nfunction loadJs(jspath, options) {\n    if (options === void 0) { options = {}; }\n    return onload_1.onload().then(function () {\n        return new Promise(function (resolve) {\n            if (!jspath) {\n                return resolve && resolve(undefined);\n            }\n            var index = 0;\n            var jsList = jspath.split(',');\n            var nodeList = [];\n            jsList.forEach(function (js) {\n                _loadJS(js, options, function (node, err) {\n                    nodeList[index] = { node: node, err: err };\n                    index++;\n                    if (index == jsList.length) {\n                        resolve && resolve(nodeList);\n                    }\n                });\n            });\n        });\n    });\n}\nexports.default = {\n    loadJs: loadJs\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _ready = null;\nfunction onload() {\n    if (!_ready) {\n        _ready = new Promise(function (reslove, reject) {\n            var _timer;\n            var _pollingDocument = function () {\n                if (!!document && document.readyState == 'complete') {\n                    _timer && clearTimeout(_timer);\n                    reslove(Date.now());\n                }\n                else {\n                    _timer = setTimeout(_pollingDocument, 1);\n                }\n            };\n            _timer = setTimeout(_pollingDocument, 1);\n        });\n    }\n    return _ready;\n}\nexports.onload = onload;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Event = /** @class */ (function (_super) {\n    __extends(Event, _super);\n    function Event() {\n        var _this = _super.call(this) || this;\n        _this._dic = new Laya.Dictionary();\n        return _this;\n    }\n    Event.prototype.registeredEvent = function (type, fun, thisRef, index) {\n        if (index === void 0) { index = 1; }\n        var arr = [];\n        if (index == null)\n            index = 1;\n        if (this._dic[type]) {\n            arr = this._dic[type];\n            for (var i = 0; i < arr.length; i++) {\n                if (arr[i].fun == fun && arr[i].thisRef == thisRef) {\n                    if (index != arr[i].index) {\n                        arr[i].index = index;\n                        arr.sort(function (a, b) { return b.index - a.index; });\n                        this._dic[type] = arr;\n                    }\n                    return;\n                }\n            }\n        }\n        arr.push({ fun: fun, thisRef: thisRef, index: index });\n        arr.sort(function (a, b) { return b.index - a.index; });\n        this._dic[type] = arr;\n    };\n    Event.prototype.removeEvent = function (type, fun, thisRef) {\n        if (this._dic[type]) {\n            var arr = this._dic[type];\n            for (var i = 0; i < arr.length; i++) {\n                if (arr[i].fun == fun && arr[i].thisRef == thisRef) {\n                    arr[i] = null;\n                    arr.splice(i, 1);\n                    this._dic[type] = arr;\n                    return;\n                }\n            }\n        }\n    };\n    Event.prototype.sendEvent = function (type, args) {\n        if (args === void 0) { args = null; }\n        if (this._dic[type]) {\n            var arr = this._dic[type];\n            for (var i = 0; i < arr.length; i++) {\n                arr[i].fun.apply(arr[i].thisRef, args);\n            }\n        }\n    };\n    return Event;\n}(Laya.EventDispatcher));\nexports.default = new Event();\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar runtime;\n(function (runtime) {\n    runtime.clickSound = null;\n    runtime.clickAnimDuration = 100;\n    runtime.clickNormalProps = { scaleX: 1, scaleY: 1 };\n    runtime.clickDownProps = { scaleX: 1.2, scaleY: 1.2 };\n    function pivotCenter(view) {\n        view.x = view.x + view.width / 2 - view.pivotX;\n        view.y = view.y + view.height / 2 - view.pivotY;\n        view.pivot(view.width / 2, view.height / 2);\n    }\n    function setViewProps(view, props, duration) {\n        pivotCenter(view);\n        Laya.Tween.to(view, props, duration);\n    }\n    function playClickSound(sound) {\n        if (sound) {\n            sound != 'none' && Laya.SoundManager.playSound(sound, 1);\n        }\n        else if (runtime.clickSound) {\n            runtime.clickSound != 'none' && Laya.SoundManager.playSound(runtime.clickSound, 1);\n        }\n    }\n    function bindClick(view, onClick, onDown, onUp, onOut) {\n        pivotCenter(view);\n        view.offAll();\n        view.on(Laya.Event.CLICK, view, function () {\n            onClick && onClick();\n            playClickSound(view.clickSound);\n        });\n        view.on(Laya.Event.MOUSE_DOWN, view, function () {\n            setViewProps(view, view.clickDownProps || runtime.clickDownProps, view.clickAnimDuration || runtime.clickAnimDuration);\n            onDown && onDown();\n        });\n        view.on(Laya.Event.MOUSE_UP, view, function () {\n            setViewProps(view, view.clickNormalProps || runtime.clickNormalProps, view.clickAnimDuration || runtime.clickAnimDuration);\n            onUp && onUp();\n        });\n        view.on(Laya.Event.MOUSE_OUT, view, function () {\n            setViewProps(view, view.clickNormalProps || runtime.clickNormalProps, view.clickAnimDuration || runtime.clickAnimDuration);\n            onOut && onOut();\n        });\n    }\n    runtime.bindClick = bindClick;\n    var btn = /** @class */ (function (_super) {\n        __extends(btn, _super);\n        function btn() {\n            var _this = _super.call(this) || this;\n            _this.clickAnimDuration = null;\n            _this.clickDownProps = null;\n            _this.clickNormalProps = null;\n            _this.clickSound = null;\n            bindClick(_this);\n            return _this;\n        }\n        return btn;\n    }(Laya.Button));\n    runtime.btn = btn;\n    var btn_img = /** @class */ (function (_super) {\n        __extends(btn_img, _super);\n        function btn_img() {\n            var _this = _super.call(this) || this;\n            _this.clickAnimDuration = null;\n            _this.clickDownProps = null;\n            _this.clickNormalProps = null;\n            _this.clickSound = null;\n            bindClick(_this);\n            return _this;\n        }\n        return btn_img;\n    }(Laya.Image));\n    runtime.btn_img = btn_img;\n    var btn_label = /** @class */ (function (_super) {\n        __extends(btn_label, _super);\n        function btn_label() {\n            var _this = _super.call(this) || this;\n            _this.clickAnimDuration = null;\n            _this.clickDownProps = null;\n            _this.clickNormalProps = null;\n            _this.clickSound = null;\n            bindClick(_this);\n            return _this;\n        }\n        return btn_label;\n    }(Laya.Label));\n    runtime.btn_label = btn_label;\n    var btn_sprite = /** @class */ (function (_super) {\n        __extends(btn_sprite, _super);\n        function btn_sprite() {\n            var _this = _super.call(this) || this;\n            _this.clickAnimDuration = null;\n            _this.clickDownProps = null;\n            _this.clickNormalProps = null;\n            _this.clickSound = null;\n            bindClick(_this);\n            return _this;\n        }\n        return btn_sprite;\n    }(Laya.Sprite));\n    runtime.btn_sprite = btn_sprite;\n    var btn_box = /** @class */ (function (_super) {\n        __extends(btn_box, _super);\n        function btn_box() {\n            var _this = _super.call(this) || this;\n            _this.clickAnimDuration = null;\n            _this.clickDownProps = null;\n            _this.clickNormalProps = null;\n            _this.clickSound = null;\n            bindClick(_this);\n            return _this;\n        }\n        return btn_box;\n    }(Laya.Box));\n    runtime.btn_box = btn_box;\n})(runtime || (runtime = {}));\nexports.default = runtime;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar env_1 = require(\"./env\");\nvar any_1 = require(\"../utils/any\");\nvar _listeners = [];\nfunction onMessage(callback) {\n    if (callback && typeof callback == \"function\" && _listeners.indexOf(callback) < 0) {\n        _listeners.push(callback);\n    }\n}\nfunction postMessage(data) {\n    if (data === void 0) { data = {}; }\n    if (env_1.default.isConchApp()) {\n        Laya.conchMarket.sendMessageToPlatform(any_1.toAny(data, \"{}\"), function (resp) {\n            env_1.default.printDebug(\"conch message callback: \", resp);\n        });\n    }\n    else {\n        window.parent.postMessage(any_1.toAny(data, {}), '*');\n    }\n}\nfunction _initMessage() {\n    var name = \"__dispatchMessage__\";\n    if (typeof window !== \"undefined\") {\n        window[name] = function (data) {\n            if (data) {\n                _listeners.forEach(function (callback) { return callback(any_1.toAny(data, {})); });\n            }\n        };\n    }\n    window.addEventListener(\"message\", function (msg) {\n        if (msg && msg.data) {\n            _listeners.forEach(function (callback) { return callback(any_1.toAny(msg.data, {})); });\n        }\n    });\n}\n(function () {\n    _initMessage();\n})();\nexports.default = {\n    postMessage: postMessage,\n    onMessage: onMessage\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar any_1 = require(\"../utils/any\");\nvar json_1 = require(\"../utils/json\");\nfunction randomUUID() {\n    var _s4 = function () { return (((1 + Math.random()) * 0x10000) | 0).toString(16).substring(1); };\n    return (_s4() + _s4() + \"-\" + _s4() + \"-\" + _s4() + \"-\" + _s4() + \"-\" + _s4() + _s4() + _s4());\n}\nfunction randomNumber(minNum, maxNum) {\n    switch (arguments.length) {\n        case 1:\n            return Math.random() * minNum + 1;\n        case 2:\n            return Math.random() * (maxNum - minNum + 1) + minNum;\n        default:\n            return 0;\n    }\n}\nfunction randomInteger(minNum, maxNum) {\n    switch (arguments.length) {\n        case 1:\n            return Math.floor(Math.random() * minNum + 1);\n        case 2:\n            return Math.floor(Math.random() * (maxNum - minNum + 1) + minNum);\n        default:\n            return 0;\n    }\n}\nfunction randomArray(source, length) {\n    if (length === void 0) { length = -1; }\n    var randomLength = length == -1 ? source.length : length;\n    randomLength = Math.min(randomLength, source.length);\n    var copy = source.concat([]);\n    var result = [];\n    while (result.length < randomLength) {\n        var randomObj = randomArrayItem(copy);\n        result.push(randomObj);\n        copy.splice(copy.indexOf(randomLength), 1);\n    }\n    return result;\n}\nfunction randomArrayItem(source) {\n    if (source.length > 0) {\n        return source[Math.floor(Math.random() * source.length)];\n    }\n    return undefined;\n}\nexports.default = {\n    randomUUID: randomUUID,\n    randomInteger: randomInteger,\n    randomNumber: randomNumber,\n    randomArray: randomArray,\n    randomArrayItem: randomArrayItem,\n    loadJson: json_1.loadJson,\n    toAny: any_1.toAny\n};\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar stack_1 = require(\"../navigator/stack\");\nvar screen_1 = require(\"../manager/screen\");\nvar component_1 = require(\"./component\");\nvar Activity = /** @class */ (function (_super) {\n    __extends(Activity, _super);\n    function Activity() {\n        var _this = _super.call(this, function () { _this.back(); }) || this;\n        _this.page = null;\n        _this.params = {};\n        _this.duration = 0;\n        _this.easeIn = null;\n        _this.easeOut = null;\n        _this.fromProps = null;\n        _this.toProps = null;\n        _this.exitProps = null;\n        _this.ui = new Laya.Component;\n        _this.width = screen_1.default.getDesignWidth();\n        _this.height = screen_1.default.getDesignHeight();\n        return _this;\n    }\n    Activity.create = function (opts) {\n        var NewAct = /** @class */ (function (_super) {\n            __extends(NewAct, _super);\n            function NewAct() {\n                var _this = _super.call(this) || this;\n                _this.opts = null;\n                _this.opts = opts || {};\n                Object.assign(_this, _this.opts);\n                NewAct.single = _this.opts.single;\n                NewAct.res = _this.opts.res;\n                return _this;\n            }\n            NewAct.prototype.onCreate = function () {\n                this.opts.onCreate && this.opts.onCreate();\n            };\n            NewAct.prototype.onPause = function () {\n                this.opts.onPause && this.opts.onPause();\n            };\n            NewAct.prototype.onResume = function () {\n                this.opts.onResume && this.opts.onResume();\n            };\n            NewAct.prototype.onDestroy = function () {\n                this.opts.onDestroy && this.opts.onDestroy();\n            };\n            NewAct.prototype.onFocus = function (focus) {\n                this.opts.onFocus && this.opts.onFocus(focus);\n            };\n            NewAct.prototype.onNextProgress = function (progress) {\n                this.opts.onNextProgress && this.opts.onNextProgress(progress);\n            };\n            return NewAct;\n        }(Activity));\n        return NewAct;\n    };\n    Activity.open = function (params, action) {\n        stack_1.default.navigate(this, params, action);\n    };\n    //////////////////////////\n    /// navigator function\n    //////////////////////////\n    Activity.prototype.redirectTo = function (page, params, action, single) {\n        var _this = this;\n        if (params === void 0) { params = {}; }\n        if (action === void 0) { action = null; }\n        if (single === void 0) { single = false; }\n        this.navigate(page, params, function () {\n            _this.back();\n            action && action();\n        }, single);\n    };\n    Activity.prototype.navigate = function (page, params, action, single) {\n        if (params === void 0) { params = {}; }\n        if (action === void 0) { action = null; }\n        if (single === void 0) { single = false; }\n        stack_1.default.navigate(page, params, action, single);\n    };\n    Activity.prototype.back = function () {\n        stack_1.default.finish(this.page, this);\n    };\n    Activity.res = [];\n    Activity.unpackFile = null;\n    Activity.single = false;\n    return Activity;\n}(component_1.default));\nexports.default = Activity;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar popupmanager_1 = require(\"./popupmanager\");\nvar screen_1 = require(\"../manager/screen\");\nvar pipeline_1 = require(\"../pipeline\");\nvar component_1 = require(\"./component\");\nvar PopupView = /** @class */ (function (_super) {\n    __extends(PopupView, _super);\n    function PopupView() {\n        var _this = _super.call(this, function () {\n            if (_this.canceledOnTouchOutside) {\n                _this.hide();\n            }\n        }) || this;\n        _this.duration = 300;\n        _this.easeIn = null;\n        _this.easeOut = null;\n        _this.fromProps = null;\n        _this.toProps = null;\n        _this.exitProps = null;\n        _this.uiDuration = 300;\n        _this.uiEaseIn = null;\n        _this.uiEaseOut = null;\n        _this.uiFromProps = null;\n        _this.uiToProps = null;\n        _this.uiExitProps = null;\n        _this.topLevel = false;\n        _this._canceledOnTouchOutside = false;\n        _this.nonPenetrating = true;\n        _this.width = screen_1.default.getDesignWidth();\n        _this.height = screen_1.default.getDesignHeight();\n        _this.bg.setTranslucent(false);\n        return _this;\n    }\n    PopupView.show = function (params, onHide, alias) {\n        popupmanager_1.default.showPopup(this, params, onHide, alias);\n    };\n    PopupView.signleShow = function (params, onHide, alias) {\n        popupmanager_1.default.hidePopup(this, null, null, alias);\n        popupmanager_1.default.showPopup(this, params, onHide, alias);\n    };\n    PopupView.pipeShow = function (params, onHide, alias) {\n        var _this = this;\n        pipeline_1.default.put(\"popup\", function () {\n            popupmanager_1.default.showPopup(_this, params, function () {\n                var args = [];\n                for (var _i = 0; _i < arguments.length; _i++) {\n                    args[_i] = arguments[_i];\n                }\n                onHide && onHide.apply(void 0, args);\n                pipeline_1.default.next(\"popup\");\n            }, alias);\n        });\n    };\n    PopupView.hide = function (result, alias) {\n        popupmanager_1.default.hidePopup(this, null, result, alias);\n    };\n    PopupView.prototype.hide = function (result) {\n        if (result === void 0) { result = null; }\n        popupmanager_1.default.hidePopup(this.popup, this, result, this.alias);\n    };\n    Object.defineProperty(PopupView.prototype, \"canceledOnTouchOutside\", {\n        get: function () {\n            return this._canceledOnTouchOutside;\n        },\n        set: function (canceledOnTouchOutside) {\n            this._canceledOnTouchOutside = canceledOnTouchOutside;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return PopupView;\n}(component_1.default));\nexports.default = PopupView;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar env_1 = require(\"./env\");\nvar _pipeline_map = {};\nfunction _check(type) {\n    if (_pipeline_map[type]) {\n        var pipe = _pipeline_map[type];\n        if (pipe.funcs.length <= 0) {\n            return;\n        }\n        if (pipe.padding) {\n            setTimeout(function () {\n                _check(type);\n            }, 500);\n            return;\n        }\n        var func = pipe.funcs.shift();\n        func && func();\n        pipe.padding = true;\n        _check(type);\n    }\n}\nfunction put(type, func) {\n    if (type && typeof func === \"function\") {\n        env_1.default.printDebug(\"put pipe to : \", type);\n        if (_pipeline_map[type]) {\n            _pipeline_map[type].funcs.push(func);\n        }\n        else {\n            _pipeline_map[type] = { padding: false, funcs: [func] };\n        }\n        _check(type);\n    }\n}\nfunction next(type) {\n    if (_pipeline_map[type]) {\n        env_1.default.printDebug(\"next pipe as : \", type);\n        _pipeline_map[type].padding = false;\n        _check(type);\n    }\n}\nexports.default = {\n    put: put,\n    next: next,\n};\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar toastmanager_1 = require(\"./toastmanager\");\nvar screen_1 = require(\"../manager/screen\");\nvar component_1 = require(\"./component\");\nvar ToastView = /** @class */ (function (_super) {\n    __extends(ToastView, _super);\n    function ToastView() {\n        var _this = _super.call(this, function () { _this.hide(); }) || this;\n        _this.duration = 200;\n        _this.displayDuration = 1000;\n        _this.easeIn = null;\n        _this.easeOut = null;\n        _this.fromProps = null;\n        _this.toProps = null;\n        _this.exitProps = null;\n        _this.topLevel = true;\n        _this.width = screen_1.default.getDesignWidth();\n        _this.height = screen_1.default.getDesignHeight();\n        return _this;\n    }\n    ToastView.show = function (params, onHide) {\n        toastmanager_1.default.showToast(this, params, onHide);\n    };\n    ToastView.hide = function () {\n        toastmanager_1.default.hideToast(this);\n    };\n    ToastView.prototype.hide = function () {\n        toastmanager_1.default.hideToast(this.toast, this);\n    };\n    return ToastView;\n}(component_1.default));\nexports.default = ToastView;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar PageView = /** @class */ (function (_super) {\n    __extends(PageView, _super);\n    function PageView() {\n        var _this = _super.call(this) || this;\n        _this._isDown = false;\n        _this._currentPage = 0;\n        _this._onPageChange = null;\n        _this.on(Laya.Event.MOUSE_UP, _this, _this.onMouseUp);\n        _this.on(Laya.Event.MOUSE_OUT, _this, _this.onMouseOut);\n        _this.on(Laya.Event.MOUSE_DOWN, _this, _this.onMouseDown);\n        _this.renderHandler = Laya.Handler.create(_this, _this.renderItem);\n        return _this;\n    }\n    PageView.prototype.destroy = function () {\n        this.off(Laya.Event.MOUSE_UP, this, this.onMouseUp);\n        this.off(Laya.Event.MOUSE_OUT, this, this.onMouseOut);\n    };\n    Object.defineProperty(PageView.prototype, \"pageId\", {\n        get: function () {\n            return this._currentPage;\n        },\n        set: function (n) {\n            this._currentPage = n;\n            if (this._currentPage < 0) {\n                this._currentPage = 0;\n            }\n            this.tweenTo(n);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PageView.prototype, \"onPageChangeHandler\", {\n        get: function () {\n            return this._onPageChange;\n        },\n        set: function (handler) {\n            this._onPageChange = handler;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    PageView.prototype.onMouseDown = function () {\n        this._isDown = true;\n    };\n    PageView.prototype.onMouseUp = function (event) {\n        this._updatePage();\n        this._isDown = false;\n    };\n    PageView.prototype.onMouseOut = function (event) {\n        this._updatePage();\n        this._isDown = false;\n    };\n    PageView.prototype._updatePage = function () {\n        if (!this._isDown) {\n            return;\n        }\n        this.scrollBar.stopScroll();\n        var total = this._cellOffset > 0 ? this.totalPage + 1 : this.totalPage;\n        if (total > 1) {\n            var changeSize = this._cellSize / 6;\n            var sss = this._currentPage * this._cellSize;\n            if (Math.abs(this.scrollBar.value - sss) > changeSize) {\n                if (this.scrollBar.value > sss) {\n                    this._currentPage++;\n                }\n                else {\n                    this._currentPage--;\n                }\n            }\n            if (this._currentPage > total) {\n                this._currentPage = total + 1;\n            }\n            if (this._currentPage < 0) {\n                this._currentPage = 0;\n            }\n        }\n        this.tweenTo(this._currentPage);\n        if (this._onPageChange) {\n            this._onPageChange(this._currentPage);\n        }\n    };\n    return PageView;\n}(Laya.List));\nexports.PageView = PageView;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar PageList = /** @class */ (function (_super) {\n    __extends(PageList, _super);\n    function PageList() {\n        var _this = _super.call(this) || this;\n        _this._isDown = false;\n        _this._onLoadMoreHandler = null;\n        _this._loading = false;\n        _this._preCount = 5;\n        _this.on(Laya.Event.MOUSE_UP, _this, _this.onMouseUp);\n        _this.on(Laya.Event.MOUSE_OUT, _this, _this.onMouseOut);\n        _this.on(Laya.Event.MOUSE_DOWN, _this, _this.onMouseDown);\n        _this.renderHandler = Laya.Handler.create(_this, _this.renderItem);\n        return _this;\n    }\n    PageList.prototype.destroy = function () {\n        this.off(Laya.Event.MOUSE_UP, this, this.onMouseUp);\n        this.off(Laya.Event.MOUSE_OUT, this, this.onMouseOut);\n    };\n    PageList.prototype.refresh = function () {\n        _super.prototype.refresh.call(this);\n        this._updatePage();\n    };\n    PageList.prototype.onMouseDown = function () {\n        this._isDown = true;\n    };\n    PageList.prototype.onMouseUp = function (event) {\n        this._updatePage();\n        this._isDown = false;\n    };\n    PageList.prototype.onMouseOut = function (event) {\n        this._updatePage();\n        this._isDown = false;\n    };\n    Object.defineProperty(PageList.prototype, \"preCount\", {\n        get: function () {\n            return this._preCount;\n        },\n        set: function (count) {\n            this._preCount = count;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PageList.prototype, \"loading\", {\n        get: function () {\n            return this._loading;\n        },\n        set: function (loading) {\n            this._loading = loading;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PageList.prototype, \"onLoadMoreHandler\", {\n        get: function () {\n            return this._onLoadMoreHandler;\n        },\n        set: function (handler) {\n            this._onLoadMoreHandler = handler;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    PageList.prototype._updatePage = function () {\n        if (!this._isDown) {\n            return;\n        }\n        var length = this._array.length;\n        var maxHeight = length * this._cellSize;\n        var currentPos = this._cellOffset + this.scrollBar.value + this.height;\n        var lastCount = Math.floor((maxHeight - currentPos) / this._cellSize);\n        if (lastCount < 0) {\n            lastCount = 0;\n        }\n        if (!this._loading && this.preCount >= lastCount) {\n            this._onLoadMoreHandler && this._onLoadMoreHandler(lastCount);\n        }\n    };\n    return PageList;\n}(Laya.List));\nexports.PageList = PageList;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction stringifyQuery(query) {\n    return Object.keys(query).map(function (key) {\n        var value = query[key];\n        return key + \"=\" + encodeURIComponent(value);\n    }).join('&');\n}\nexports.stringifyQuery = stringifyQuery;\nfunction decodeQuery(query) {\n    return Object.keys(query).reduce(function (result, key) {\n        var value = query[key];\n        result[key] = decodeURIComponent(value);\n        return result;\n    }, {});\n}\nexports.decodeQuery = decodeQuery;\nfunction parseQueryParams(path) {\n    var url = '';\n    var params = {};\n    if (!path || typeof path !== 'string') {\n        return { url: url, params: params };\n    }\n    var queryString = '';\n    var indexE = path.indexOf('?');\n    var indexW = path.indexOf('#');\n    var indexQ = path.indexOf('=');\n    if (indexE >= 0) {\n        url = path.substring(0, indexE);\n        queryString = path.substring(indexE + 1, indexW > 0 ? indexW : path.length);\n    }\n    else if (indexQ >= 0) {\n        url = '';\n        queryString = path;\n    }\n    else {\n        url = path;\n        queryString = '';\n    }\n    queryString.split('&').map(function (item) {\n        var index = item.indexOf(\"=\");\n        if (index > 0) {\n            var key = item.substring(0, index);\n            var value = item.substring(index + 1);\n            params[key] = decodeURIComponent(value);\n        }\n    });\n    return { url: url, params: params };\n}\nexports.parseQueryParams = parseQueryParams;\nfunction appendQueryParams(path, query) {\n    if (query === void 0) { query = {}; }\n    var _a = parseQueryParams(path), url = _a.url, params = _a.params;\n    Object.keys(query).forEach(function (key) {\n        var value = query[key];\n        if (value !== undefined && value !== null) {\n            params[key] = value;\n        }\n        else {\n            delete params[key];\n        }\n    });\n    var queryString = Object.keys(params).map(function (key) {\n        var value = params[key];\n        return key + \"=\" + encodeURIComponent(value);\n    }).join('&');\n    ;\n    if (!url) {\n        return queryString;\n    }\n    if (!queryString) {\n        return url;\n    }\n    return url + \"?\" + queryString;\n}\nexports.appendQueryParams = appendQueryParams;\nfunction getQueryString(key, def) {\n    if (typeof window !== \"undefined\" && window.location) {\n        var search = window.location.search || '';\n        var reg = new RegExp(\"(^|&)\" + key + \"=([^&]*)(&|$)\");\n        var r = search.substr(1).match(reg);\n        if (r != null) {\n            return decodeURIComponent(unescape(r[2]));\n        }\n    }\n    return def;\n}\nexports.getQueryString = getQueryString;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar env_1 = require(\"./env\");\nvar screen_1 = require(\"./manager/screen\");\nvar init_1 = require(\"./navigator/init\");\nvar hook_1 = require(\"./hook\");\nvar _inited = false;\nvar _transparent = false;\nvar _adapterInfo = null;\nfunction handleAdapter() {\n    try {\n        if (_adapterInfo) {\n            var stage = Laya.stage;\n            stage.width = _adapterInfo.width;\n            stage.height = _adapterInfo.height;\n            stage.scale(_adapterInfo.scaleX, _adapterInfo.scaleY);\n        }\n    }\n    catch (error) {\n    }\n}\nfunction setTransparent(transparent) {\n    _transparent = transparent;\n}\nexports.setTransparent = setTransparent;\nfunction setAdapterInfo(adapterInfo) {\n    _adapterInfo = adapterInfo;\n}\nexports.setAdapterInfo = setAdapterInfo;\nfunction init(width, height) {\n    var options = [];\n    for (var _i = 2; _i < arguments.length; _i++) {\n        options[_i - 2] = arguments[_i];\n    }\n    if (_inited) {\n        return;\n    }\n    if (!env_1.default.isLayaApp()) {\n        env_1.default.printError('Please ensure that the \\'Laya\\' library has been introduced.');\n        return;\n    }\n    screen_1.initScreen.apply(void 0, [false, _transparent, width, height].concat(options));\n    hook_1.callHookInit.apply(void 0, [width, height].concat(options));\n    handleAdapter();\n    _inited = true;\n    env_1.default.printDebug(\"init...\");\n    env_1.default.printDebug(\"offest: \" + screen_1.default.getOffestX() + \", \" + screen_1.default.getOffestY());\n    env_1.default.printDebug(\"app_version: \" + env_1.default.getAppVersion());\n    env_1.default.printDebug(\"version: \" + env_1.default.getVersion());\n    env_1.default.printDebug(\"debug: \" + env_1.default.isDebug());\n    env_1.default.printDebug(\"env: \" + env_1.default.getEnv());\n}\nexports.init = init;\nfunction init3D(width, height) {\n    var options = [];\n    for (var _i = 2; _i < arguments.length; _i++) {\n        options[_i - 2] = arguments[_i];\n    }\n    if (_inited) {\n        return;\n    }\n    if (!env_1.default.isLayaApp()) {\n        env_1.default.printError('Please ensure that the \\'Laya\\' library has been introduced.');\n        return;\n    }\n    screen_1.initScreen.apply(void 0, [true, _transparent, width, height].concat(options));\n    handleAdapter();\n    hook_1.callHookInit.apply(void 0, [width, height].concat(options));\n    _inited = true;\n    env_1.default.printDebug(\"init3D...\");\n    env_1.default.printDebug(\"offest: \" + screen_1.default.getOffestX() + \", \" + screen_1.default.getOffestY());\n    env_1.default.printDebug(\"app_version: \" + env_1.default.getAppVersion());\n    env_1.default.printDebug(\"version: \" + env_1.default.getVersion());\n    env_1.default.printDebug(\"debug: \" + env_1.default.isDebug());\n    env_1.default.printDebug(\"env: \" + env_1.default.getEnv());\n}\nexports.init3D = init3D;\nfunction start(options, onLoaded, onLoadProgress) {\n    if (onLoaded === void 0) { onLoaded = null; }\n    if (onLoadProgress === void 0) { onLoadProgress = null; }\n    if (!_inited) {\n        env_1.default.printError('Please complete the initialization of Tape first.');\n        return;\n    }\n    if (!options) {\n        options = {};\n    }\n    var newOptions = {\n        mainPage: options.mainPage || null,\n        commonRes: options.commonRes || [],\n        fileVersion: options.fileVersion,\n        onLoadProgress: function (progress) {\n            options.onLoadProgress && options.onLoadProgress(progress);\n            onLoadProgress && onLoadProgress(progress);\n        },\n        onLoaded: function () {\n            onLoaded && onLoaded();\n            options.onLoaded && options.onLoaded();\n        }\n    };\n    init_1.initNavigator(newOptions);\n    init_1.setNavigatorReady();\n}\nexports.start = start;\n"],"sourceRoot":""}