{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap","webpack:///./src/services/manager/screen.ts","webpack:///./src/services/env.ts","webpack:///./src/services/manager/uimgr.ts","webpack:///./src/services/navigator/stack.ts","webpack:///./src/services/display/component.ts","webpack:///./src/services/hook.ts","webpack:///./src/services/manager/bg.ts","webpack:///./src/services/navigator/loader.ts","webpack:///./src/services/navigator/init.ts","webpack:///./src/utils/json.ts","webpack:///./src/utils/looper.ts","webpack:///./src/utils/any.ts","webpack:///./src/services/display/popupmanager.ts","webpack:///./src/services/display/toastmanager.ts","webpack:///./src/services/display/baseview.ts","webpack:///./src/index.ts","webpack:///./src/adapter/index.ts","webpack:///./src/adapter/_transsion.ts","webpack:///./src/polyfill.ts","webpack:///./src/utils/resize.ts","webpack:///./src/utils/event.ts","webpack:///./src/services/manager/eft.ts","webpack:///./src/services/speaker/index.ts","webpack:///./src/services/speaker/_chancel.ts","webpack:///./src/services/speaker/_peaks.ts","webpack:///./src/services/speaker/_loadres.ts","webpack:///./src/services/audio.ts","webpack:///./src/services/js.ts","webpack:///./src/utils/onload.ts","webpack:///./src/services/event.ts","webpack:///./src/services/runtime.ts","webpack:///./src/services/message.ts","webpack:///./src/services/utils.ts","webpack:///./src/services/display/activity.ts","webpack:///./src/services/display/popupview.ts","webpack:///./src/services/pipeline.ts","webpack:///./src/services/display/toastview.ts","webpack:///./src/utils/query.ts","webpack:///./src/services/init.ts"],"names":["root","factory","exports","module","define","amd","a","i","this","installedModules","__webpack_require__","moduleId","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","bg_1","uimgr_1","_padding_left","_padding_right","_padding_top","_padding_bottom","_design_width","_design_height","_deviation","_autoAdaption","_autoDirection","size","paddingWidth","paddingHeight","clientWidth","window","innerWidth","laya","utils","Browser","clientHeight","innerHeight","initWidth","initHeight","screenRatio","initRatio","Math","abs","getWidth","Laya","stage","width","getHeight","height","getContentWidth","getContentHeight","getDesignWidth","getDesignHeight","getScale","designWidth","designHeight","min","initScreen","is3D","isAlpha","options","_i","arguments","length","_a","Config","Laya3D","init","apply","concat","scaleMode","Stage","SCALE_EXACTFIT","screenMode","SCREEN_HORIZONTAL","SCREEN_VERTICAL","alignH","ALIGN_CENTER","alignV","ALIGN_MIDDLE","bgColor","initBg","initUI","default","resize","getOffestX","scale","getOffestY","setDeviation","deviation","setPaddingLeft","padding","getPaddingLeft","setPaddingRight","getPaddingRight","setPaddingTop","getPaddingTop","setPaddingBottom","getPaddingBottom","setAutoDirection","auto","setAutoAdaption","adaption","_app_version","_debugOn","isDebug","indexOf","_env","classNameMap","getClassName","obj","str","toString","arr","charAt","match","name_1","e","isLayaApp","isConchApp","getVersion","setAppVersion","version","getAppVersion","setDebug","debug","printError","message","console","error","printDebug","log","getEnv","setEnv","env","_uiManager","_mainUILayer","_topUILayer","stack_1","resize_1","loader_1","screen_1","_inited","_checkInit","Sprite","mouseThrough","addChild","on","Event","RESIZE","_resizeUI","onResize","x","y","scaleX","scaleY","checkFocus","numChildren","getChildAt","setFocus","moveTopToMainLayer","view","parent","removeChild","addViewToMainLayer","addViewTopLayer","_loaders","_all","_length","_getStack","index","len","_showStack","anim","callback","stack","show","_refreshStack","hide","_popStack","count","splice","forEach","exit","focus","navigate","page","params","action","single","open","onShow","onLoaded","loader","push","onLoadProgress","progress","nextProgress","stacks","filter","pop","number","popToTop","finish","instance","_finishStack","extendStatics","__extends","setPrototypeOf","__proto__","Array","b","__","constructor","Component","_super","handleOnTouchOutside","_this","_bgSprite","_bgAlpha","_bgColor","_isTranslucent","_isShow","_handleOnTouchOutside","_canceledOnTouchOutside","_mask","_onEvent","isShow","canceledOnTouchOutside","stopPropagation","configurable","set","bgAlpha","refreshBg","isTranslucent","refreshCanceledOnTouchOutside","nonPenetrating","resizeBg","alpha","graphics","clear","drawRect","offAll","ui","CLICK","addChildAt","setTimeout","_inits","callHookInit","onInit","_bgImage","_bgSkin","_bgSizeGrid","_bgTexture","_bgType","_drawBg","skin","sizeGrid","load","Handler","texture","fillTexture","_resizeBg","Image","setBgSkin","url","setBgColor","color","setBgTexture","getBgSprite","env_1","init_1","json_1","_indexID","default_1","unpackFile","res","_options","_activity","_isFocus","_pageName","visible","_getPageName","loadJson","catch","then","data","map","item","tyep","Loader","IMAGE","Promise","resolve","_newActivity","_onLoaded","_onLoadProgress","onNavigatorReady","onCreate","onNextProgress","activity","easeIn","Ease","linearIn","duration","fromProps","toProps","assign","onResume","Tween","to","easeOut","exitProps","onPause","onDestroy","destroy","onFocus","_isReady","_readyResolve","_readyPromise","_beginLoadStaticRes","commonRes","_onStaticResLoaded","mainPage","initNavigator","fileVersion","ResourceVersion","type","FILENAME_VERSION","enable","setNavigatorReady","_temp","_reject","_listener","force","ERROR","_initListener","reject","JSON","val","getRes","Looper","_tasks","_hasLoop","_checkLoop","timer","frameLoop","task","caller","clearAll","loop","array","where","removeIndexArray_1","reverse","removeItemForWhere","toAny","def","parse","ex","parseFloat","isNaN","_inferType","_toNumber_","_toBoolean_","_toObject_","stringify","_toString_","_popups","_fromProps","_toProps","_exitProps","_hidePopup","result","popupView","cb","uiDuration","uiToProps","uiExitProps","uiEaseOut","linearOut","max","_hidePopupAnim","_onHide","popup","onHide","removeSelf","_showPopup","uiFromProps","uiEaseIn","from","_showPopupAnim","showPopup","alias","mapKey","views","topLevel","hidePopup","v","close","_toasts","_popToast","toast","showToast","_on_hide","displayDuration","_pushToast","hideToast","BaseView","getChildByName","removeChildByName","eft_1","speaker_1","audio_1","js_1","event_1","runtime_1","message_1","utils_1","popupmanager_1","toastmanager_1","activity_1","popupview_1","toastview_1","baseview_1","query_1","OHOGame","init3D","start","getQueryString","setTransparent","setAdapterInfo","js","bg","eft","screen","speaker","audio","event","runtime","navigator","Activity","PopupView","ToastView","hook_1","HttpRequest","cache","group","ignoreCache","_url","_type","getTypeFromUrl","URL","formatURL","_cache","_data","loadedMap","setGroup","parserMap","_customParse","runWith","_loadImage","_loadSound","_loadTTF","loadRuntime","startsWith","that","response","substr","rt","getFileSystemManager","readFileSync","contentType","preLoadedMap","_http","onProgress","onError","send","info","rw","rh","target","varArgs","TypeError","nextSource","nextKey","writable","_initialized","_callbacks","_handleChanged","offResize","onAttachEvent","document","elem","fn","addEventListener","attachEvent","_dic","Dictionary","_mcpool","_inst","onLoadComplet","path","mc","play","loadComplet","thisRef","split","stop","off","LOADED","shift","MovieClip","remove","pivotX","pivotY","looper_1","_chancel_1","vowelsByFormantJP","vowelFormantFloorJP","vowelsByFormantCN","vowelFormantFloorCN","SpeakerController","_onPlay","_onStop","_onError","_onProgress","_onComplete","_playTime","_auidoUrl","_position","_duration","_formant","_speaking","_language","_chancel","_update","formant","position","Date","now","onPlay","onStop","onComplete","getFormant","isSpeaking","getVowel","formantValue","language","currentVowels","currentVowelFormantCeilValues","getVowelByFormant","speak","invoke","fixWechatAudioPlay","playSpeak","_peaks_1","_loadres_1","FixAudioContext","AudioContext","webkitAudioContext","mozAudioContext","msAudioContext","_CHANCELS","SpeakerChancel","stopped","_audioUrl","_onErrorCallback","amplitudeThreshold","audioCtx","sampleRate","sourceNode","createBufferSource","analyserNode","createAnalyser","fftSize","windowSize","frequencyBinCount","gaussianFilters","generateGaussianFilter","disconnect","connect","currentTime","buffer","currentAudioData","Uint8Array","getByteFrequencyData","currentAudioSpectrum","discreteCosineTransform","amplitudeSum","k","formantArray","smoothedAudioSpectrum","convoluteDataAndFilter","findLocalLargestPeaks","peakValues","peakPositions","frequencyUnit","formantAverage_1","formantVal","loadAudioRes","loadPromise","loadRes","audioData","decodeAudioData","destination","errorMsg","cancel","getValueFromArray","paddleType","actualIndex","deviationSquare","sum","mu","param","exp","j","sumCos","_","d2","cos","PI","output","filterMiddlePoint","floor","peakNum","lastPeak","lastPeakPositions","isIncreasing","isPeakIncreasing","failure","request","XMLHttpRequest","responseType","onload","onreadystatechange","readyState","status","AudioController","isMusic","_playing","_onPause","_paused","_music","_soundList","stopAll","isPaused","isPlaying","loops","playUrl","targetUrl","replaceExt","ext","Utils","getFileExtension","searchExt","SoundManager","playMusic","playSound","pause","resume","stopMusic","stopSound","removeChannel","_musicAudio","stopAllSound","setMusicVolume","volume","setSoundVolume","onload_1","loadJs","jspath","undefined","jsList","nodeList","_protocol","location","protocol","_script","createElement","keys","setAttribute","src","body","appendChild","onerror","err","_loadJS","node","_ready","reslove","_timer","_pollingDocument","clearTimeout","registeredEvent","fun","sort","removeEvent","sendEvent","args","EventDispatcher","pivotCenter","pivot","setViewProps","props","bindClick","onClick","onDown","onUp","onOut","sound","clickSound","MOUSE_DOWN","clickDownProps","clickAnimDuration","MOUSE_UP","clickNormalProps","MOUSE_OUT","btn","Button","btn_img","btn_label","Label","btn_sprite","btn_box","Box","page_list","_isDown","_onLoadMoreHandler","_loading","_preCount","onMouseUp","onMouseOut","onMouseDown","renderHandler","renderItem","refresh","_updatePage","loading","handler","maxHeight","_array","_cellSize","currentPos","_cellOffset","scrollBar","lastCount","preCount","List","page_view","_currentPage","_onPageChange","tweenTo","stopScroll","total","totalPage","changeSize","sss","any_1","_listeners","msg","postMessage","conchMarket","sendMessageToPlatform","resp","onMessage","randomArrayItem","source","random","randomUUID","_s4","substring","randomInteger","minNum","maxNum","randomNumber","randomArray","randomLength","copy","randomObj","back","opts","NewAct","redirectTo","pipeline_1","signleShow","pipeShow","put","next","_pipeline_map","_check","pipe","funcs","func","parseQueryParams","queryString","indexE","indexW","indexQ","decodeURIComponent","stringifyQuery","query","encodeURIComponent","join","decodeQuery","reduce","appendQueryParams","search","reg","RegExp","unescape","_transparent","_adapterInfo","handleAdapter","transparent","adapterInfo","newOptions"],"mappings":"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","file":"index.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(this, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 15);\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar bg_1 = require(\"./bg\");\r\nvar uimgr_1 = require(\"./uimgr\");\r\nvar _padding_left = 0;\r\nvar _padding_right = 0;\r\nvar _padding_top = 0;\r\nvar _padding_bottom = 0;\r\nvar _design_width = 0;\r\nvar _design_height = 0;\r\nvar _deviation = 0;\r\nvar _autoAdaption = true;\r\nvar _autoDirection = false;\r\nfunction size() {\r\n    var paddingWidth = _padding_left + _padding_right;\r\n    var paddingHeight = _padding_top + _padding_bottom;\r\n    var clientWidth = window.innerWidth || laya.utils.Browser.clientWidth;\r\n    var clientHeight = window.innerHeight || laya.utils.Browser.clientHeight;\r\n    var initWidth = _design_width;\r\n    var initHeight = _design_height;\r\n    var screenRatio = 1;\r\n    var initRatio = 1;\r\n    if (!_autoDirection) {\r\n        screenRatio = clientHeight / clientWidth;\r\n        initRatio = initHeight / initWidth;\r\n        if (Math.abs(screenRatio / initRatio - 1) > _deviation) {\r\n            if (screenRatio > initRatio) {\r\n                initHeight = initWidth * screenRatio;\r\n            }\r\n            else if (screenRatio < initRatio) {\r\n                initWidth = initHeight / screenRatio;\r\n            }\r\n        }\r\n    }\r\n    else if (initWidth < initHeight && clientWidth < clientHeight) { // 页面和游戏都是竖屏\r\n        screenRatio = clientHeight / clientWidth;\r\n        initRatio = initHeight / initWidth;\r\n        if (Math.abs(screenRatio / initRatio - 1) > _deviation) {\r\n            if (screenRatio > initRatio) {\r\n                initHeight = initWidth * screenRatio;\r\n            }\r\n            else if (screenRatio < initRatio) {\r\n                initWidth = initHeight / screenRatio;\r\n            }\r\n        }\r\n    }\r\n    else if (initWidth < initHeight && clientWidth >= clientHeight) { // 页面横屏，游戏竖屏\r\n        screenRatio = clientHeight / clientWidth;\r\n        initRatio = initWidth / initHeight;\r\n        if (Math.abs(screenRatio / initRatio - 1) > _deviation) {\r\n            if (screenRatio > initRatio) {\r\n                initWidth = initHeight * screenRatio;\r\n            }\r\n            else if (screenRatio < initRatio) {\r\n                initHeight = initWidth / screenRatio;\r\n            }\r\n        }\r\n    }\r\n    else if (initWidth >= initHeight && clientWidth >= clientHeight) { // 页面和游戏都是横屏\r\n        screenRatio = clientHeight / clientWidth;\r\n        initRatio = initHeight / initWidth;\r\n        if (Math.abs(screenRatio / initRatio - 1) > _deviation) {\r\n            if (screenRatio > initRatio) {\r\n                initHeight = initWidth * screenRatio;\r\n            }\r\n            else if (screenRatio < initRatio) {\r\n                initWidth = initHeight / screenRatio;\r\n            }\r\n        }\r\n    }\r\n    else if (initWidth >= initHeight && clientWidth < clientHeight) { // 页面竖屏，游戏横屏\r\n        screenRatio = clientHeight / clientWidth;\r\n        initRatio = initWidth / initHeight;\r\n        if (Math.abs(screenRatio / initRatio - 1) > _deviation) {\r\n            if (screenRatio > initRatio) {\r\n                initWidth = initHeight * screenRatio;\r\n            }\r\n            else if (screenRatio < initRatio) {\r\n                initHeight = initWidth / screenRatio;\r\n            }\r\n        }\r\n    }\r\n    return {\r\n        initHeight: initHeight + paddingWidth,\r\n        initWidth: initWidth + paddingHeight\r\n    };\r\n}\r\nfunction initScreen(is3D, isAlpha, width, height) {\r\n    var options = [];\r\n    for (var _i = 4; _i < arguments.length; _i++) {\r\n        options[_i - 4] = arguments[_i];\r\n    }\r\n    _design_width = width;\r\n    _design_height = height;\r\n    if (_autoAdaption) {\r\n        var _a = size(), initHeight = _a.initHeight, initWidth = _a.initWidth;\r\n        Config.isAlpha = isAlpha;\r\n        if (is3D) {\r\n            Laya3D.init.apply(this, [initWidth, initHeight].concat(options));\r\n        }\r\n        else {\r\n            Laya.init.apply(this, [initWidth, initHeight].concat(options));\r\n        }\r\n        Laya.stage.scaleMode = Laya.Stage.SCALE_EXACTFIT;\r\n        if (_autoDirection) {\r\n            if (initWidth > initHeight) {\r\n                Laya.stage.screenMode = Laya.Stage.SCREEN_HORIZONTAL;\r\n            }\r\n            else {\r\n                Laya.stage.screenMode = Laya.Stage.SCREEN_VERTICAL;\r\n            }\r\n        }\r\n        Laya.stage.alignH = Laya.Stage.ALIGN_CENTER;\r\n        Laya.stage.alignV = Laya.Stage.ALIGN_MIDDLE;\r\n        if (isAlpha) {\r\n            Laya.stage.bgColor = \"none\";\r\n        }\r\n    }\r\n    else {\r\n        if (is3D) {\r\n            Laya3D.init.apply(this, [width, height].concat(options));\r\n        }\r\n        else {\r\n            Laya.init.apply(this, [width, height].concat(options));\r\n        }\r\n    }\r\n    bg_1.initBg();\r\n    uimgr_1.initUI();\r\n}\r\nexports.initScreen = initScreen;\r\nfunction resize() {\r\n    var _a = size(), initHeight = _a.initHeight, initWidth = _a.initWidth;\r\n    Laya.stage.width = initWidth;\r\n    Laya.stage.height = initHeight;\r\n}\r\nfunction getWidth() {\r\n    return Laya.stage.width;\r\n}\r\nfunction getHeight() {\r\n    return Laya.stage.height;\r\n}\r\nfunction getContentWidth() {\r\n    return getWidth() - _padding_left - _padding_right;\r\n}\r\nfunction getContentHeight() {\r\n    return getHeight() - _padding_top - _padding_bottom;\r\n}\r\nfunction setPaddingLeft(padding) {\r\n    _padding_left = padding;\r\n}\r\nfunction getPaddingLeft() {\r\n    return _padding_left;\r\n}\r\nfunction setPaddingRight(padding) {\r\n    _padding_right = padding;\r\n}\r\nfunction getPaddingRight() {\r\n    return _padding_right;\r\n}\r\nfunction setPaddingTop(padding) {\r\n    _padding_top = padding;\r\n}\r\nfunction getPaddingTop() {\r\n    return _padding_top;\r\n}\r\nfunction setPaddingBottom(padding) {\r\n    _padding_bottom = padding;\r\n}\r\nfunction getPaddingBottom() {\r\n    return _padding_bottom;\r\n}\r\nfunction getDesignWidth() {\r\n    return _design_width;\r\n}\r\nfunction getDesignHeight() {\r\n    return _design_height;\r\n}\r\nfunction getScale() {\r\n    var width = getContentWidth();\r\n    var height = getContentHeight();\r\n    var designWidth = getDesignWidth();\r\n    var designHeight = getDesignHeight();\r\n    return Math.min(width / designWidth, height / designHeight);\r\n}\r\nfunction getOffestX() {\r\n    if (!_autoAdaption) {\r\n        return _padding_left;\r\n    }\r\n    var scale = getScale();\r\n    var width = getContentWidth();\r\n    return (width - _design_width * scale) / 2 + _padding_left;\r\n}\r\nfunction getOffestY() {\r\n    if (!_autoAdaption) {\r\n        return _padding_top;\r\n    }\r\n    var scale = getScale();\r\n    var height = getContentHeight();\r\n    return (height - _design_height * scale) / 2 + _padding_top;\r\n}\r\nfunction setDeviation(deviation) {\r\n    _deviation = deviation;\r\n}\r\nfunction setAutoDirection(auto) {\r\n    _autoDirection = auto;\r\n}\r\nfunction setAutoAdaption(adaption) {\r\n    _autoAdaption = adaption;\r\n}\r\nexports.default = {\r\n    resize: resize,\r\n    getWidth: getWidth,\r\n    getHeight: getHeight,\r\n    getScale: getScale,\r\n    getOffestX: getOffestX,\r\n    getOffestY: getOffestY,\r\n    getContentWidth: getContentWidth,\r\n    getContentHeight: getContentHeight,\r\n    getDesignWidth: getDesignWidth,\r\n    getDesignHeight: getDesignHeight,\r\n    setDeviation: setDeviation,\r\n    setPaddingLeft: setPaddingLeft,\r\n    getPaddingLeft: getPaddingLeft,\r\n    setPaddingRight: setPaddingRight,\r\n    getPaddingRight: getPaddingRight,\r\n    setPaddingTop: setPaddingTop,\r\n    getPaddingTop: getPaddingTop,\r\n    setPaddingBottom: setPaddingBottom,\r\n    getPaddingBottom: getPaddingBottom,\r\n    setAutoDirection: setAutoDirection,\r\n    setAutoAdaption: setAutoAdaption,\r\n};\r\n","\"use strict\";\r\n//////////////////////////\r\n/////  Env\r\n//////////////////////////\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar isLayaApp = function () {\r\n    if (typeof window !== \"undefined\") {\r\n        return window.hasOwnProperty(\"Laya\");\r\n    }\r\n    return false;\r\n};\r\nvar isConchApp = function () {\r\n    if (typeof window !== \"undefined\") {\r\n        return window.hasOwnProperty(\"conch\");\r\n    }\r\n    return false;\r\n};\r\n//////////////////////////\r\n/////  Version\r\n//////////////////////////\r\nvar _app_version = \"${app_version}\";\r\nfunction getAppVersion() {\r\n    if (typeof _app_version === \"string\" && _app_version.indexOf('${') === 0) {\r\n        return;\r\n    }\r\n    return _app_version;\r\n}\r\nfunction setAppVersion(version) {\r\n    _app_version = version;\r\n}\r\n//////////////////////////\r\n/////  Version\r\n//////////////////////////\r\nvar _lib_version = \"1.1.11.1121.1807\";\r\nfunction getVersion() {\r\n    if (typeof _lib_version === \"string\" && _lib_version.indexOf('${') === 0) {\r\n        return '1.0.0';\r\n    }\r\n    return _lib_version;\r\n}\r\n//////////////////////////\r\n/////  Debug\r\n//////////////////////////\r\nvar _debugOn = '${debug}';\r\nfunction isDebug() {\r\n    if (typeof _debugOn === \"string\" && _debugOn.indexOf('${') === 0) {\r\n        return false;\r\n    }\r\n    if (_debugOn == \"false\" || _debugOn == \"0\") {\r\n        return false;\r\n    }\r\n    return !!_debugOn;\r\n}\r\nfunction setDebug(debug) {\r\n    _debugOn = debug;\r\n}\r\nfunction printDebug(message) {\r\n    var options = [];\r\n    for (var _i = 1; _i < arguments.length; _i++) {\r\n        options[_i - 1] = arguments[_i];\r\n    }\r\n    if (isDebug()) {\r\n        console.log.apply(console, [\"[ohosdk]\", \"[OHOGame]\", message].concat(options));\r\n    }\r\n}\r\nfunction printError(message) {\r\n    var options = [];\r\n    for (var _i = 1; _i < arguments.length; _i++) {\r\n        options[_i - 1] = arguments[_i];\r\n    }\r\n    if (isDebug()) {\r\n        console.error.apply(console, [\"[ohosdk]\", \"[OHOGame]\", message].concat(options));\r\n    }\r\n}\r\n//////////////////////////\r\n/////  Env\r\n//////////////////////////\r\nvar _env = '${env}';\r\nfunction setEnv(env) {\r\n    _env = env;\r\n}\r\nfunction getEnv() {\r\n    if (typeof _env === \"string\" && _env.indexOf('${') === 0) {\r\n        return;\r\n    }\r\n    return _env;\r\n}\r\n//////////////////////////\r\n/////  getClassName\r\n//////////////////////////\r\nvar classNameMap = {};\r\nfunction getClassName(obj) {\r\n    try {\r\n        if (obj) {\r\n            if (obj.name) {\r\n                return obj.name;\r\n            }\r\n            if (classNameMap[obj]) {\r\n                return classNameMap[obj];\r\n            }\r\n            var str = obj.toString();\r\n            var arr = void 0;\r\n            if (str.charAt(0) == '[') {\r\n                arr = str.match(/\\w+\\s∗(\\w+)\\w+\\s∗(\\w+)/);\r\n            }\r\n            else {\r\n                arr = str.match(/function\\s*(\\w+)/);\r\n            }\r\n            var name_1 = \"\";\r\n            if (arr && arr.length == 2) {\r\n                name_1 = arr[1];\r\n            }\r\n            classNameMap[obj] = name_1;\r\n            return name_1;\r\n        }\r\n    }\r\n    catch (e) {\r\n    }\r\n    return undefined;\r\n}\r\nexports.getClassName = getClassName;\r\nexports.default = {\r\n    isLayaApp: isLayaApp,\r\n    isConchApp: isConchApp,\r\n    getVersion: getVersion,\r\n    setAppVersion: setAppVersion,\r\n    getAppVersion: getAppVersion,\r\n    isDebug: isDebug,\r\n    setDebug: setDebug,\r\n    printError: printError,\r\n    printDebug: printDebug,\r\n    getEnv: getEnv,\r\n    setEnv: setEnv\r\n};\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar stack_1 = require(\"../navigator/stack\");\r\nvar resize_1 = require(\"../../utils/resize\");\r\nvar loader_1 = require(\"../navigator/loader\");\r\nvar screen_1 = require(\"./screen\");\r\nvar _inited = false;\r\nvar _uiManager;\r\nvar _mainUILayer;\r\nvar _topUILayer;\r\nfunction _checkInit() {\r\n    if (!_inited) {\r\n        _inited = true;\r\n        _uiManager = new Laya.Sprite();\r\n        _uiManager.mouseThrough = true;\r\n        _uiManager.name = '_tape_stage';\r\n        _mainUILayer = new Laya.Sprite();\r\n        _mainUILayer.name = '_tape_main_layer';\r\n        _mainUILayer.mouseThrough = true;\r\n        _topUILayer = new Laya.Sprite();\r\n        _topUILayer.name = '_tape_top_layer';\r\n        _topUILayer.mouseThrough = true;\r\n        _uiManager.addChild(_mainUILayer);\r\n        _uiManager.addChild(_topUILayer);\r\n        Laya.stage.addChild(_uiManager);\r\n        Laya.stage.on(Laya.Event.RESIZE, null, function () {\r\n            _resizeUI();\r\n        });\r\n        resize_1.onResize(function () {\r\n            screen_1.default.resize();\r\n        });\r\n    }\r\n    _resizeUI();\r\n}\r\nfunction _resizeUI() {\r\n    if (_mainUILayer) {\r\n        _mainUILayer.width = screen_1.default.getDesignWidth();\r\n        _mainUILayer.height = screen_1.default.getDesignHeight();\r\n        _mainUILayer.x = screen_1.default.getOffestX();\r\n        _mainUILayer.y = screen_1.default.getOffestY();\r\n    }\r\n    if (_topUILayer) {\r\n        _topUILayer.width = screen_1.default.getDesignWidth();\r\n        _topUILayer.height = screen_1.default.getDesignHeight();\r\n        _topUILayer.x = screen_1.default.getOffestX();\r\n        _topUILayer.y = screen_1.default.getOffestY();\r\n    }\r\n    _uiManager.scaleX = screen_1.default.getScale();\r\n    _uiManager.scaleY = screen_1.default.getScale();\r\n}\r\nfunction initUI() {\r\n    _checkInit();\r\n}\r\nexports.initUI = initUI;\r\nfunction checkFocus() {\r\n    if (_mainUILayer.numChildren > 0) {\r\n        var last = _mainUILayer.getChildAt(_mainUILayer.numChildren - 1);\r\n        if (last instanceof loader_1.default) {\r\n            stack_1.setFocus(true);\r\n            return;\r\n        }\r\n    }\r\n    stack_1.setFocus(false);\r\n}\r\nfunction moveTopToMainLayer(view) {\r\n    _checkInit();\r\n    if (view && view.parent == _mainUILayer) {\r\n        _mainUILayer.removeChild(view);\r\n        _mainUILayer.addChild(view);\r\n    }\r\n    checkFocus();\r\n}\r\nfunction addViewToMainLayer(view) {\r\n    _checkInit();\r\n    view && _mainUILayer.addChild(view);\r\n    checkFocus();\r\n}\r\nfunction addViewTopLayer(view) {\r\n    _checkInit();\r\n    view && _topUILayer.addChild(view);\r\n    checkFocus();\r\n}\r\nexports.default = {\r\n    checkFocus: checkFocus,\r\n    moveTopToMainLayer: moveTopToMainLayer,\r\n    addViewToMainLayer: addViewToMainLayer,\r\n    addViewTopLayer: addViewTopLayer,\r\n};\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar loader_1 = require(\"./loader\");\r\nvar uimgr_1 = require(\"../manager/uimgr\");\r\nvar _loaders = [];\r\nfunction _all() {\r\n    return _loaders;\r\n}\r\nfunction _length() {\r\n    return _loaders.length;\r\n}\r\nfunction _getStack(index) {\r\n    if (index === void 0) { index = 0; }\r\n    var len = _length();\r\n    return len > index ? _loaders[len - 1 - index] : null;\r\n}\r\nfunction _showStack(index, anim, callback) {\r\n    if (index === void 0) { index = 0; }\r\n    if (anim === void 0) { anim = false; }\r\n    if (callback === void 0) { callback = null; }\r\n    var stack = _getStack(index);\r\n    if (!stack) {\r\n        return;\r\n    }\r\n    stack.show(anim && _length() > 1, callback);\r\n}\r\nfunction _pushStack(stack) {\r\n    _loaders.push(stack);\r\n}\r\nfunction _topStack(stack) {\r\n    var index = _loaders.indexOf(stack);\r\n    if (index >= 0) {\r\n        _loaders.splice(index, 1);\r\n        _loaders.push(stack);\r\n        _refreshStack(null);\r\n        uimgr_1.default.moveTopToMainLayer(stack);\r\n    }\r\n}\r\nfunction _refreshStack(callback) {\r\n    _showStack(0, true, function () {\r\n        var stack = _getStack(1);\r\n        if (!stack) {\r\n            return;\r\n        }\r\n        stack.hide();\r\n        callback && callback();\r\n    });\r\n}\r\nfunction _finishStack(stacks) {\r\n    if (!stacks || stacks.length <= 0) {\r\n        return;\r\n    }\r\n    for (var i = 0; _length() > 1 && i < stacks.length; i++) {\r\n        var stack = stacks[i];\r\n        _loaders.splice(_loaders.indexOf(stack), 1);\r\n        stack.hide(true, function () {\r\n            stack.exit();\r\n        });\r\n    }\r\n    _showStack(0);\r\n}\r\nfunction _popStack(count) {\r\n    if (count >= _length()) {\r\n        count = _length() - 1;\r\n    }\r\n    if (count <= 0) {\r\n        return;\r\n    }\r\n    var pops = _loaders.splice(_length() - count, count);\r\n    pops.forEach(function (stack) {\r\n        stack.hide(true, function () {\r\n            stack.exit();\r\n        });\r\n    });\r\n    _showStack(0);\r\n}\r\nfunction setFocus(focus) {\r\n    var stack = _getStack();\r\n    if (stack) {\r\n        stack.focus(focus);\r\n    }\r\n}\r\nexports.setFocus = setFocus;\r\nfunction navigate(page, params, action, single) {\r\n    if (params === void 0) { params = null; }\r\n    if (action === void 0) { action = null; }\r\n    if (single === void 0) { single = false; }\r\n    if (!params) {\r\n        params = {};\r\n    }\r\n    var open = function () {\r\n        new loader_1.default({\r\n            page: page,\r\n            params: params,\r\n            onShow: function () {\r\n                _refreshStack(function () {\r\n                    action && action(true);\r\n                });\r\n            },\r\n            onLoaded: function (loader) {\r\n                uimgr_1.default.addViewToMainLayer(loader);\r\n                _pushStack(loader);\r\n            },\r\n            onLoadProgress: function (loader, progress) {\r\n                var stack = _getStack();\r\n                stack && stack.nextProgress(progress);\r\n            }\r\n        });\r\n    };\r\n    if (single || page.single) {\r\n        var stacks = [];\r\n        _all().forEach(function (stack) {\r\n            if (stack.filter(page)) {\r\n                stacks.push(stack);\r\n            }\r\n        });\r\n        stacks.length > 0 ? _topStack(stacks.pop()) : open();\r\n    }\r\n    else {\r\n        open();\r\n    }\r\n}\r\nfunction popToTop() {\r\n    _popStack(_length());\r\n}\r\nfunction pop(number) {\r\n    if (number === void 0) { number = 1; }\r\n    _popStack(number);\r\n}\r\nfunction finish(page, instance) {\r\n    if (instance === void 0) { instance = null; }\r\n    var stacks = [];\r\n    _all().forEach(function (stack) {\r\n        if (stack.filter(page, instance)) {\r\n            stacks.push(stack);\r\n        }\r\n    });\r\n    _finishStack(stacks);\r\n}\r\nexports.default = {\r\n    navigate: navigate,\r\n    pop: pop,\r\n    popToTop: popToTop,\r\n    finish: finish,\r\n};\r\n","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar screen_1 = require(\"../manager/screen\");\r\nvar baseview_1 = require(\"./baseview\");\r\nvar Component = /** @class */ (function (_super) {\r\n    __extends(Component, _super);\r\n    function Component(handleOnTouchOutside) {\r\n        if (handleOnTouchOutside === void 0) { handleOnTouchOutside = null; }\r\n        var _this = _super.call(this) || this;\r\n        _this._bgSprite = null;\r\n        _this._bgAlpha = 0.5;\r\n        _this._bgColor = '#000000';\r\n        _this._isTranslucent = true;\r\n        _this._isShow = false;\r\n        _this._handleOnTouchOutside = null;\r\n        _this._canceledOnTouchOutside = false;\r\n        _this._mask = false;\r\n        _this._onEvent = null;\r\n        _this._handleOnTouchOutside = handleOnTouchOutside;\r\n        _this._onEvent = function (e) {\r\n            if (_this.isShow && _this.canceledOnTouchOutside) {\r\n                _this._handleOnTouchOutside && _this._handleOnTouchOutside();\r\n            }\r\n            e.stopPropagation();\r\n        };\r\n        _this.initBg();\r\n        return _this;\r\n    }\r\n    Object.defineProperty(Component.prototype, \"bg\", {\r\n        get: function () {\r\n            return this._bgSprite;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Component.prototype, \"isShow\", {\r\n        get: function () {\r\n            return this._isShow;\r\n        },\r\n        set: function (isShow) {\r\n            this._isShow = isShow;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Component.prototype, \"bgAlpha\", {\r\n        get: function () {\r\n            return this._bgAlpha;\r\n        },\r\n        set: function (bgAlpha) {\r\n            this._bgAlpha = bgAlpha;\r\n            this.refreshBg();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Component.prototype, \"bgColor\", {\r\n        get: function () {\r\n            return this._bgColor;\r\n        },\r\n        set: function (bgColor) {\r\n            this._bgColor = bgColor;\r\n            this.refreshBg();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Component.prototype, \"isTranslucent\", {\r\n        get: function () {\r\n            return this._isTranslucent;\r\n        },\r\n        set: function (isTranslucent) {\r\n            this._isTranslucent = isTranslucent;\r\n            this.refreshBg();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Component.prototype, \"canceledOnTouchOutside\", {\r\n        get: function () {\r\n            return this._canceledOnTouchOutside;\r\n        },\r\n        set: function (canceledOnTouchOutside) {\r\n            this._canceledOnTouchOutside = canceledOnTouchOutside;\r\n            this.refreshCanceledOnTouchOutside();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Component.prototype, \"nonPenetrating\", {\r\n        get: function () {\r\n            return this._mask;\r\n        },\r\n        set: function (nonPenetrating) {\r\n            this._mask = nonPenetrating;\r\n            this.refreshCanceledOnTouchOutside();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Component.prototype.refreshBg = function () {\r\n        if (!this._bgSprite) {\r\n            return;\r\n        }\r\n        this.resizeBg();\r\n        this.refreshCanceledOnTouchOutside();\r\n        this._bgSprite.alpha = this.bgAlpha;\r\n        this._bgSprite.graphics.clear();\r\n        if (!this.isTranslucent) {\r\n            this._bgSprite.graphics.drawRect(0, 0, this._bgSprite.width, this._bgSprite.height, this.bgColor);\r\n        }\r\n    };\r\n    Component.prototype.refreshCanceledOnTouchOutside = function () {\r\n        this._bgSprite && this._bgSprite.offAll();\r\n        if ((this.canceledOnTouchOutside || this.nonPenetrating) && this.ui) {\r\n            this.ui.mouseThrough = true;\r\n            this._bgSprite && this._bgSprite.on(Laya.Event.CLICK, this, this._onEvent);\r\n        }\r\n    };\r\n    Component.prototype.initBg = function () {\r\n        var _this = this;\r\n        if (this._bgSprite) {\r\n            return;\r\n        }\r\n        this._bgSprite = new Laya.Sprite();\r\n        this.addChildAt(this._bgSprite, 0);\r\n        setTimeout(function () { _this.refreshBg(); }, 0);\r\n    };\r\n    Component.prototype.resizeBg = function () {\r\n        if (!this._bgSprite) {\r\n            return;\r\n        }\r\n        this._bgSprite.x = -screen_1.default.getOffestX();\r\n        this._bgSprite.y = -screen_1.default.getOffestY();\r\n        this._bgSprite.width = screen_1.default.getWidth();\r\n        this._bgSprite.height = screen_1.default.getHeight();\r\n    };\r\n    return Component;\r\n}(baseview_1.default));\r\nexports.default = Component;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar _inits = [];\r\nfunction callHookInit(width, height) {\r\n    var options = [];\r\n    for (var _i = 2; _i < arguments.length; _i++) {\r\n        options[_i - 2] = arguments[_i];\r\n    }\r\n    _inits.forEach(function (callback) { return callback.apply(void 0, [width, height].concat(options)); });\r\n}\r\nexports.callHookInit = callHookInit;\r\nfunction onInit(callback) {\r\n    if (callback && typeof callback == \"function\" && _inits.indexOf(callback) < 0) {\r\n        _inits.push(callback);\r\n    }\r\n}\r\nexports.default = {\r\n    onInit: onInit\r\n};\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar screen_1 = require(\"./screen\");\r\nvar _inited = false;\r\nvar _bgSprite = null;\r\nvar _bgImage = null;\r\nvar _bgColor = null;\r\nvar _bgSkin = null;\r\nvar _bgSizeGrid = null;\r\nvar _bgTexture = null;\r\nvar _bgType = 0;\r\nfunction _drawBg() {\r\n    if (_bgType == 1) {\r\n        if (_bgSprite && _bgColor) {\r\n            _bgSprite.graphics.clear();\r\n            _bgSprite.graphics.drawRect(0, 0, _bgSprite.width, _bgSprite.height, _bgColor);\r\n        }\r\n    }\r\n    else if (_bgType == 2) {\r\n        if (_bgImage && _bgSkin) {\r\n            _bgImage.skin = _bgSkin;\r\n            _bgImage.sizeGrid = _bgSizeGrid || \"\";\r\n        }\r\n    }\r\n    else if (_bgType == 3) {\r\n        if (_bgSprite && _bgTexture) {\r\n            Laya.loader.load(_bgTexture, Laya.Handler.create(this, function (texture) {\r\n                try {\r\n                    _bgSprite.graphics.clear();\r\n                    _bgSprite.graphics.fillTexture(texture, 0, 0, _bgSprite.width, _bgSprite.height, 'repeat');\r\n                }\r\n                catch (error) {\r\n                }\r\n            }));\r\n        }\r\n    }\r\n}\r\nfunction _resizeBg() {\r\n    if (_bgSprite) {\r\n        _bgSprite.width = screen_1.default.getWidth();\r\n        _bgSprite.height = screen_1.default.getHeight();\r\n    }\r\n    if (_bgImage) {\r\n        _bgImage.width = screen_1.default.getWidth();\r\n        _bgImage.height = screen_1.default.getHeight();\r\n    }\r\n    _drawBg();\r\n}\r\nfunction setBgColor(color) {\r\n    if (!_bgSprite) {\r\n        return;\r\n    }\r\n    _bgType = 1;\r\n    _bgColor = color;\r\n    _drawBg();\r\n}\r\nfunction setBgSkin(url, sizeGrid) {\r\n    if (sizeGrid === void 0) { sizeGrid = null; }\r\n    _bgType = 2;\r\n    _bgSkin = url;\r\n    _bgSizeGrid = sizeGrid;\r\n    _drawBg();\r\n}\r\nfunction setBgTexture(url) {\r\n    _bgType = 3;\r\n    _bgTexture = url;\r\n    _drawBg();\r\n}\r\nfunction getBgSprite() {\r\n    return _bgSprite;\r\n}\r\nfunction initBg() {\r\n    if (!_inited) {\r\n        _inited = true;\r\n        _bgSprite = new Laya.Sprite;\r\n        _bgSprite.name = '_tape_bg_layer';\r\n        _bgImage = new Laya.Image;\r\n        _bgImage.name = '_bg_image';\r\n        Laya.stage.addChild(_bgSprite);\r\n        Laya.stage.addChild(_bgImage);\r\n        Laya.stage.on(Laya.Event.RESIZE, null, function () {\r\n            _resizeBg();\r\n        });\r\n    }\r\n    _resizeBg();\r\n}\r\nexports.initBg = initBg;\r\nexports.default = {\r\n    setBgSkin: setBgSkin,\r\n    setBgColor: setBgColor,\r\n    setBgTexture: setBgTexture,\r\n    getBgSprite: getBgSprite,\r\n};\r\n","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar uimgr_1 = require(\"../manager/uimgr\");\r\nvar env_1 = require(\"../env\");\r\nvar init_1 = require(\"./init\");\r\nvar json_1 = require(\"../../utils/json\");\r\nvar _indexID = 1;\r\nfunction genID(obj) {\r\n    var name = env_1.getClassName(obj) || \"Activity\";\r\n    return name + \"$\" + _indexID++;\r\n}\r\nfunction getRes(unpackFile, res) {\r\n    if (unpackFile) {\r\n        return json_1.loadJson(unpackFile, true).catch(function () {\r\n            return [];\r\n        }).then(function (data) {\r\n            return res.concat(data.map(function (item) {\r\n                return {\r\n                    url: item,\r\n                    tyep: Laya.Loader.IMAGE\r\n                };\r\n            }));\r\n        });\r\n    }\r\n    return Promise.resolve(res);\r\n}\r\nvar default_1 = /** @class */ (function (_super) {\r\n    __extends(default_1, _super);\r\n    function default_1(options) {\r\n        var _this = _super.call(this) || this;\r\n        _this._options = null;\r\n        _this._activity = null;\r\n        _this._isShow = false;\r\n        _this._isFocus = false;\r\n        _this._pageName = \"\";\r\n        _this.visible = false;\r\n        _this._options = options;\r\n        _this._pageName = genID(_this._options.page);\r\n        env_1.default.printDebug(\"init\", _this._getPageName());\r\n        getRes(_this._options.page.unpackFile, _this._options.page.res || []).catch(function () {\r\n            return [];\r\n        }).then(function (res) {\r\n            if (res && res.length > 0) {\r\n                Laya.loader.load(res, Laya.Handler.create(_this, function () {\r\n                    _this._newActivity();\r\n                    setTimeout(function () { _this._onLoaded(); }, 100);\r\n                    env_1.default.printDebug(\"onLoaded\", _this._getPageName());\r\n                }), Laya.Handler.create(_this, function (progress) {\r\n                    env_1.default.printDebug(\"onLoadProgress\", _this._getPageName(), progress);\r\n                    _this._onLoadProgress(progress);\r\n                }, null, false));\r\n            }\r\n            else {\r\n                _this._newActivity();\r\n                _this._onLoaded();\r\n                env_1.default.printDebug(\"onLoaded\", _this._getPageName());\r\n                env_1.default.printDebug(\"onLoadProgress\", _this._getPageName(), 1);\r\n            }\r\n        });\r\n        return _this;\r\n    }\r\n    default_1.prototype._getPageName = function () {\r\n        return this._pageName;\r\n    };\r\n    default_1.prototype._newActivity = function () {\r\n        if (this._activity) {\r\n            return;\r\n        }\r\n        this._activity = new this._options.page({\r\n            page: this._options.page,\r\n            params: this._options.params\r\n        });\r\n        this._activity[\"_ID\"] = this._pageName;\r\n        env_1.default.printDebug(\"newActivity\", this._getPageName());\r\n    };\r\n    default_1.prototype._onLoaded = function () {\r\n        var _this = this;\r\n        init_1.onNavigatorReady().then(function () {\r\n            _this._options.onLoaded && _this._options.onLoaded(_this);\r\n            _this.addChild(_this._activity);\r\n            env_1.default.printDebug(\"onCreate\", _this._getPageName());\r\n            _this._activity.onCreate && _this._activity.onCreate();\r\n            _this._options.onShow && _this._options.onShow();\r\n        });\r\n    };\r\n    default_1.prototype._onLoadProgress = function (progress) {\r\n        this._options.onLoadProgress && this._options.onLoadProgress(this, progress);\r\n    };\r\n    default_1.prototype.nextProgress = function (progress) {\r\n        this._activity.onNextProgress && this._activity.onNextProgress(progress);\r\n    };\r\n    default_1.prototype.filter = function (page, activity) {\r\n        if (page === this._options.page) {\r\n            return !activity || activity === this._activity;\r\n        }\r\n        return false;\r\n    };\r\n    default_1.prototype.show = function (anim, callback) {\r\n        if (this.visible) {\r\n            return;\r\n        }\r\n        if (this._isShow) {\r\n            return;\r\n        }\r\n        this._isShow = true;\r\n        var easeIn = this._activity.easeIn || Laya.Ease.linearIn;\r\n        var duration = this._activity.duration || 0;\r\n        var fromProps = this._activity.fromProps || {};\r\n        var toProps = this._activity.toProps || {};\r\n        if (anim && duration > 0) {\r\n            Object.assign(this, fromProps);\r\n            env_1.default.printDebug(\"onResume\", this._getPageName());\r\n            this._activity.onResume && this._activity.onResume();\r\n            this.visible = true;\r\n            Laya.Tween.to(this, toProps, duration, easeIn, Laya.Handler.create(this, function () {\r\n                callback && callback();\r\n            }));\r\n        }\r\n        else {\r\n            env_1.default.printDebug(\"onResume\", this._getPageName());\r\n            this._activity.onResume && this._activity.onResume();\r\n            this.visible = true;\r\n            callback && callback();\r\n        }\r\n        uimgr_1.default.checkFocus();\r\n    };\r\n    default_1.prototype.hide = function (anim, callback) {\r\n        var _this = this;\r\n        if (!this.visible) {\r\n            return;\r\n        }\r\n        if (!this._isShow) {\r\n            return;\r\n        }\r\n        this._isShow = false;\r\n        var easeOut = this._activity.easeOut || Laya.Ease.linearIn;\r\n        var duration = this._activity.duration || 0;\r\n        var fromProps = this._activity.toProps || {};\r\n        var toProps = this._activity.exitProps || {};\r\n        if (anim && duration > 0) {\r\n            Object.assign(this, fromProps);\r\n            env_1.default.printDebug(\"onPause\", this._getPageName());\r\n            this._activity.onPause && this._activity.onPause();\r\n            Laya.Tween.to(this, toProps, duration, easeOut, Laya.Handler.create(this, function () {\r\n                _this.visible = true;\r\n                callback && callback();\r\n            }));\r\n        }\r\n        else {\r\n            env_1.default.printDebug(\"onPause\", this._getPageName());\r\n            this._activity.onPause && this._activity.onPause();\r\n            this.visible = false;\r\n            callback && callback();\r\n        }\r\n        this.focus(false);\r\n    };\r\n    default_1.prototype.exit = function () {\r\n        env_1.default.printDebug(\"onDestroy\", this._getPageName());\r\n        this._activity.onDestroy && this._activity.onDestroy();\r\n        this.destroy();\r\n    };\r\n    default_1.prototype.focus = function (focus) {\r\n        if (this._isFocus === focus) {\r\n            return;\r\n        }\r\n        this._isFocus = focus;\r\n        env_1.default.printDebug(\"onFocus\", this._getPageName(), focus);\r\n        this._activity.onFocus && this._activity.onFocus(focus);\r\n    };\r\n    return default_1;\r\n}(Laya.Component));\r\nexports.default = default_1;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar stack_1 = require(\"./stack\");\r\nvar _options = null;\r\nvar _inited = false;\r\nvar _isReady = false;\r\nvar _readyResolve = null;\r\nvar _readyPromise = new Promise(function (resolve) {\r\n    _readyResolve = resolve;\r\n});\r\nfunction _enableResourceVersion() {\r\n    if (_options && _options.fileVersion) {\r\n        Laya.ResourceVersion.type = Laya.ResourceVersion.FILENAME_VERSION;\r\n        Laya.ResourceVersion.enable(_options.fileVersion, Laya.Handler.create(null, function () {\r\n            _beginLoadStaticRes();\r\n        }));\r\n    }\r\n    else {\r\n        _beginLoadStaticRes();\r\n    }\r\n}\r\nfunction _beginLoadStaticRes() {\r\n    var res = _options.commonRes || [];\r\n    if (res.length > 0) {\r\n        Laya.loader.load(res, Laya.Handler.create(null, function () {\r\n            _onStaticResLoaded();\r\n            _options.onLoaded && _options.onLoaded();\r\n        }), Laya.Handler.create(this, function (progress) {\r\n            _options.onLoadProgress && _options.onLoadProgress(progress);\r\n        }, null, false));\r\n    }\r\n    else {\r\n        _options.onLoadProgress && _options.onLoadProgress(100);\r\n        _options.onLoaded && _options.onLoaded();\r\n        _onStaticResLoaded();\r\n    }\r\n}\r\nfunction _onStaticResLoaded() {\r\n    _options.mainPage && stack_1.default.navigate(_options.mainPage);\r\n}\r\nfunction initNavigator(options) {\r\n    if (!options || _inited) {\r\n        return;\r\n    }\r\n    _options = options;\r\n    _enableResourceVersion();\r\n    _inited = true;\r\n}\r\nexports.initNavigator = initNavigator;\r\nfunction onNavigatorReady() {\r\n    if (_isReady) {\r\n        return Promise.resolve();\r\n    }\r\n    return _readyPromise;\r\n}\r\nexports.onNavigatorReady = onNavigatorReady;\r\nfunction setNavigatorReady() {\r\n    if (_isReady) {\r\n        return;\r\n    }\r\n    _isReady = true;\r\n    _readyResolve();\r\n    _readyResolve = null;\r\n    _readyPromise = null;\r\n}\r\nexports.setNavigatorReady = setNavigatorReady;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar _temp = {};\r\nvar _reject = {};\r\nvar _listener = false;\r\nfunction _initListener() {\r\n    if (_listener) {\r\n        return;\r\n    }\r\n    _listener = true;\r\n    Laya.loader.on(Laya.Event.ERROR, this, function (url) {\r\n        if (_reject[url]) {\r\n            _reject[url](\"load res error: \" + url);\r\n        }\r\n    });\r\n}\r\nfunction loadJson(url, force) {\r\n    var _this = this;\r\n    if (force === void 0) { force = false; }\r\n    if (!force && _temp[url]) {\r\n        return Promise.resolve(_temp[url]);\r\n    }\r\n    _initListener();\r\n    return new Promise(function (resolve, reject) {\r\n        _reject[url] = reject;\r\n        Laya.loader.load([{ url: url, type: Laya.Loader.JSON }], Laya.Handler.create(_this, function () {\r\n            var val = Laya.loader.getRes(url);\r\n            if (val) {\r\n                _temp[url] = val;\r\n                resolve(val);\r\n            }\r\n            else {\r\n                reject();\r\n            }\r\n            delete _reject[url];\r\n        }));\r\n    });\r\n}\r\nexports.loadJson = loadJson;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nfunction removeItemForWhere(array, where) {\r\n    if (typeof where === 'function') {\r\n        var removeIndexArray_1 = [];\r\n        array.forEach(function (value, index) {\r\n            if (where(value)) {\r\n                removeIndexArray_1.push(index);\r\n            }\r\n        });\r\n        removeIndexArray_1.reverse();\r\n        removeIndexArray_1.forEach(function (index) {\r\n            array.splice(index, 1);\r\n        });\r\n    }\r\n}\r\nvar Looper = /** @class */ (function () {\r\n    function Looper() {\r\n        this._tasks = [];\r\n        this._hasLoop = false;\r\n    }\r\n    Looper.prototype._checkLoop = function () {\r\n        var _this = this;\r\n        if (this._tasks.length > 0) {\r\n            if (!this._hasLoop) {\r\n                Laya.timer.frameLoop(1, this, function () {\r\n                    _this._tasks.forEach(function (task) {\r\n                        var caller = task.caller, callback = task.callback;\r\n                        callback.apply(caller);\r\n                    });\r\n                });\r\n                this._hasLoop = true;\r\n            }\r\n        }\r\n        else {\r\n            if (this._hasLoop) {\r\n                Laya.timer.clearAll(this);\r\n                this._hasLoop = false;\r\n            }\r\n        }\r\n    };\r\n    Looper.prototype.loop = function (caller, callback) {\r\n        var filterTasks = this._tasks.filter(function (task) {\r\n            return task.caller == caller && task.callback == callback;\r\n        });\r\n        if (filterTasks.length == 0) {\r\n            this._tasks.push({\r\n                caller: caller,\r\n                callback: callback,\r\n            });\r\n            this._checkLoop();\r\n        }\r\n    };\r\n    Looper.prototype.clear = function (caller, callback) {\r\n        removeItemForWhere(this._tasks, function (task) {\r\n            return task.caller == caller && (!callback || task.callback == callback);\r\n        });\r\n        this._checkLoop();\r\n    };\r\n    return Looper;\r\n}());\r\nexports.Looper = Looper;\r\nexports.default = new Looper;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nfunction _toNumber_(value) {\r\n    try {\r\n        return JSON.parse(value);\r\n    }\r\n    catch (ex) {\r\n        return parseFloat(value);\r\n    }\r\n}\r\nfunction _toBoolean_(value) {\r\n    return !!value && value != 'false' && value != '0';\r\n}\r\nfunction _toString_(value, def) {\r\n    try {\r\n        var type = typeof value;\r\n        if (type === 'string') {\r\n            return value;\r\n        }\r\n        else if (type === 'boolean') {\r\n            return value ? 'true' : 'false';\r\n        }\r\n        else if (type === 'number') {\r\n            return \"\" + value;\r\n        }\r\n        else if (type === 'object') {\r\n            return JSON.stringify(value);\r\n        }\r\n    }\r\n    catch (ex) {\r\n    }\r\n    return def;\r\n}\r\nfunction _toObject_(value, def) {\r\n    if (typeof value === 'object') {\r\n        return value;\r\n    }\r\n    try {\r\n        return JSON.parse(value);\r\n    }\r\n    catch (ex) {\r\n    }\r\n    return def;\r\n}\r\nfunction _inferType(value) {\r\n    if (typeof value !== 'string') {\r\n        return typeof value;\r\n    }\r\n    try {\r\n        var parsed = JSON.parse(value);\r\n        return typeof parsed;\r\n    }\r\n    catch (ex) {\r\n        // might be a pure number\r\n        var number = parseFloat(value);\r\n        if (!isNaN(number) && \"\" + number === value) {\r\n            return 'number';\r\n        }\r\n        return 'string';\r\n    }\r\n}\r\nfunction toAny(value, def) {\r\n    if (value === undefined || value === null) {\r\n        return def;\r\n    }\r\n    // try to infer type and return\r\n    var type = _inferType(value);\r\n    if (def !== undefined && def !== null) {\r\n        type = typeof def;\r\n    }\r\n    switch (type) {\r\n        case 'number':\r\n            return _toNumber_(value);\r\n        case 'boolean':\r\n            return _toBoolean_(value);\r\n        case 'object':\r\n            return _toObject_(value, def);\r\n        case 'string':\r\n            return _toString_(value, def);\r\n        default:\r\n            break;\r\n    }\r\n    return def;\r\n}\r\nexports.toAny = toAny;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar env_1 = require(\"../env\");\r\nvar uimgr_1 = require(\"../manager/uimgr\");\r\nvar _popups = {};\r\nvar _fromProps = { alpha: 0 };\r\nvar _toProps = { alpha: 1 };\r\nvar _exitProps = { alpha: 0 };\r\nfunction _showPopupAnim(popupView, cb) {\r\n    // ui anim\r\n    var uiDuration = popupView.uiDuration || 300;\r\n    var uiFromProps = popupView.uiFromProps || {};\r\n    var uiToProps = popupView.uiToProps || {};\r\n    var uiEaseIn = popupView.uiEaseIn || Laya.Ease.linearIn;\r\n    Object.assign(popupView.ui, uiFromProps);\r\n    Laya.Tween.to(popupView.ui, uiToProps, uiDuration, uiEaseIn);\r\n    // view anim\r\n    var duration = popupView.duration || 300;\r\n    var from = popupView.fromProps || _fromProps || {};\r\n    var to = popupView.toProps || _toProps || {};\r\n    var easeIn = popupView.easeIn || Laya.Ease.linearIn;\r\n    Object.assign(popupView, from);\r\n    Laya.Tween.to(popupView, to, duration, easeIn, Laya.Handler.create(this, function () {\r\n        cb && cb(popupView);\r\n    }));\r\n}\r\nfunction _hidePopupAnim(popupView, cb) {\r\n    // ui anim\r\n    var uiDuration = popupView.uiDuration || 300;\r\n    var uiToProps = popupView.uiToProps || {};\r\n    var uiExitProps = popupView.uiExitProps || {};\r\n    var uiEaseOut = popupView.uiEaseOut || Laya.Ease.linearOut;\r\n    Object.assign(popupView.ui, uiToProps);\r\n    Laya.Tween.to(popupView.ui, uiExitProps, uiDuration, uiEaseOut);\r\n    // view anim\r\n    var duration = popupView.duration || 300;\r\n    var toProps = popupView.toProps || _toProps || {};\r\n    var exitProps = popupView.exitProps || _exitProps || {};\r\n    var easeOut = popupView.easeOut || Laya.Ease.linearOut;\r\n    Object.assign(popupView, toProps);\r\n    Laya.Tween.to(popupView, exitProps, duration, easeOut, Laya.Handler.create(this, function () {\r\n        cb && cb(popupView);\r\n    }), Math.max(0, uiDuration - duration));\r\n}\r\nfunction _hidePopup(view, result) {\r\n    _hidePopupAnim(view, function () {\r\n        view._onHide && view._onHide(view.popup, result);\r\n        view.isShow = false;\r\n        view.onHide && view.onHide(view.popup, result);\r\n        view.removeSelf && view.removeSelf();\r\n        view.destroy && view.destroy();\r\n        uimgr_1.default.checkFocus();\r\n    });\r\n}\r\nfunction _showPopup(view) {\r\n    _showPopupAnim(view, function () {\r\n        view.isShow = true;\r\n    });\r\n}\r\nfunction showPopup(popup, params, onHide, alias) {\r\n    if (params === void 0) { params = null; }\r\n    if (onHide === void 0) { onHide = null; }\r\n    if (alias === void 0) { alias = \"default\"; }\r\n    var mapKey = alias + \"_\" + env_1.getClassName(popup);\r\n    var views = _popups[mapKey];\r\n    var view = new popup();\r\n    view.alias = alias;\r\n    view.popup = popup;\r\n    view.params = params || {};\r\n    view._onHide = onHide;\r\n    if (views) {\r\n        views.push(view);\r\n    }\r\n    else {\r\n        _popups[mapKey] = [view];\r\n    }\r\n    if (view.topLevel) {\r\n        uimgr_1.default.addViewTopLayer(view);\r\n    }\r\n    else {\r\n        uimgr_1.default.addViewToMainLayer(view);\r\n    }\r\n    view.onShow && view.onShow();\r\n    _showPopup(view);\r\n}\r\nfunction hidePopup(popup, view, result, alias) {\r\n    if (view === void 0) { view = null; }\r\n    if (result === void 0) { result = {}; }\r\n    if (alias === void 0) { alias = \"default\"; }\r\n    var mapKey = alias + \"_\" + env_1.getClassName(popup);\r\n    var views = _popups[mapKey];\r\n    if (view) {\r\n        var index = views ? views.indexOf(view) : -1;\r\n        if (index < 0) {\r\n            return;\r\n        }\r\n        views.splice(index, 1);\r\n        _hidePopup(view, result);\r\n    }\r\n    else {\r\n        views && views.splice(0, views.length).forEach(function (v) {\r\n            _hidePopup(v, result || { close: true });\r\n        });\r\n    }\r\n}\r\nexports.default = {\r\n    showPopup: showPopup,\r\n    hidePopup: hidePopup\r\n};\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar uimgr_1 = require(\"../manager/uimgr\");\r\nvar _toasts = {};\r\nfunction _pushToast(toast, view) {\r\n    if (_toasts[toast]) {\r\n        _toasts[toast].push(view);\r\n    }\r\n    else {\r\n        _toasts[toast] = [view];\r\n    }\r\n}\r\nfunction _popToast(toast, view) {\r\n    if (!_toasts[toast]) {\r\n        return [];\r\n    }\r\n    if (view && _toasts[toast].length > 1) {\r\n        _toasts[toast].splice(_toasts[toast].indexOf(view), 1);\r\n        return [view];\r\n    }\r\n    else {\r\n        var views = _toasts[toast] || [];\r\n        delete _toasts[toast];\r\n        return views;\r\n    }\r\n}\r\nfunction showToast(toast, params, onHide) {\r\n    if (params === void 0) { params = null; }\r\n    if (onHide === void 0) { onHide = null; }\r\n    var view = new toast;\r\n    view._on_hide = onHide;\r\n    view.toast = toast;\r\n    view.params = params || {};\r\n    view.onShow && view.onShow();\r\n    var from = view.fromProps || { alpha: 0 };\r\n    var to = view.toProps || { alpha: 1 };\r\n    var exit = view.exitProps || { alpha: 0 };\r\n    var easeIn = view.easeIn || Laya.Ease.linearIn;\r\n    var easeOut = view.easeOut || Laya.Ease.linearOut;\r\n    var duration = view.duration;\r\n    var displayDuration = view.displayDuration;\r\n    Object.assign(view, from);\r\n    Laya.Tween.to(view, to, duration, easeIn, Laya.Handler.create(this, function () {\r\n        view.isShow = true;\r\n    }), 0);\r\n    if (displayDuration != -1) {\r\n        Laya.Tween.to(view, exit, duration, easeOut, Laya.Handler.create(this, function () {\r\n            if (view) {\r\n                _popToast(toast, view);\r\n                view._on_hide && view._on_hide(view.toast);\r\n                view.isShow = false;\r\n                view.onHide && view.onHide();\r\n                view.destroy();\r\n            }\r\n        }), displayDuration + duration);\r\n    }\r\n    _pushToast(toast, view);\r\n    if (view.topLevel) {\r\n        uimgr_1.default.addViewTopLayer(view);\r\n    }\r\n    else {\r\n        uimgr_1.default.addViewToMainLayer(view);\r\n    }\r\n}\r\nfunction hideToast(toast, view) {\r\n    if (view === void 0) { view = null; }\r\n    var list = _popToast(toast, view);\r\n    list.forEach(function (view) {\r\n        view._on_hide && view._on_hide(view.toast);\r\n        view.isShow = false;\r\n        view.onHide && view.onHide();\r\n        view.destroy();\r\n    });\r\n}\r\nexports.default = {\r\n    showToast: showToast,\r\n    hideToast: hideToast,\r\n};\r\n","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar BaseView = /** @class */ (function (_super) {\r\n    __extends(BaseView, _super);\r\n    function BaseView() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    Object.defineProperty(BaseView.prototype, \"ui\", {\r\n        get: function () {\r\n            return this.getChildByName('_contentView');\r\n        },\r\n        set: function (view) {\r\n            this.removeChildByName('_contentView');\r\n            view.name = '_contentView';\r\n            view.mouseThrough = true;\r\n            this.addChild(view);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return BaseView;\r\n}(Laya.Component));\r\nexports.default = BaseView;\r\n","\"use strict\";\r\nrequire(\"./adapter\");\r\nrequire(\"./polyfill\");\r\nvar bg_1 = require(\"./services/manager/bg\");\r\nvar eft_1 = require(\"./services/manager/eft\");\r\nvar screen_1 = require(\"./services/manager/screen\");\r\nvar speaker_1 = require(\"./services/speaker\");\r\nvar audio_1 = require(\"./services/audio\");\r\nvar env_1 = require(\"./services/env\");\r\nvar js_1 = require(\"./services/js\");\r\nvar event_1 = require(\"./services/event\");\r\nvar runtime_1 = require(\"./services/runtime\");\r\nvar message_1 = require(\"./services/message\");\r\nvar utils_1 = require(\"./services/utils\");\r\nvar stack_1 = require(\"./services/navigator/stack\");\r\nvar popupmanager_1 = require(\"./services/display/popupmanager\");\r\nvar toastmanager_1 = require(\"./services/display/toastmanager\");\r\nvar activity_1 = require(\"./services/display/activity\");\r\nvar popupview_1 = require(\"./services/display/popupview\");\r\nvar toastview_1 = require(\"./services/display/toastview\");\r\nvar baseview_1 = require(\"./services/display/baseview\");\r\nvar query_1 = require(\"./utils/query\");\r\nvar init_1 = require(\"./services/init\");\r\nvar OHOGame = Object.assign({}, {\r\n    init: init_1.init,\r\n    init3D: init_1.init3D,\r\n    start: init_1.start,\r\n    getQueryString: query_1.getQueryString,\r\n    setTransparent: init_1.setTransparent,\r\n    setAdapterInfo: init_1.setAdapterInfo,\r\n    env: env_1.default,\r\n    js: js_1.default,\r\n    bg: bg_1.default,\r\n    eft: eft_1.default,\r\n    screen: screen_1.default,\r\n    speaker: speaker_1.default,\r\n    audio: audio_1.default,\r\n    event: event_1.default,\r\n    runtime: runtime_1.default,\r\n    navigator: stack_1.default,\r\n    utils: utils_1.default,\r\n    popup: popupmanager_1.default,\r\n    toast: toastmanager_1.default,\r\n    message: message_1.default,\r\n    Activity: activity_1.default,\r\n    PopupView: popupview_1.default,\r\n    ToastView: toastview_1.default,\r\n    BaseView: baseview_1.default\r\n});\r\nif (typeof window !== \"undefined\") {\r\n    window.OHOGame = OHOGame;\r\n}\r\nmodule.exports = {\r\n    OHOGame: OHOGame\r\n};\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nrequire(\"./_transsion\");\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar hook_1 = require(\"../services/hook\");\r\n// loader\r\nif (Laya && Laya.Loader) {\r\n    var Handler = Laya.Handler;\r\n    var Loader = Laya.Loader;\r\n    var HttpRequest = Laya.HttpRequest;\r\n    var __proto = Loader.prototype;\r\n    __proto.load = function (url, type, cache, group, ignoreCache) {\r\n        (cache === void 0) && (cache = true);\r\n        (ignoreCache === void 0) && (ignoreCache = false);\r\n        this._url = url;\r\n        if (url.indexOf(\"data:image\") === 0)\r\n            this._type = type = \"image\";\r\n        else {\r\n            this._type = type || (type = this.getTypeFromUrl(url));\r\n            url = Laya.URL.formatURL(url);\r\n        }\r\n        this._cache = cache;\r\n        this._data = null;\r\n        if (!ignoreCache && Loader.loadedMap[url]) {\r\n            this._data = Loader.loadedMap[url];\r\n            this.event(/*laya.events.Event.PROGRESS*/ \"progress\", 1);\r\n            this.event(/*laya.events.Event.COMPLETE*/ \"complete\", this._data);\r\n            return;\r\n        }\r\n        if (group)\r\n            Loader.setGroup(url, group);\r\n        if (Loader.parserMap[type] != null) {\r\n            this._customParse = true;\r\n            if (((Loader.parserMap[type]) instanceof Handler))\r\n                Loader.parserMap[type].runWith(this);\r\n            else\r\n                Loader.parserMap[type].call(null, this);\r\n            return;\r\n        }\r\n        if (type === \"image\" || type === \"htmlimage\" || type === \"nativeimage\")\r\n            return this._loadImage(url);\r\n        if (type === \"sound\")\r\n            return this._loadSound(url);\r\n        if (type === \"ttf\")\r\n            return this._loadTTF(url);\r\n        try {\r\n            // 在这里，插入添加适配读取本地资源\r\n            if (typeof loadRuntime !== 'undefined' && !url.startsWith(\"http\")) {\r\n                var that = this;\r\n                setTimeout(function () {\r\n                    if (url.startsWith('file://')) {\r\n                        url = url.substr('file://'.length);\r\n                    }\r\n                    var response;\r\n                    if (type == 'pkm' || type === \"arraybuffer\") {\r\n                        response = rt.getFileSystemManager().readFileSync(url);\r\n                    }\r\n                    else {\r\n                        response = rt.getFileSystemManager().readFileSync(url, \"utf8\");\r\n                        if ((type == 'atlas' || type == 'json') && typeof response !== \"undefined\") {\r\n                            response = JSON.parse(response);\r\n                        }\r\n                    }\r\n                    that.onLoaded(response);\r\n                }, 0);\r\n                return; //这里记得 return\r\n            }\r\n        }\r\n        catch (error) {\r\n        }\r\n        // 添加适配代码结束，下面是原本 laya 代码\r\n        var contentType;\r\n        switch (type) {\r\n            case \"atlas\":\r\n            case \"plf\":\r\n                contentType = \"json\";\r\n                break;\r\n            case \"font\":\r\n                contentType = \"xml\";\r\n                break;\r\n            case \"pkm\":\r\n                contentType = \"arraybuffer\";\r\n                break;\r\n            default:\r\n                contentType = type;\r\n        }\r\n        if (Loader.preLoadedMap[url]) {\r\n            this.onLoaded(Loader.preLoadedMap[url]);\r\n        }\r\n        else {\r\n            if (!this._http) {\r\n                this._http = new HttpRequest();\r\n                this._http.on(/*laya.events.Event.PROGRESS*/ \"progress\", this, this.onProgress);\r\n                this._http.on(/*laya.events.Event.ERROR*/ \"error\", this, this.onError);\r\n                this._http.on(/*laya.events.Event.COMPLETE*/ \"complete\", this, this.onLoaded);\r\n            }\r\n            this._http.send(url, null, \"get\", contentType);\r\n        }\r\n    };\r\n}\r\n// ui\r\nhook_1.default.onInit(function (width, height) {\r\n    if (typeof window !== \"undefined\" && typeof window['getAdapterInfo'] !== \"undefined\") {\r\n        var stage = Laya.stage;\r\n        var info = window['getAdapterInfo']({ width: width, height: height, scaleMode: Laya.stage.scaleMode });\r\n        stage.width = info.rw;\r\n        stage.height = info.rh;\r\n    }\r\n});\r\n","if (typeof Object.assign != 'function') {\r\n    // Must be writable: true, enumerable: false, configurable: true\r\n    Object.defineProperty(Object, \"assign\", {\r\n        value: function assign(target, varArgs) {\r\n            'use strict';\r\n            if (target == null) { // TypeError if undefined or null\r\n                throw new TypeError('Cannot convert undefined or null to object');\r\n            }\r\n            var to = Object(target);\r\n            for (var index = 1; index < arguments.length; index++) {\r\n                var nextSource = arguments[index];\r\n                if (nextSource != null) { // Skip over if undefined or null\r\n                    for (var nextKey in nextSource) {\r\n                        // Avoid bugs when hasOwnProperty is shadowed\r\n                        if (Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {\r\n                            to[nextKey] = nextSource[nextKey];\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            return to;\r\n        },\r\n        writable: true,\r\n        configurable: true\r\n    });\r\n}\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar event_1 = require(\"./event\");\r\nvar _initialized = false;\r\nvar _callbacks = [];\r\nfunction _handleChanged() {\r\n    _callbacks.forEach(function (callback) {\r\n        callback && callback();\r\n    });\r\n}\r\nfunction _initialize() {\r\n    if (_initialized) {\r\n        return;\r\n    }\r\n    _initialized = true;\r\n    if (typeof window !== \"undefined\") {\r\n        event_1.onAttachEvent(window, 'touchmove', _handleChanged);\r\n        event_1.onAttachEvent(window, 'scroll', _handleChanged);\r\n        event_1.onAttachEvent(window, 'resize', _handleChanged);\r\n    }\r\n    if (typeof document !== \"undefined\") {\r\n        event_1.onAttachEvent(document, 'DOMContentLoaded', _handleChanged);\r\n    }\r\n}\r\nfunction offResize(callback) {\r\n    if (callback && typeof callback == 'function') {\r\n        var index = _callbacks.indexOf(callback);\r\n        if (index >= 0) {\r\n            _callbacks.splice(index, 1);\r\n        }\r\n    }\r\n}\r\nexports.offResize = offResize;\r\nfunction onResize(callback) {\r\n    _initialize();\r\n    if (callback && typeof callback == 'function' && _callbacks.indexOf(callback) < 0) {\r\n        _callbacks.push(callback);\r\n        callback && callback();\r\n    }\r\n}\r\nexports.onResize = onResize;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nfunction onAttachEvent(elem, event, fn) {\r\n    if (elem.addEventListener != null) {\r\n        return elem.addEventListener(event, fn, false);\r\n    }\r\n    else if (elem.attachEvent != null) {\r\n        return elem.attachEvent(\"on\" + event, fn);\r\n    }\r\n    else {\r\n        return elem[event] = fn;\r\n    }\r\n}\r\nexports.onAttachEvent = onAttachEvent;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar _dic = new Laya.Dictionary();\r\nvar _mcpool = new Laya.Dictionary();\r\nvar _inst = {};\r\nfunction onLoadComplet(path, mc, play, loop, loadComplet, thisRef) {\r\n    var arr = _dic[path].arr;\r\n    for (var i = 0; i < arr.length; i++) {\r\n        arr[i][0][\"_url\"] = path;\r\n        arr[i][0][\"_atlasPath\"] = path.split(\".swf\")[0] + \".json\";\r\n        arr[i][0][\"_onLoaded\"]();\r\n        if (arr[i][1])\r\n            arr[i][0].play(0, arr[i][2]);\r\n        else\r\n            arr[i][0].stop();\r\n        if (arr[i][3]) {\r\n            arr[i][3].apply(arr[i][4], [arr[i][0]]);\r\n        }\r\n    }\r\n    if (play) {\r\n        mc.play(0, loop);\r\n    }\r\n    else {\r\n        mc.stop();\r\n    }\r\n    if (loadComplet) {\r\n        loadComplet.apply(thisRef, [mc]);\r\n    }\r\n    _dic[path].arr = [];\r\n    mc.off(Laya.Event.LOADED, _inst, onLoadComplet);\r\n    _dic[path].load = true;\r\n}\r\nfunction remove(mc) {\r\n    if (!mc) {\r\n        return;\r\n    }\r\n    mc.scaleX = mc.scaleY = 1;\r\n    mc.pivotX = mc.pivotY = 0;\r\n    mc[\"anchorX\"] = mc[\"anchorY\"] = 0;\r\n    mc.alpha = 1;\r\n    Laya.Tween.clearAll(mc);\r\n    mc.stop();\r\n    if (mc.parent)\r\n        mc.parent.removeChild(mc);\r\n    _mcpool[mc[\"path\"]].push(mc);\r\n}\r\nfunction create(path, play, loop, loadComplet, thisRef) {\r\n    if (play === void 0) { play = true; }\r\n    if (loop === void 0) { loop = true; }\r\n    if (loadComplet === void 0) { loadComplet = null; }\r\n    if (thisRef === void 0) { thisRef = null; }\r\n    var mc;\r\n    if (!_mcpool[path])\r\n        _mcpool[path] = [];\r\n    if (_mcpool[path].length > 0) {\r\n        mc = _mcpool[path].shift();\r\n    }\r\n    else {\r\n        mc = new Laya.MovieClip();\r\n    }\r\n    mc[\"path\"] = path;\r\n    if (_dic[path]) {\r\n        if (_dic[path].load) {\r\n            mc[\"_url\"] = path;\r\n            mc[\"_atlasPath\"] = path.split(\".swf\")[0] + \".json\";\r\n            mc[\"_onLoaded\"]();\r\n            if (play)\r\n                mc.play(0, loop);\r\n            else\r\n                mc.stop();\r\n            if (loadComplet)\r\n                loadComplet.apply(thisRef, [mc]);\r\n        }\r\n        else {\r\n            _dic[path].arr.push([mc, play, loop, loadComplet, thisRef]);\r\n        }\r\n    }\r\n    else {\r\n        _dic[path] = { load: false, arr: [] };\r\n        mc.on(Laya.Event.LOADED, _inst, onLoadComplet, [path, mc, play, loop, loadComplet, thisRef]);\r\n        mc.load(path, true);\r\n    }\r\n    return mc;\r\n}\r\nexports.default = {\r\n    create: create,\r\n    remove: remove\r\n};\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar looper_1 = require(\"../../utils/looper\");\r\nvar _chancel_1 = require(\"./_chancel\");\r\nvar vowelsByFormantJP = [\"i\", \"u\", \"e\", \"o\", \"a\"];\r\nvar vowelFormantFloorJP = [0, 500, 600, 900, 1200];\r\nvar vowelsByFormantCN = [\"i\", \"v\", \"u\", \"e\", \"o\", \"a\"];\r\nvar vowelFormantFloorCN = [0, 200, 500, 600, 900, 1200];\r\nfunction getVowelByFormant(formantValue, language) {\r\n    var result = \"-\";\r\n    var currentVowels = vowelsByFormantCN;\r\n    var currentVowelFormantCeilValues = vowelFormantFloorCN;\r\n    if (language == 'jp' || language == 'japanese') {\r\n        currentVowels = vowelsByFormantJP;\r\n        currentVowelFormantCeilValues = vowelFormantFloorJP;\r\n    }\r\n    for (var m = 0; m < currentVowelFormantCeilValues.length; m++) {\r\n        if (formantValue > currentVowelFormantCeilValues[m]) {\r\n            result = currentVowels[m];\r\n        }\r\n    }\r\n    return result;\r\n}\r\nfunction fixWechatAudioPlay(callback) {\r\n    if (window && window['WeixinJSBridge']) {\r\n        try {\r\n            window['WeixinJSBridge'].invoke(\"getNetworkType\", {}, function () {\r\n                callback && callback();\r\n            });\r\n        }\r\n        catch (e) {\r\n            callback && callback();\r\n        }\r\n    }\r\n    else {\r\n        callback && callback();\r\n    }\r\n}\r\nvar SpeakerController = /** @class */ (function () {\r\n    function SpeakerController(options) {\r\n        this._onPlay = null;\r\n        this._onStop = null;\r\n        this._onError = null;\r\n        this._onProgress = null;\r\n        this._onComplete = null;\r\n        this._options = null;\r\n        this._playTime = 0;\r\n        this._auidoUrl = null;\r\n        this._position = -1;\r\n        this._duration = -1;\r\n        this._formant = null;\r\n        this._speaking = false;\r\n        this._language = \"chinese\";\r\n        this._chancel = null;\r\n        this._options = options;\r\n    }\r\n    SpeakerController.prototype._update = function () {\r\n        if (this._chancel) {\r\n            this._formant = this._chancel.formant;\r\n            this._position = this._chancel.position;\r\n            this._duration = this._chancel.duration;\r\n            if (!this._speaking && this._position > 0) {\r\n                this._speaking = true;\r\n                this._onPlay && this._onPlay();\r\n            }\r\n            if (this._speaking && this._duration > 0) {\r\n                if (this._position > this._duration) {\r\n                    this._onComplete && this._onComplete();\r\n                    this.stop();\r\n                }\r\n                else {\r\n                    this._onProgress && this._onProgress({\r\n                        position: this._position,\r\n                        duration: this._duration,\r\n                    });\r\n                }\r\n            }\r\n            else if (Date.now() - this._playTime > 2000) {\r\n                this._onError && this._onError();\r\n                this.stop();\r\n            }\r\n        }\r\n    };\r\n    Object.defineProperty(SpeakerController.prototype, \"url\", {\r\n        get: function () {\r\n            return this._auidoUrl;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(SpeakerController.prototype, \"position\", {\r\n        get: function () {\r\n            return this._position;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(SpeakerController.prototype, \"duration\", {\r\n        get: function () {\r\n            return this._duration;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    SpeakerController.prototype.onPlay = function (callback) {\r\n        this._onPlay = callback;\r\n    };\r\n    SpeakerController.prototype.onStop = function (callback) {\r\n        this._onStop = callback;\r\n    };\r\n    SpeakerController.prototype.onProgress = function (callback) {\r\n        this._onProgress = callback;\r\n    };\r\n    SpeakerController.prototype.onComplete = function (callback) {\r\n        this._onComplete = callback;\r\n    };\r\n    SpeakerController.prototype.onError = function (callback) {\r\n        this._onError = callback;\r\n    };\r\n    SpeakerController.prototype.getFormant = function () {\r\n        if (!this.isSpeaking()) {\r\n            return 0;\r\n        }\r\n        return this._formant;\r\n    };\r\n    SpeakerController.prototype.getVowel = function () {\r\n        return getVowelByFormant(this.getFormant(), this._language);\r\n    };\r\n    SpeakerController.prototype.isSpeaking = function () {\r\n        return this._speaking;\r\n    };\r\n    SpeakerController.prototype.speak = function (url, language) {\r\n        var _this = this;\r\n        if (language === void 0) { language = 'chinese'; }\r\n        this._auidoUrl = url;\r\n        this._language = language;\r\n        fixWechatAudioPlay(function () {\r\n            if (_this._auidoUrl) {\r\n                _this.stop();\r\n                _this._playTime = Date.now();\r\n                _this._chancel = _chancel_1.default.playSpeak(_this._auidoUrl, _this._onError, _this._options);\r\n                looper_1.default.loop(_this, _this._update);\r\n            }\r\n        });\r\n    };\r\n    SpeakerController.prototype.stop = function () {\r\n        if (!this._chancel) {\r\n            return;\r\n        }\r\n        this._onStop && this._onStop();\r\n        this._chancel.stop();\r\n        this._chancel = null;\r\n        this._speaking = false;\r\n        looper_1.default.clear(this, this._update);\r\n    };\r\n    return SpeakerController;\r\n}());\r\nfunction create(options) {\r\n    return new SpeakerController(options);\r\n}\r\nexports.default = {\r\n    create: create\r\n};\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar _peaks_1 = require(\"./_peaks\");\r\nvar _loadres_1 = require(\"./_loadres\");\r\nvar FixAudioContext = AudioContext || webkitAudioContext\r\n    || mozAudioContext || msAudioContext;\r\nvar _CHANCELS = [];\r\nvar SpeakerChancel = /** @class */ (function () {\r\n    function SpeakerChancel(url, onError, options) {\r\n        if (options === void 0) { options = {}; }\r\n        this.stopped = false;\r\n        this._audioUrl = url;\r\n        this._onErrorCallback = onError;\r\n        this._options = options;\r\n        this.amplitudeThreshold = 0.02;\r\n        this.audioCtx = new FixAudioContext({\r\n            sampleRate: this._options && this._options.sampleRate || 44100\r\n        });\r\n        this.sourceNode = this.audioCtx.createBufferSource();\r\n        this.analyserNode = this.audioCtx.createAnalyser();\r\n        this.analyserNode.fftSize = this._options && this._options.fftSize || 2048;\r\n        this.windowSize = this.analyserNode.frequencyBinCount;\r\n        this.gaussianFilters = _peaks_1.default.generateGaussianFilter(7, 5);\r\n        this.sourceNode.disconnect();\r\n        this.sourceNode.connect(this.analyserNode);\r\n        this.play();\r\n    }\r\n    Object.defineProperty(SpeakerChancel.prototype, \"url\", {\r\n        get: function () {\r\n            return this._audioUrl;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(SpeakerChancel.prototype, \"position\", {\r\n        get: function () {\r\n            return this.audioCtx && this.audioCtx.currentTime || 0;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(SpeakerChancel.prototype, \"duration\", {\r\n        get: function () {\r\n            return this.sourceNode\r\n                && this.sourceNode.buffer\r\n                && this.sourceNode.buffer.duration || 0;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(SpeakerChancel.prototype, \"formant\", {\r\n        get: function () {\r\n            var currentAudioData = new Uint8Array(this.windowSize);\r\n            this.analyserNode.getByteFrequencyData(currentAudioData);\r\n            var currentAudioSpectrum = _peaks_1.default.discreteCosineTransform(currentAudioData);\r\n            var amplitudeSum = 0.0;\r\n            for (var k = 0; k < currentAudioSpectrum.length; k++) {\r\n                amplitudeSum += currentAudioSpectrum[k];\r\n            }\r\n            if (amplitudeSum >= this.amplitudeThreshold) {\r\n                var formantArray = [];\r\n                var smoothedAudioSpectrum = _peaks_1.default.convoluteDataAndFilter(currentAudioSpectrum, this.gaussianFilters, \"Repet\");\r\n                var _a = _peaks_1.default.findLocalLargestPeaks(smoothedAudioSpectrum, 3), peakValues = _a.peakValues, peakPositions = _a.peakPositions;\r\n                var frequencyUnit = this.audioCtx.sampleRate / this.windowSize;\r\n                for (var i = 0; i < peakPositions.length; i++) {\r\n                    formantArray[i] = peakPositions[i] * (peakValues[i] / frequencyUnit);\r\n                }\r\n                var formantAverage_1 = 0;\r\n                formantArray.forEach(function (formantVal) {\r\n                    formantAverage_1 += formantVal;\r\n                });\r\n                return formantAverage_1 / formantArray.length;\r\n            }\r\n            return 0;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    SpeakerChancel.prototype.loadAudioRes = function () {\r\n        var _this = this;\r\n        if (!this.loadPromise) {\r\n            this.loadPromise = new Promise(function (resolve, reject) {\r\n                _loadres_1.default.loadRes(_this._audioUrl, resolve, function () {\r\n                    _this.loadPromise = null;\r\n                    reject && reject();\r\n                });\r\n            });\r\n        }\r\n        return this.loadPromise;\r\n    };\r\n    SpeakerChancel.prototype.play = function () {\r\n        var _this = this;\r\n        this.loadAudioRes().then(function (audioData) {\r\n            _this.audioCtx.decodeAudioData(audioData, function (buffer) {\r\n                if (_this.stopped) {\r\n                    return;\r\n                }\r\n                _this.sourceNode.buffer = buffer;\r\n                _this.sourceNode.connect(_this.analyserNode);\r\n                _this.sourceNode.connect(_this.audioCtx.destination);\r\n                _this.sourceNode.start();\r\n            }, function (e) {\r\n                var errorMsg = \"error decoding audio data: \" + _this._audioUrl;\r\n                _this._onErrorCallback && _this._onErrorCallback(errorMsg, e);\r\n            });\r\n        }).catch(function () {\r\n            var errorMsg = \"load audio failure: \" + _this._audioUrl;\r\n            _this._onErrorCallback && _this._onErrorCallback(errorMsg);\r\n        });\r\n    };\r\n    SpeakerChancel.prototype.stop = function () {\r\n        this.stopped = true;\r\n        this._onErrorCallback = null;\r\n        try {\r\n            var indexOf = _CHANCELS.indexOf(this);\r\n            if (indexOf >= 0) {\r\n                _CHANCELS.splice(indexOf, 1);\r\n            }\r\n            if (this.sourceNode) {\r\n                this.sourceNode.stop();\r\n            }\r\n        }\r\n        catch (error) {\r\n        }\r\n    };\r\n    return SpeakerChancel;\r\n}());\r\nexports.SpeakerChancel = SpeakerChancel;\r\nfunction playSpeak(url, onError, options) {\r\n    var cancel = new SpeakerChancel(url, onError, options);\r\n    _CHANCELS.push(cancel);\r\n    return cancel;\r\n}\r\nexports.default = {\r\n    playSpeak: playSpeak\r\n};\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nfunction getValueFromArray(data, index, paddleType) {\r\n    if (index >= 0 && index < data.length) {\r\n        return data[index];\r\n    }\r\n    else {\r\n        switch (paddleType) {\r\n            case \"Zero\":\r\n                return 0;\r\n            case \"Repeat\":\r\n                return index < 0 ? data[0] : data[data.length - 1];\r\n            case \"Loop\":\r\n                var actualIndex = index;\r\n                while (actualIndex < 0) {\r\n                    actualIndex += data.length;\r\n                }\r\n                actualIndex %= data.length;\r\n                return data[actualIndex];\r\n            default:\r\n                return 0;\r\n        }\r\n    }\r\n}\r\nfunction generateGaussianFilter(size, deviationSquare) {\r\n    var result = [];\r\n    var sum = 0;\r\n    var mu = (size - 1) / 2;\r\n    for (var i = 0; i < size; i++) {\r\n        var param = -((i - mu) * (i - mu)) / (2 * deviationSquare);\r\n        result[i] = Math.exp(param);\r\n        sum += result[i];\r\n    }\r\n    for (var j = 0; j < size; j++) {\r\n        result[j] /= sum;\r\n    }\r\n    return result;\r\n}\r\nfunction discreteCosineTransform(data) {\r\n    var result = [];\r\n    var sumCos = 0;\r\n    data.forEach(function (_, i) {\r\n        sumCos = 0;\r\n        data.forEach(function (d2, j) {\r\n            sumCos += d2 * Math.cos((Math.PI / data.length) * i * (j + 0.5));\r\n        });\r\n        result[i] = Math.abs(sumCos);\r\n    });\r\n    return result;\r\n}\r\n/**\r\n * Convolute data and filter. Result is sent to output, which must not be shorter than data.\r\n */\r\nfunction convoluteDataAndFilter(data, filter, paddleType) {\r\n    if (paddleType === void 0) { paddleType = \"Repeat\"; }\r\n    var output = [];\r\n    var filterMiddlePoint = Math.floor(filter.length / 2);\r\n    for (var n = 0; n < data.length; n++) {\r\n        output[n] = 0.0;\r\n        for (var m = 0; m < filter.length; m++) {\r\n            output[n] += getValueFromArray(data, n - filterMiddlePoint + m, paddleType) * filter[filter.length - m - 1];\r\n        }\r\n    }\r\n    return output;\r\n}\r\nfunction findLocalLargestPeaks(data, length) {\r\n    var peakNum = 0;\r\n    var lastPeak = 0;\r\n    var lastPeakPositions = 0;\r\n    var isIncreasing = false;\r\n    var isPeakIncreasing = false;\r\n    var peakValues = [];\r\n    var peakPositions = [];\r\n    for (var i = 0; i < data.length - 1; i++) {\r\n        if (data[i] < data[i + 1]) {\r\n            isIncreasing = true;\r\n        }\r\n        else {\r\n            if (isIncreasing == true) {\r\n                // Peak found.\r\n                if (lastPeak < data[i]) {\r\n                    isPeakIncreasing = true;\r\n                }\r\n                else {\r\n                    if (isPeakIncreasing == true) {\r\n                        // Local largest peak found.\r\n                        peakValues[peakNum] = lastPeak;\r\n                        peakPositions[peakNum] = lastPeakPositions;\r\n                        ++peakNum;\r\n                    }\r\n                    isPeakIncreasing = false;\r\n                }\r\n                lastPeak = data[i];\r\n                lastPeakPositions = i;\r\n            }\r\n            isIncreasing = false;\r\n        }\r\n        if (peakNum >= length) {\r\n            break;\r\n        }\r\n    }\r\n    return { peakValues: peakValues, peakPositions: peakPositions };\r\n}\r\nexports.default = {\r\n    generateGaussianFilter: generateGaussianFilter,\r\n    discreteCosineTransform: discreteCosineTransform,\r\n    convoluteDataAndFilter: convoluteDataAndFilter,\r\n    findLocalLargestPeaks: findLocalLargestPeaks\r\n};\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nfunction loadRes(url, callback, failure) {\r\n    var request = new XMLHttpRequest();\r\n    request.responseType = \"arraybuffer\";\r\n    request.open('GET', url, true);\r\n    request.onload = function () {\r\n        callback && callback(request.response);\r\n    };\r\n    request.onreadystatechange = function () {\r\n        if (request.readyState === 4) {\r\n            if (request.status !== 200) {\r\n                failure && failure();\r\n            }\r\n        }\r\n    };\r\n    request.send();\r\n}\r\nexports.default = {\r\n    loadRes: loadRes\r\n};\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar env_1 = require(\"./env\");\r\nvar looper_1 = require(\"../utils/looper\");\r\nfunction fixWechatAudioPlay(callback) {\r\n    if (window && window['WeixinJSBridge']) {\r\n        try {\r\n            window['WeixinJSBridge'].invoke(\"getNetworkType\", {}, function () {\r\n                callback && callback();\r\n            });\r\n        }\r\n        catch (e) {\r\n            callback && callback();\r\n        }\r\n    }\r\n    else {\r\n        callback && callback();\r\n    }\r\n}\r\nfunction fixAudioExtension(targetUrl, replaceExt) {\r\n    var ext = Laya.Utils.getFileExtension(targetUrl);\r\n    var searchExt = !!ext ? \".\" + ext : '';\r\n    if (env_1.default.isConchApp() && searchExt != \".wav\" && searchExt != \".ogg\") {\r\n        return targetUrl.substr(0, targetUrl.length - searchExt.length) + replaceExt;\r\n    }\r\n    return targetUrl;\r\n}\r\nvar AudioController = /** @class */ (function () {\r\n    function AudioController(isMusic) {\r\n        this._auidoUrl = '';\r\n        this._chancel = null;\r\n        this._playing = false;\r\n        this._onPlay = null;\r\n        this._onPause = null;\r\n        this._onStop = null;\r\n        this._onError = null;\r\n        this._onProgress = null;\r\n        this._onComplete = null;\r\n        this._position = -1;\r\n        this._duration = -1;\r\n        this._paused = false;\r\n        this._music = false;\r\n        this._playTime = 0;\r\n        this._music = isMusic;\r\n        if (!isMusic) {\r\n            AudioController._soundList.push(this);\r\n        }\r\n    }\r\n    AudioController.stopAll = function () {\r\n        var soundList = AudioController._soundList.splice(0, AudioController._soundList.length);\r\n        soundList.forEach(function (item) {\r\n            item && item.stop();\r\n        });\r\n    };\r\n    AudioController.prototype._update = function () {\r\n        if (this._chancel) {\r\n            this._position = this._chancel.position;\r\n            this._duration = this._chancel.duration;\r\n            if (!this._playing && this._position > 0) {\r\n                this._playing = true;\r\n                this._onPlay && this._onPlay();\r\n            }\r\n            if (this._playing && this._duration > 0) {\r\n                this._onProgress && this._onProgress({\r\n                    position: this.position,\r\n                    duration: this.duration,\r\n                });\r\n            }\r\n            else if (Date.now() - this._playTime > 2000) {\r\n                this._onError && this._onError();\r\n                this.stop();\r\n            }\r\n        }\r\n    };\r\n    AudioController.prototype.onPlay = function (callback) {\r\n        this._onPlay = callback;\r\n    };\r\n    AudioController.prototype.onStop = function (callback) {\r\n        this._onStop = callback;\r\n    };\r\n    AudioController.prototype.onPause = function (callback) {\r\n        this._onPause = callback;\r\n    };\r\n    AudioController.prototype.onProgress = function (callback) {\r\n        this._onProgress = callback;\r\n    };\r\n    AudioController.prototype.onComplete = function (callback) {\r\n        this._onComplete = callback;\r\n    };\r\n    AudioController.prototype.onError = function (callback) {\r\n        this._onError = callback;\r\n    };\r\n    Object.defineProperty(AudioController.prototype, \"url\", {\r\n        get: function () {\r\n            return this._auidoUrl;\r\n        },\r\n        set: function (url) {\r\n            if (this._auidoUrl != url) {\r\n                this._auidoUrl = url;\r\n                this.stop();\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AudioController.prototype, \"position\", {\r\n        get: function () {\r\n            return this._position;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AudioController.prototype, \"duration\", {\r\n        get: function () {\r\n            return this._duration;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    AudioController.prototype.isMusic = function () {\r\n        return this._music;\r\n    };\r\n    AudioController.prototype.isPaused = function () {\r\n        return this._paused;\r\n    };\r\n    AudioController.prototype.isPlaying = function () {\r\n        return this._playing;\r\n    };\r\n    AudioController.prototype.play = function (loops) {\r\n        var _this = this;\r\n        if (loops === void 0) { loops = 1; }\r\n        fixWechatAudioPlay(function () {\r\n            if (_this._auidoUrl) {\r\n                _this.stop();\r\n                var playUrl = fixAudioExtension(_this._auidoUrl, '.ogg');\r\n                _this._playTime = Date.now();\r\n                if (_this._music) {\r\n                    _this._chancel = Laya.SoundManager.playMusic(playUrl, loops, Laya.Handler.create(_this, function () {\r\n                        _this._onComplete && _this._onComplete();\r\n                        _this.stop();\r\n                    }), 0);\r\n                }\r\n                else {\r\n                    _this._chancel = Laya.SoundManager.playSound(playUrl, loops, Laya.Handler.create(_this, function () {\r\n                        _this._onComplete && _this._onComplete();\r\n                        _this.stop();\r\n                    }), null, 0);\r\n                }\r\n                looper_1.default.loop(_this, _this._update);\r\n            }\r\n        });\r\n    };\r\n    AudioController.prototype.pause = function () {\r\n        if (this._chancel && this._playing) {\r\n            this._onPause && this._onPause();\r\n            this._chancel.pause();\r\n            this._paused = true;\r\n            this._playing = false;\r\n            looper_1.default.clear(this, this._update);\r\n        }\r\n    };\r\n    AudioController.prototype.resume = function () {\r\n        if (this._chancel && this._paused) {\r\n            this._paused = false;\r\n            this._chancel.resume();\r\n            looper_1.default.loop(this, this._update);\r\n        }\r\n    };\r\n    AudioController.prototype.stop = function () {\r\n        if (this._chancel) {\r\n            this._onStop && this._onStop();\r\n            this._chancel.stop();\r\n            this._paused = false;\r\n            this._playing = false;\r\n            if (this._music) {\r\n                Laya.SoundManager.stopMusic();\r\n            }\r\n            else {\r\n                Laya.SoundManager.stopSound(this._auidoUrl);\r\n            }\r\n            Laya.SoundManager.removeChannel(this._chancel);\r\n            looper_1.default.clear(this, this._update);\r\n            this._chancel = null;\r\n        }\r\n    };\r\n    AudioController.prototype.destroy = function () {\r\n        this.stop();\r\n        this._onComplete = null;\r\n        this._onProgress = null;\r\n        this._onPlay = null;\r\n        this._onStop = null;\r\n        this._onPause = null;\r\n    };\r\n    AudioController._soundList = [];\r\n    return AudioController;\r\n}());\r\nvar _musicAudio = new AudioController(true);\r\nfunction playMusic(url, loops) {\r\n    if (loops === void 0) { loops = 1; }\r\n    _musicAudio.url = url;\r\n    _musicAudio.play(loops);\r\n    return _musicAudio;\r\n}\r\nfunction playSound(url, loops) {\r\n    if (loops === void 0) { loops = 1; }\r\n    var audio = new AudioController(false);\r\n    audio.url = url;\r\n    audio.play(loops);\r\n    return audio;\r\n}\r\nfunction stopMusic() {\r\n    _musicAudio.stop();\r\n}\r\nfunction stopAllSound() {\r\n    AudioController.stopAll();\r\n}\r\nfunction stopAll() {\r\n    stopMusic();\r\n    stopAllSound();\r\n}\r\nfunction setMusicVolume(volume) {\r\n    Laya.SoundManager.setMusicVolume(volume);\r\n}\r\nfunction setSoundVolume(volume) {\r\n    Laya.SoundManager.setSoundVolume(volume);\r\n}\r\nexports.default = {\r\n    playMusic: playMusic,\r\n    playSound: playSound,\r\n    stopAll: stopAll,\r\n    stopMusic: stopMusic,\r\n    stopAllSound: stopAllSound,\r\n    setMusicVolume: setMusicVolume,\r\n    setSoundVolume: setSoundVolume,\r\n};\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar onload_1 = require(\"../utils/onload\");\r\nfunction _loadJS(jspath, options, callback) {\r\n    try {\r\n        var _protocol = location.protocol != 'file:' ? location.protocol : 'http:';\r\n        var _script = document.createElement(\"script\");\r\n        Object.keys(options).forEach(function (key) {\r\n            _script.setAttribute(key, options[key]);\r\n        });\r\n        _script.type = \"text/javascript\";\r\n        if (jspath.indexOf('//') == 0) {\r\n            _script.src = _protocol + jspath;\r\n        }\r\n        else {\r\n            _script.src = jspath;\r\n        }\r\n        document.body.appendChild(_script);\r\n        _script.onerror = function (err) {\r\n            callback && callback(_script, err);\r\n        };\r\n        _script.onload = function () {\r\n            callback && callback(_script, null);\r\n        };\r\n    }\r\n    catch (error) {\r\n        callback && callback(undefined, error);\r\n    }\r\n}\r\nfunction loadJs(jspath, options) {\r\n    if (options === void 0) { options = {}; }\r\n    return onload_1.onload().then(function () {\r\n        return new Promise(function (resolve) {\r\n            if (!jspath) {\r\n                return resolve && resolve(undefined);\r\n            }\r\n            var index = 0;\r\n            var jsList = jspath.split(',');\r\n            var nodeList = [];\r\n            jsList.forEach(function (js) {\r\n                _loadJS(js, options, function (node, err) {\r\n                    nodeList[index] = { node: node, err: err };\r\n                    index++;\r\n                    if (index == jsList.length) {\r\n                        resolve && resolve(nodeList);\r\n                    }\r\n                });\r\n            });\r\n        });\r\n    });\r\n}\r\nexports.default = {\r\n    loadJs: loadJs\r\n};\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar _ready = null;\r\nfunction onload() {\r\n    if (!_ready) {\r\n        _ready = new Promise(function (reslove, reject) {\r\n            var _timer;\r\n            var _pollingDocument = function () {\r\n                if (!!document && document.readyState == 'complete') {\r\n                    _timer && clearTimeout(_timer);\r\n                    reslove(Date.now());\r\n                }\r\n                else {\r\n                    _timer = setTimeout(_pollingDocument, 1);\r\n                }\r\n            };\r\n            _timer = setTimeout(_pollingDocument, 1);\r\n        });\r\n    }\r\n    return _ready;\r\n}\r\nexports.onload = onload;\r\n","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Event = /** @class */ (function (_super) {\r\n    __extends(Event, _super);\r\n    function Event() {\r\n        var _this = _super.call(this) || this;\r\n        _this._dic = new Laya.Dictionary();\r\n        return _this;\r\n    }\r\n    Event.prototype.registeredEvent = function (type, fun, thisRef, index) {\r\n        if (index === void 0) { index = 1; }\r\n        var arr = [];\r\n        if (index == null)\r\n            index = 1;\r\n        if (this._dic[type]) {\r\n            arr = this._dic[type];\r\n            for (var i = 0; i < arr.length; i++) {\r\n                if (arr[i].fun == fun && arr[i].thisRef == thisRef) {\r\n                    if (index != arr[i].index) {\r\n                        arr[i].index = index;\r\n                        arr.sort(function (a, b) { return b.index - a.index; });\r\n                        this._dic[type] = arr;\r\n                    }\r\n                    return;\r\n                }\r\n            }\r\n        }\r\n        arr.push({ fun: fun, thisRef: thisRef, index: index });\r\n        arr.sort(function (a, b) { return b.index - a.index; });\r\n        this._dic[type] = arr;\r\n    };\r\n    Event.prototype.removeEvent = function (type, fun, thisRef) {\r\n        if (this._dic[type]) {\r\n            var arr = this._dic[type];\r\n            for (var i = 0; i < arr.length; i++) {\r\n                if (arr[i].fun == fun && arr[i].thisRef == thisRef) {\r\n                    arr[i] = null;\r\n                    arr.splice(i, 1);\r\n                    this._dic[type] = arr;\r\n                    return;\r\n                }\r\n            }\r\n        }\r\n    };\r\n    Event.prototype.sendEvent = function (type, args) {\r\n        if (args === void 0) { args = null; }\r\n        if (this._dic[type]) {\r\n            var arr = this._dic[type];\r\n            for (var i = 0; i < arr.length; i++) {\r\n                arr[i].fun.apply(arr[i].thisRef, args);\r\n            }\r\n        }\r\n    };\r\n    return Event;\r\n}(Laya.EventDispatcher));\r\nexports.default = new Event();\r\n","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar runtime;\r\n(function (runtime) {\r\n    runtime.clickSound = null;\r\n    runtime.clickAnimDuration = 100;\r\n    runtime.clickNormalProps = { scaleX: 1, scaleY: 1 };\r\n    runtime.clickDownProps = { scaleX: 1.2, scaleY: 1.2 };\r\n    function pivotCenter(view) {\r\n        view.x = view.x + view.width / 2 - view.pivotX;\r\n        view.y = view.y + view.height / 2 - view.pivotY;\r\n        view.pivot(view.width / 2, view.height / 2);\r\n    }\r\n    function setViewProps(view, props, duration) {\r\n        pivotCenter(view);\r\n        Laya.Tween.to(view, props, duration);\r\n    }\r\n    function playClickSound(sound) {\r\n        if (sound) {\r\n            sound != 'none' && Laya.SoundManager.playSound(sound, 1);\r\n        }\r\n        else if (runtime.clickSound) {\r\n            runtime.clickSound != 'none' && Laya.SoundManager.playSound(runtime.clickSound, 1);\r\n        }\r\n    }\r\n    function bindClick(view, onClick, onDown, onUp, onOut) {\r\n        pivotCenter(view);\r\n        view.offAll();\r\n        view.on(Laya.Event.CLICK, view, function () {\r\n            onClick && onClick();\r\n            playClickSound(view.clickSound);\r\n        });\r\n        view.on(Laya.Event.MOUSE_DOWN, view, function () {\r\n            setViewProps(view, view.clickDownProps || runtime.clickDownProps, view.clickAnimDuration || runtime.clickAnimDuration);\r\n            onDown && onDown();\r\n        });\r\n        view.on(Laya.Event.MOUSE_UP, view, function () {\r\n            setViewProps(view, view.clickNormalProps || runtime.clickNormalProps, view.clickAnimDuration || runtime.clickAnimDuration);\r\n            onUp && onUp();\r\n        });\r\n        view.on(Laya.Event.MOUSE_OUT, view, function () {\r\n            setViewProps(view, view.clickNormalProps || runtime.clickNormalProps, view.clickAnimDuration || runtime.clickAnimDuration);\r\n            onOut && onOut();\r\n        });\r\n    }\r\n    runtime.bindClick = bindClick;\r\n    var btn = /** @class */ (function (_super) {\r\n        __extends(btn, _super);\r\n        function btn() {\r\n            var _this = _super.call(this) || this;\r\n            _this.clickAnimDuration = null;\r\n            _this.clickDownProps = null;\r\n            _this.clickNormalProps = null;\r\n            _this.clickSound = null;\r\n            bindClick(_this);\r\n            return _this;\r\n        }\r\n        return btn;\r\n    }(Laya.Button));\r\n    runtime.btn = btn;\r\n    var btn_img = /** @class */ (function (_super) {\r\n        __extends(btn_img, _super);\r\n        function btn_img() {\r\n            var _this = _super.call(this) || this;\r\n            _this.clickAnimDuration = null;\r\n            _this.clickDownProps = null;\r\n            _this.clickNormalProps = null;\r\n            _this.clickSound = null;\r\n            bindClick(_this);\r\n            return _this;\r\n        }\r\n        return btn_img;\r\n    }(Laya.Image));\r\n    runtime.btn_img = btn_img;\r\n    var btn_label = /** @class */ (function (_super) {\r\n        __extends(btn_label, _super);\r\n        function btn_label() {\r\n            var _this = _super.call(this) || this;\r\n            _this.clickAnimDuration = null;\r\n            _this.clickDownProps = null;\r\n            _this.clickNormalProps = null;\r\n            _this.clickSound = null;\r\n            bindClick(_this);\r\n            return _this;\r\n        }\r\n        return btn_label;\r\n    }(Laya.Label));\r\n    runtime.btn_label = btn_label;\r\n    var btn_sprite = /** @class */ (function (_super) {\r\n        __extends(btn_sprite, _super);\r\n        function btn_sprite() {\r\n            var _this = _super.call(this) || this;\r\n            _this.clickAnimDuration = null;\r\n            _this.clickDownProps = null;\r\n            _this.clickNormalProps = null;\r\n            _this.clickSound = null;\r\n            bindClick(_this);\r\n            return _this;\r\n        }\r\n        return btn_sprite;\r\n    }(Laya.Sprite));\r\n    runtime.btn_sprite = btn_sprite;\r\n    var btn_box = /** @class */ (function (_super) {\r\n        __extends(btn_box, _super);\r\n        function btn_box() {\r\n            var _this = _super.call(this) || this;\r\n            _this.clickAnimDuration = null;\r\n            _this.clickDownProps = null;\r\n            _this.clickNormalProps = null;\r\n            _this.clickSound = null;\r\n            bindClick(_this);\r\n            return _this;\r\n        }\r\n        return btn_box;\r\n    }(Laya.Box));\r\n    runtime.btn_box = btn_box;\r\n    var page_list = /** @class */ (function (_super) {\r\n        __extends(page_list, _super);\r\n        function page_list() {\r\n            var _this = _super.call(this) || this;\r\n            _this._isDown = false;\r\n            _this._onLoadMoreHandler = null;\r\n            _this._loading = false;\r\n            _this._preCount = 5;\r\n            _this.on(Laya.Event.MOUSE_UP, _this, _this.onMouseUp);\r\n            _this.on(Laya.Event.MOUSE_OUT, _this, _this.onMouseOut);\r\n            _this.on(Laya.Event.MOUSE_DOWN, _this, _this.onMouseDown);\r\n            _this.renderHandler = Laya.Handler.create(_this, _this.renderItem);\r\n            return _this;\r\n        }\r\n        page_list.prototype.destroy = function () {\r\n            this.off(Laya.Event.MOUSE_UP, this, this.onMouseUp);\r\n            this.off(Laya.Event.MOUSE_OUT, this, this.onMouseOut);\r\n        };\r\n        page_list.prototype.refresh = function () {\r\n            _super.prototype.refresh.call(this);\r\n            this._updatePage();\r\n        };\r\n        page_list.prototype.onMouseDown = function () {\r\n            this._isDown = true;\r\n        };\r\n        page_list.prototype.onMouseUp = function (event) {\r\n            this._updatePage();\r\n            this._isDown = false;\r\n        };\r\n        page_list.prototype.onMouseOut = function (event) {\r\n            this._updatePage();\r\n            this._isDown = false;\r\n        };\r\n        Object.defineProperty(page_list.prototype, \"preCount\", {\r\n            get: function () {\r\n                return this._preCount;\r\n            },\r\n            set: function (count) {\r\n                this._preCount = count;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(page_list.prototype, \"loading\", {\r\n            get: function () {\r\n                return this._loading;\r\n            },\r\n            set: function (loading) {\r\n                this._loading = loading;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(page_list.prototype, \"onLoadMoreHandler\", {\r\n            get: function () {\r\n                return this._onLoadMoreHandler;\r\n            },\r\n            set: function (handler) {\r\n                this._onLoadMoreHandler = handler;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        page_list.prototype._updatePage = function () {\r\n            if (!this._isDown) {\r\n                return;\r\n            }\r\n            var length = this._array.length;\r\n            var maxHeight = length * this._cellSize;\r\n            var currentPos = this._cellOffset + this.scrollBar.value + this.height;\r\n            var lastCount = Math.floor((maxHeight - currentPos) / this._cellSize);\r\n            if (lastCount < 0) {\r\n                lastCount = 0;\r\n            }\r\n            if (!this._loading && this.preCount >= lastCount) {\r\n                this._onLoadMoreHandler && this._onLoadMoreHandler(lastCount);\r\n            }\r\n        };\r\n        return page_list;\r\n    }(Laya.List));\r\n    runtime.page_list = page_list;\r\n    var page_view = /** @class */ (function (_super) {\r\n        __extends(page_view, _super);\r\n        function page_view() {\r\n            var _this = _super.call(this) || this;\r\n            _this._isDown = false;\r\n            _this._currentPage = 0;\r\n            _this._onPageChange = null;\r\n            _this.on(Laya.Event.MOUSE_UP, _this, _this.onMouseUp);\r\n            _this.on(Laya.Event.MOUSE_OUT, _this, _this.onMouseOut);\r\n            _this.on(Laya.Event.MOUSE_DOWN, _this, _this.onMouseDown);\r\n            _this.renderHandler = Laya.Handler.create(_this, _this.renderItem);\r\n            return _this;\r\n        }\r\n        page_view.prototype.destroy = function () {\r\n            this.off(Laya.Event.MOUSE_UP, this, this.onMouseUp);\r\n            this.off(Laya.Event.MOUSE_OUT, this, this.onMouseOut);\r\n        };\r\n        Object.defineProperty(page_view.prototype, \"pageId\", {\r\n            get: function () {\r\n                return this._currentPage;\r\n            },\r\n            set: function (n) {\r\n                this._currentPage = n;\r\n                if (this._currentPage < 0) {\r\n                    this._currentPage = 0;\r\n                }\r\n                this.tweenTo(n);\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(page_view.prototype, \"onPageChangeHandler\", {\r\n            get: function () {\r\n                return this._onPageChange;\r\n            },\r\n            set: function (handler) {\r\n                this._onPageChange = handler;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        page_view.prototype.onMouseDown = function () {\r\n            this._isDown = true;\r\n        };\r\n        page_view.prototype.onMouseUp = function (event) {\r\n            this._updatePage();\r\n            this._isDown = false;\r\n        };\r\n        page_view.prototype.onMouseOut = function (event) {\r\n            this._updatePage();\r\n            this._isDown = false;\r\n        };\r\n        page_view.prototype._updatePage = function () {\r\n            if (!this._isDown) {\r\n                return;\r\n            }\r\n            this.scrollBar.stopScroll();\r\n            var total = this._cellOffset > 0 ? this.totalPage + 1 : this.totalPage;\r\n            if (total > 1) {\r\n                var changeSize = this._cellSize / 6;\r\n                var sss = this._currentPage * this._cellSize;\r\n                if (Math.abs(this.scrollBar.value - sss) > changeSize) {\r\n                    if (this.scrollBar.value > sss) {\r\n                        this._currentPage++;\r\n                    }\r\n                    else {\r\n                        this._currentPage--;\r\n                    }\r\n                }\r\n                if (this._currentPage > total) {\r\n                    this._currentPage = total + 1;\r\n                }\r\n                if (this._currentPage < 0) {\r\n                    this._currentPage = 0;\r\n                }\r\n            }\r\n            this.tweenTo(this._currentPage);\r\n            if (this._onPageChange) {\r\n                this._onPageChange(this._currentPage);\r\n            }\r\n        };\r\n        return page_view;\r\n    }(Laya.List));\r\n    runtime.page_view = page_view;\r\n})(runtime || (runtime = {}));\r\nexports.default = runtime;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar env_1 = require(\"./env\");\r\nvar any_1 = require(\"../utils/any\");\r\nvar _listeners = [];\r\nfunction onMessage(callback) {\r\n    if (callback && typeof callback == \"function\" && _listeners.indexOf(callback) < 0) {\r\n        _listeners.push(callback);\r\n    }\r\n}\r\nfunction postMessage(data) {\r\n    if (data === void 0) { data = {}; }\r\n    if (env_1.default.isConchApp()) {\r\n        Laya.conchMarket.sendMessageToPlatform(any_1.toAny(data, \"{}\"), function (resp) {\r\n            env_1.default.printDebug(\"conch message callback: \", resp);\r\n        });\r\n    }\r\n    else {\r\n        window.parent.postMessage(any_1.toAny(data, {}), '*');\r\n    }\r\n}\r\nfunction _initMessage() {\r\n    var name = \"__dispatchMessage__\";\r\n    if (typeof window !== \"undefined\") {\r\n        window[name] = function (data) {\r\n            if (data) {\r\n                _listeners.forEach(function (callback) { return callback(any_1.toAny(data, {})); });\r\n            }\r\n        };\r\n    }\r\n    window.addEventListener(\"message\", function (msg) {\r\n        if (msg && msg.data) {\r\n            _listeners.forEach(function (callback) { return callback(any_1.toAny(msg.data, {})); });\r\n        }\r\n    });\r\n}\r\n(function () {\r\n    _initMessage();\r\n})();\r\nexports.default = {\r\n    postMessage: postMessage,\r\n    onMessage: onMessage\r\n};\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar any_1 = require(\"../utils/any\");\r\nvar json_1 = require(\"../utils/json\");\r\nfunction randomUUID() {\r\n    var _s4 = function () { return (((1 + Math.random()) * 0x10000) | 0).toString(16).substring(1); };\r\n    return (_s4() + _s4() + \"-\" + _s4() + \"-\" + _s4() + \"-\" + _s4() + \"-\" + _s4() + _s4() + _s4());\r\n}\r\nfunction randomNumber(minNum, maxNum) {\r\n    switch (arguments.length) {\r\n        case 1:\r\n            return Math.random() * minNum + 1;\r\n        case 2:\r\n            return Math.random() * (maxNum - minNum + 1) + minNum;\r\n        default:\r\n            return 0;\r\n    }\r\n}\r\nfunction randomInteger(minNum, maxNum) {\r\n    switch (arguments.length) {\r\n        case 1:\r\n            return Math.floor(Math.random() * minNum + 1);\r\n        case 2:\r\n            return Math.floor(Math.random() * (maxNum - minNum + 1) + minNum);\r\n        default:\r\n            return 0;\r\n    }\r\n}\r\nfunction randomArray(source, length) {\r\n    if (length === void 0) { length = -1; }\r\n    var randomLength = length == -1 ? source.length : length;\r\n    randomLength = Math.min(randomLength, source.length);\r\n    var copy = source.concat([]);\r\n    var result = [];\r\n    while (result.length < randomLength) {\r\n        var randomObj = randomArrayItem(copy);\r\n        result.push(randomObj);\r\n        copy.splice(copy.indexOf(randomLength), 1);\r\n    }\r\n    return result;\r\n}\r\nfunction randomArrayItem(source) {\r\n    if (source.length > 0) {\r\n        return source[Math.floor(Math.random() * source.length)];\r\n    }\r\n    return undefined;\r\n}\r\nexports.default = {\r\n    randomUUID: randomUUID,\r\n    randomInteger: randomInteger,\r\n    randomNumber: randomNumber,\r\n    randomArray: randomArray,\r\n    randomArrayItem: randomArrayItem,\r\n    loadJson: json_1.loadJson,\r\n    toAny: any_1.toAny\r\n};\r\n","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar stack_1 = require(\"../navigator/stack\");\r\nvar screen_1 = require(\"../manager/screen\");\r\nvar component_1 = require(\"./component\");\r\nvar Activity = /** @class */ (function (_super) {\r\n    __extends(Activity, _super);\r\n    function Activity(options) {\r\n        var _this = _super.call(this, function () { _this.back(); }) || this;\r\n        _this.page = null;\r\n        _this.params = {};\r\n        _this.duration = 0;\r\n        _this.easeIn = null;\r\n        _this.easeOut = null;\r\n        _this.fromProps = null;\r\n        _this.toProps = null;\r\n        _this.exitProps = null;\r\n        _this.ui = new Laya.Component;\r\n        _this.width = screen_1.default.getDesignWidth();\r\n        _this.height = screen_1.default.getDesignHeight();\r\n        _this.params = Object.assign({}, options.params || {});\r\n        _this.page = options.page;\r\n        return _this;\r\n    }\r\n    Activity.create = function (opts) {\r\n        var NewAct = /** @class */ (function (_super) {\r\n            __extends(NewAct, _super);\r\n            function NewAct(options) {\r\n                var _this = _super.call(this, options) || this;\r\n                _this.opts = null;\r\n                _this.opts = opts || {};\r\n                Object.assign(_this, _this.opts);\r\n                NewAct.single = _this.opts.single;\r\n                NewAct.res = _this.opts.res;\r\n                return _this;\r\n            }\r\n            NewAct.prototype.onCreate = function () {\r\n                this.opts.onCreate && this.opts.onCreate();\r\n            };\r\n            NewAct.prototype.onPause = function () {\r\n                this.opts.onPause && this.opts.onPause();\r\n            };\r\n            NewAct.prototype.onResume = function () {\r\n                this.opts.onResume && this.opts.onResume();\r\n            };\r\n            NewAct.prototype.onDestroy = function () {\r\n                this.opts.onDestroy && this.opts.onDestroy();\r\n            };\r\n            NewAct.prototype.onFocus = function (focus) {\r\n                this.opts.onFocus && this.opts.onFocus(focus);\r\n            };\r\n            NewAct.prototype.onNextProgress = function (progress) {\r\n                this.opts.onNextProgress && this.opts.onNextProgress(progress);\r\n            };\r\n            return NewAct;\r\n        }(Activity));\r\n        return NewAct;\r\n    };\r\n    Activity.open = function (params, action) {\r\n        stack_1.default.navigate(this, params, action);\r\n    };\r\n    Activity.finish = function () {\r\n        stack_1.default.finish(this);\r\n    };\r\n    //////////////////////////\r\n    /// navigator function\r\n    //////////////////////////\r\n    Activity.prototype.redirectTo = function (page, params, action, single) {\r\n        var _this = this;\r\n        if (params === void 0) { params = {}; }\r\n        if (action === void 0) { action = null; }\r\n        if (single === void 0) { single = false; }\r\n        this.navigate(page, params, function () {\r\n            _this.back();\r\n            action && action();\r\n        }, single);\r\n    };\r\n    Activity.prototype.navigate = function (page, params, action, single) {\r\n        if (params === void 0) { params = {}; }\r\n        if (action === void 0) { action = null; }\r\n        if (single === void 0) { single = false; }\r\n        stack_1.default.navigate(page, params, action, single);\r\n    };\r\n    Activity.prototype.back = function () {\r\n        stack_1.default.finish(this.page, this);\r\n    };\r\n    Activity.prototype.finish = function (page, instance) {\r\n        if (page === void 0) { page = this.page; }\r\n        if (instance === void 0) { instance = null; }\r\n        stack_1.default.finish(page, instance);\r\n    };\r\n    Activity.prototype.pop = function (number) {\r\n        if (number === void 0) { number = 1; }\r\n        stack_1.default.pop(number);\r\n    };\r\n    Activity.prototype.popToTop = function () {\r\n        stack_1.default.popToTop();\r\n    };\r\n    Activity.res = [];\r\n    Activity.unpackFile = null;\r\n    Activity.single = false;\r\n    return Activity;\r\n}(component_1.default));\r\nexports.default = Activity;\r\n","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar popupmanager_1 = require(\"./popupmanager\");\r\nvar screen_1 = require(\"../manager/screen\");\r\nvar pipeline_1 = require(\"../pipeline\");\r\nvar component_1 = require(\"./component\");\r\nvar PopupView = /** @class */ (function (_super) {\r\n    __extends(PopupView, _super);\r\n    function PopupView() {\r\n        var _this = _super.call(this, function () {\r\n            _this.hide();\r\n        }) || this;\r\n        _this.duration = 300;\r\n        _this.easeIn = null;\r\n        _this.easeOut = null;\r\n        _this.fromProps = null;\r\n        _this.toProps = null;\r\n        _this.exitProps = null;\r\n        _this.uiDuration = 300;\r\n        _this.uiEaseIn = null;\r\n        _this.uiEaseOut = null;\r\n        _this.uiFromProps = null;\r\n        _this.uiToProps = null;\r\n        _this.uiExitProps = null;\r\n        _this.topLevel = false;\r\n        _this.isTranslucent = false;\r\n        _this.canceledOnTouchOutside = false;\r\n        _this.nonPenetrating = true;\r\n        _this.width = screen_1.default.getDesignWidth();\r\n        _this.height = screen_1.default.getDesignHeight();\r\n        return _this;\r\n    }\r\n    PopupView.show = function (params, onHide, alias) {\r\n        popupmanager_1.default.showPopup(this, params, onHide, alias);\r\n    };\r\n    PopupView.signleShow = function (params, onHide, alias) {\r\n        popupmanager_1.default.hidePopup(this, null, null, alias);\r\n        popupmanager_1.default.showPopup(this, params, onHide, alias);\r\n    };\r\n    PopupView.pipeShow = function (params, onHide, alias) {\r\n        var _this = this;\r\n        pipeline_1.default.put(\"popup\", function () {\r\n            popupmanager_1.default.showPopup(_this, params, function () {\r\n                var args = [];\r\n                for (var _i = 0; _i < arguments.length; _i++) {\r\n                    args[_i] = arguments[_i];\r\n                }\r\n                onHide && onHide.apply(void 0, args);\r\n                pipeline_1.default.next(\"popup\");\r\n            }, alias);\r\n        });\r\n    };\r\n    PopupView.hide = function (result, alias) {\r\n        popupmanager_1.default.hidePopup(this, null, result, alias);\r\n    };\r\n    PopupView.prototype.hide = function (result) {\r\n        if (result === void 0) { result = null; }\r\n        popupmanager_1.default.hidePopup(this.popup, this, result, this.alias);\r\n    };\r\n    return PopupView;\r\n}(component_1.default));\r\nexports.default = PopupView;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar env_1 = require(\"./env\");\r\nvar _pipeline_map = {};\r\nfunction _check(type) {\r\n    if (_pipeline_map[type]) {\r\n        var pipe = _pipeline_map[type];\r\n        if (pipe.funcs.length <= 0) {\r\n            return;\r\n        }\r\n        if (pipe.padding) {\r\n            setTimeout(function () {\r\n                _check(type);\r\n            }, 500);\r\n            return;\r\n        }\r\n        var func = pipe.funcs.shift();\r\n        func && func();\r\n        pipe.padding = true;\r\n        _check(type);\r\n    }\r\n}\r\nfunction put(type, func) {\r\n    if (type && typeof func === \"function\") {\r\n        env_1.default.printDebug(\"put pipe to : \", type);\r\n        if (_pipeline_map[type]) {\r\n            _pipeline_map[type].funcs.push(func);\r\n        }\r\n        else {\r\n            _pipeline_map[type] = { padding: false, funcs: [func] };\r\n        }\r\n        _check(type);\r\n    }\r\n}\r\nfunction next(type) {\r\n    if (_pipeline_map[type]) {\r\n        env_1.default.printDebug(\"next pipe as : \", type);\r\n        _pipeline_map[type].padding = false;\r\n        _check(type);\r\n    }\r\n}\r\nexports.default = {\r\n    put: put,\r\n    next: next,\r\n};\r\n","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar toastmanager_1 = require(\"./toastmanager\");\r\nvar screen_1 = require(\"../manager/screen\");\r\nvar component_1 = require(\"./component\");\r\nvar ToastView = /** @class */ (function (_super) {\r\n    __extends(ToastView, _super);\r\n    function ToastView() {\r\n        var _this = _super.call(this, function () { _this.hide(); }) || this;\r\n        _this.duration = 200;\r\n        _this.displayDuration = 1000;\r\n        _this.easeIn = null;\r\n        _this.easeOut = null;\r\n        _this.fromProps = null;\r\n        _this.toProps = null;\r\n        _this.exitProps = null;\r\n        _this.topLevel = true;\r\n        _this.width = screen_1.default.getDesignWidth();\r\n        _this.height = screen_1.default.getDesignHeight();\r\n        return _this;\r\n    }\r\n    ToastView.show = function (params, onHide) {\r\n        toastmanager_1.default.showToast(this, params, onHide);\r\n    };\r\n    ToastView.hide = function () {\r\n        toastmanager_1.default.hideToast(this);\r\n    };\r\n    ToastView.prototype.hide = function () {\r\n        toastmanager_1.default.hideToast(this.toast, this);\r\n    };\r\n    return ToastView;\r\n}(component_1.default));\r\nexports.default = ToastView;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nfunction stringifyQuery(query) {\r\n    return Object.keys(query).map(function (key) {\r\n        var value = query[key];\r\n        return key + \"=\" + encodeURIComponent(value);\r\n    }).join('&');\r\n}\r\nexports.stringifyQuery = stringifyQuery;\r\nfunction decodeQuery(query) {\r\n    return Object.keys(query).reduce(function (result, key) {\r\n        var value = query[key];\r\n        result[key] = decodeURIComponent(value);\r\n        return result;\r\n    }, {});\r\n}\r\nexports.decodeQuery = decodeQuery;\r\nfunction parseQueryParams(path) {\r\n    var url = '';\r\n    var params = {};\r\n    if (!path || typeof path !== 'string') {\r\n        return { url: url, params: params };\r\n    }\r\n    var queryString = '';\r\n    var indexE = path.indexOf('?');\r\n    var indexW = path.indexOf('#');\r\n    var indexQ = path.indexOf('=');\r\n    if (indexE >= 0) {\r\n        url = path.substring(0, indexE);\r\n        queryString = path.substring(indexE + 1, indexW > 0 ? indexW : path.length);\r\n    }\r\n    else if (indexQ >= 0) {\r\n        url = '';\r\n        queryString = path;\r\n    }\r\n    else {\r\n        url = path;\r\n        queryString = '';\r\n    }\r\n    queryString.split('&').map(function (item) {\r\n        var index = item.indexOf(\"=\");\r\n        if (index > 0) {\r\n            var key = item.substring(0, index);\r\n            var value = item.substring(index + 1);\r\n            params[key] = decodeURIComponent(value);\r\n        }\r\n    });\r\n    return { url: url, params: params };\r\n}\r\nexports.parseQueryParams = parseQueryParams;\r\nfunction appendQueryParams(path, query) {\r\n    if (query === void 0) { query = {}; }\r\n    var _a = parseQueryParams(path), url = _a.url, params = _a.params;\r\n    Object.keys(query).forEach(function (key) {\r\n        var value = query[key];\r\n        if (value !== undefined && value !== null) {\r\n            params[key] = value;\r\n        }\r\n        else {\r\n            delete params[key];\r\n        }\r\n    });\r\n    var queryString = Object.keys(params).map(function (key) {\r\n        var value = params[key];\r\n        return key + \"=\" + encodeURIComponent(value);\r\n    }).join('&');\r\n    ;\r\n    if (!url) {\r\n        return queryString;\r\n    }\r\n    if (!queryString) {\r\n        return url;\r\n    }\r\n    return url + \"?\" + queryString;\r\n}\r\nexports.appendQueryParams = appendQueryParams;\r\nfunction getQueryString(key, def) {\r\n    if (typeof window !== \"undefined\" && window.location) {\r\n        var search = window.location.search || '';\r\n        var reg = new RegExp(\"(^|&)\" + key + \"=([^&]*)(&|$)\");\r\n        var r = search.substr(1).match(reg);\r\n        if (r != null) {\r\n            return decodeURIComponent(unescape(r[2]));\r\n        }\r\n    }\r\n    return def;\r\n}\r\nexports.getQueryString = getQueryString;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar env_1 = require(\"./env\");\r\nvar screen_1 = require(\"./manager/screen\");\r\nvar init_1 = require(\"./navigator/init\");\r\nvar hook_1 = require(\"./hook\");\r\nvar _inited = false;\r\nvar _transparent = false;\r\nvar _adapterInfo = null;\r\nfunction handleAdapter() {\r\n    try {\r\n        if (_adapterInfo) {\r\n            var stage = Laya.stage;\r\n            stage.width = _adapterInfo.width;\r\n            stage.height = _adapterInfo.height;\r\n            stage.scale(_adapterInfo.scaleX, _adapterInfo.scaleY);\r\n        }\r\n    }\r\n    catch (error) {\r\n    }\r\n}\r\nfunction setTransparent(transparent) {\r\n    _transparent = transparent;\r\n}\r\nexports.setTransparent = setTransparent;\r\nfunction setAdapterInfo(adapterInfo) {\r\n    _adapterInfo = adapterInfo;\r\n}\r\nexports.setAdapterInfo = setAdapterInfo;\r\nfunction init(width, height) {\r\n    var options = [];\r\n    for (var _i = 2; _i < arguments.length; _i++) {\r\n        options[_i - 2] = arguments[_i];\r\n    }\r\n    if (_inited) {\r\n        return;\r\n    }\r\n    if (!env_1.default.isLayaApp()) {\r\n        env_1.default.printError('Please ensure that the \\'Laya\\' library has been introduced.');\r\n        return;\r\n    }\r\n    screen_1.initScreen.apply(void 0, [false, _transparent, width, height].concat(options));\r\n    hook_1.callHookInit.apply(void 0, [width, height].concat(options));\r\n    handleAdapter();\r\n    _inited = true;\r\n    env_1.default.printDebug(\"init...\");\r\n    env_1.default.printDebug(\"offest: \" + screen_1.default.getOffestX() + \", \" + screen_1.default.getOffestY());\r\n    env_1.default.printDebug(\"app_version: \" + env_1.default.getAppVersion());\r\n    env_1.default.printDebug(\"version: \" + env_1.default.getVersion());\r\n    env_1.default.printDebug(\"debug: \" + env_1.default.isDebug());\r\n    env_1.default.printDebug(\"env: \" + env_1.default.getEnv());\r\n}\r\nexports.init = init;\r\nfunction init3D(width, height) {\r\n    var options = [];\r\n    for (var _i = 2; _i < arguments.length; _i++) {\r\n        options[_i - 2] = arguments[_i];\r\n    }\r\n    if (_inited) {\r\n        return;\r\n    }\r\n    if (!env_1.default.isLayaApp()) {\r\n        env_1.default.printError('Please ensure that the \\'Laya\\' library has been introduced.');\r\n        return;\r\n    }\r\n    screen_1.initScreen.apply(void 0, [true, _transparent, width, height].concat(options));\r\n    handleAdapter();\r\n    hook_1.callHookInit.apply(void 0, [width, height].concat(options));\r\n    _inited = true;\r\n    env_1.default.printDebug(\"init3D...\");\r\n    env_1.default.printDebug(\"offest: \" + screen_1.default.getOffestX() + \", \" + screen_1.default.getOffestY());\r\n    env_1.default.printDebug(\"app_version: \" + env_1.default.getAppVersion());\r\n    env_1.default.printDebug(\"version: \" + env_1.default.getVersion());\r\n    env_1.default.printDebug(\"debug: \" + env_1.default.isDebug());\r\n    env_1.default.printDebug(\"env: \" + env_1.default.getEnv());\r\n}\r\nexports.init3D = init3D;\r\nfunction start(options, onLoaded, onLoadProgress) {\r\n    if (onLoaded === void 0) { onLoaded = null; }\r\n    if (onLoadProgress === void 0) { onLoadProgress = null; }\r\n    if (!_inited) {\r\n        env_1.default.printError('Please complete the initialization of Tape first.');\r\n        return;\r\n    }\r\n    if (!options) {\r\n        options = {};\r\n    }\r\n    var newOptions = {\r\n        mainPage: options.mainPage || null,\r\n        commonRes: options.commonRes || [],\r\n        fileVersion: options.fileVersion,\r\n        onLoadProgress: function (progress) {\r\n            options.onLoadProgress && options.onLoadProgress(progress);\r\n            onLoadProgress && onLoadProgress(progress);\r\n        },\r\n        onLoaded: function () {\r\n            onLoaded && onLoaded();\r\n            options.onLoaded && options.onLoaded();\r\n        }\r\n    };\r\n    init_1.initNavigator(newOptions);\r\n    init_1.setNavigatorReady();\r\n}\r\nexports.start = start;\r\n"],"sourceRoot":""}